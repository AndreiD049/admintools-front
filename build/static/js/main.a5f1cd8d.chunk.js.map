{"version":3,"sources":["services/NotificationService.js","components/notification/NotificationContainer.jsx","utils/constants.js","components/notification/Notification.jsx","components/notification/index.js","components/shared/table/Table.jsx","components/shared/table/index.js","components/shared/login-required/LoginRequired.jsx","components/shared/login-required/index.js","services/validators/operators.js","services/validators/UserValidators.js","services/validators/General.js","services/validators/AppraisalValidators.js","services/validators/index.js","services/GlobalContext.js","services/AuthorizationService.js","services/LoginService.js","components/shared/user-info-provider/index.js","components/shared/user-info-provider/UserInfoProvider.jsx","components/shared/user-securities-provider/index.js","components/shared/user-securities-provider/UserSecuritiesProvider.jsx","styles/keytipStyles.js","themes/lightTheme.js","themes/darkTheme.js","themes/warmTheme.js","themes/blackWhiteTheme.js","themes/index.js","components/shared/select-theme/theme_dark_icon.png","components/shared/select-theme/theme_light_icon.png","components/shared/select-theme/theme_solarized_icon.png","components/shared/select-theme/theme_blackwhite_icon.png","components/shared/select-theme/SelectTheme.jsx","components/navigation/components/choose-theme-modal/ChooseThemeModal.jsx","components/navigation/components/user-info/UserInfo.jsx","components/navigation/components/app-bar/AppBar.jsx","components/navigation/components/app-bar/index.js","components/navigation/components/drawer/Drawer.jsx","components/navigation/components/drawer/index.js","components/navigation/Navigation.jsx","components/shared/authorization-redirect-component/index.js","components/shared/authorization-redirect-component/AuthorizationRedirectComponent.jsx","components/appraisal-details/components/appraisal-info/index.js","components/appraisal-details/components/appraisal-info/AppraisalDetailsInfo.jsx","services/UserService.js","components/shared/single-picker/SinglePicker.jsx","components/shared/team-mates-autocomplete/index.js","components/shared/team-mates-autocomplete/TeamMatesAutocomplete.jsx","components/appraisal-details/components/appraisal-user-redirect/AppraisalUserRedirect.jsx","components/appraisal-details/components/appraisal-user-redirect/index.js","components/shared/authorization-component/index.js","components/shared/authorization-component/AuthorizationComponent.jsx","components/shared/chip/Chip.jsx","components/shared/chip/index.js","components/appraisal-details/components/appraisal-input/AppraisalInput.jsx","components/appraisal-details/components/appraisal-input/index.js","components/shared/box/Box.jsx","components/shared/box/index.js","components/appraisal-details/components/appraisal-field-set/FieldSet.jsx","components/appraisal-details/components/appraisal-field-set/index.js","components/appraisal-details/components/appraisal-details-display/AppraisalDetailsDisplay.jsx","components/appraisal-details/components/appraisal-details-display/index.js","components/appraisal-details/components/appraisal-user-info/index.js","components/appraisal-details/components/appraisal-user-info/AppraisalUserInfo.jsx","components/appraisal-details/components/appraisal-user-details-display/AppraisalUserDetails.jsx","components/appraisal-details/components/appraisal-user-details-display/index.js","components/appraisal-details/index.js","components/appraisal-details/AppraisalDetails.jsx","routes/appraisal-details/index.js","routes/appraisal-details/AppraisalDetailsPage.jsx","components/appraisal-list/panel-new/PanelNew.jsx","components/appraisal-list/panel-edit/PanelEdit.jsx","routes/appraisals/AppraisalsPage.jsx","routes/appraisals/index.js","routes/settings-general/index.js","routes/settings-general/SettingsGeneral.jsx","services/TeamService.js","routes/settings-users/components/user-edit-panel/UserEditPanel.jsx","routes/settings-users/components/user-edit-panel/index.js","routes/settings-users/index.js","routes/settings-users/SettingsUsers.jsx","routes/settings-app-periods/index.js","routes/settings-app-periods/SettingsAppraisalPeriods.jsx","routes/settings-app-items/index.js","routes/settings-app-items/SettingsAppraisalItems.jsx","components/appraisal-details/components/security-details/components/security-info-provider/index.js","components/appraisal-details/components/security-details/components/security-info-provider/SecurityInfoProvider.jsx","components/appraisal-details/components/security-details/components/security-details-role-display/SecurityDetailsRoleDisplay.jsx","components/appraisal-details/components/security-details/components/security-details-role-display/index.js","components/appraisal-details/components/security-details/components/security-details-user-display/SecurityDetailsUserDisplay.jsx","components/appraisal-details/components/security-details/components/security-details-user-display/index.js","components/appraisal-details/components/security-details/SecurityDetails.jsx","routes/settings-role-permissions/index.js","routes/settings-role-permissions/SettingsRoles.jsx","routes/settings/index.js","routes/settings/SettingsPage.jsx","components/reports/components/reports-info-provider/ReportsInfoProvider.jsx","components/reports/components/reports-info-provider/index.js","components/reports/components/reports-new-panel/ReportsNewPanel.jsx","components/reports/components/reports-new-panel/index.js","components/reports/components/reports-details-panel/ReportsDetailsPanel.jsx","components/reports/components/reports-edit-panel/ReportsEditPanel.jsx","components/reports/components/reports-edit-panel/index.js","components/reports/index.js","components/reports/Reports.jsx","routes/reporting-reports/index.js","routes/reporting-reports/ReportsPage.jsx","components/report-templates/index.js","routes/reporting-templates/index.js","routes/reporting-templates/ReportTemplatesPage.jsx","components/appraisal-report/AppraisalReport.jsx","routes/reporting/index.js","routes/reporting/ReportingPage.jsx","routes/login/assets/bored.svg","routes/login/LoginPage.jsx","routes/login/index.js","services/hooks/useFetch.js","services/tasks/TaskService.js","utils/date.js","components/ui-hooks/usePanel.jsx","components/shared/people-picker/PeoplePicker.jsx","components/task-dashboard/components/add-task/AddTask.jsx","components/task-dashboard/components/add-task/index.js","components/task-dashboard/components/current-date/CurrentDate.jsx","components/task-dashboard/components/task-personas/TaskPersonas.jsx","components/task-dashboard/components/task-collapsed/TaskCollapsed.jsx","components/task-dashboard/components/task-item/TaskItem.jsx","components/task-dashboard/components/task-item/index.js","components/task-dashboard/components/task-container/TaskContainer.jsx","components/task-dashboard/components/working-hours/WorkingHours.jsx","components/ui-hooks/useDialog.jsx","components/task-dashboard/components/task-busy-conflict/TaskBusyConflict.jsx","components/ui-hooks/useLocalStorage.jsx","services/ConnectionService.js","components/task-dashboard/components/task-live-update/TaskLiveUpdate.jsx","components/task-dashboard/TaskDashboard.jsx","utils/serviceRequestWrapper.js","services/tasks/TaskFlowService.js","components/task-flows/components/add-flow/AddFlow.jsx","components/task-flows/components/edit-flow/EditFlow.jsx","components/task-flows/index.js","components/task-flows/TaskFlows.jsx","components/task-planning/components/planning-cell/PlanningCell.jsx","components/task-planning/components/planning-matrix/PlanningMatrix.jsx","services/tasks/TaskPlanningService.js","components/task-planning/components/flow-picker/FlowPicker.jsx","components/task-planning/components/flow-picker/index.js","components/task-planning/components/planning-flows-dialog/PlanningFlowsDialog.jsx","components/task-planning/components/planning-flows-dialog/index.js","components/task-planning/TaskPlanning.jsx","services/tasks/TaskRuleService.js","components/task-rules/components/add-rule-type/AddRuleType.jsx","components/task-rules/components/add-rule/AddRule.jsx","components/task-rules/components/rule-details/RuleDetails.jsx","components/task-rules/index.js","components/task-rules/TaskRules.jsx","routes/tasks/index.js","routes/tasks/Tasks.jsx","components/shared/connection-manager/ConnectionManager.jsx","components/app/App.jsx","components/app/index.js","index.js","components/shared/accordion/index.js","components/report-templates/components/create-panel/CreateTemplatePanel.jsx","components/report-templates/components/create-panel/index.js","components/report-templates/components/details-panel/TemplateDetailsPanel.jsx","components/report-templates/components/details-panel/index.js","components/report-templates/components/edit-panel/TemplateEditPanel.jsx","components/report-templates/ReportTemplates.jsx","services/ReportingService.js","services/AppraisalService.js","components/shared/page-header/index.js","components/shared/command-table/CommandTable.jsx","components/shared/Emitter/Emitter.js","components/shared/Emitter/index.js","components/shared/page-header/PageHeader.jsx","components/shared/accordion/Accordion.jsx"],"names":["NotificationService","notify","text","type","actions","Emitter","emit","onRender","onDismiss","notifyError","this","notifySuccess","notifyInfo","notifySevereWarning","NotificationContainer","timeout","useState","items","setItems","idx","prev","found","find","i","id","timer","clearTimeout","filter","useEffect","on","item","uuid","bind","setTimeout","prevState","off","className","map","classNames","constants","dialogAnswers","Yes","No","Cancel","Ok","timeOptions","options","h","m","str","slice","push","key","connections","INSERT","UPDATE","DELETE","tasks","status","New","InProgress","Paused","Finished","Cancelled","types","Daily","Weekly","Monthly","DayTypes","Workday","Calendar","MonthlyOnType","Day","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday","colors","securities","REPORTS","code","description","grants","read","create","update","delete","APPRAISAL_DETAILS","createFinished","updateFinished","deleteFinished","APPRAISAL_DETAILS_OTHER","toggleLock","APPRAISAL_PERIODS","finish","SETTINGS","general","users","appraisalItems","appraisalPeriods","permissions","AUDITS","REPORT_TEMPLATES","TASK","TASK_RULE","TASK_FLOW","TASK_PLANNING","Notification","typeMessage","MessageBarType","success","warning","error","info","blocked","severeWarning","MessageBar","messageBarType","Text","variant","Table","columns","searchValue","sortedCol","setSelectionDetails","props","sortedColumn","setSortedColumn","_columns","setColumns","_items","selection","Selection","onSelectionChanged","count","getSelectedCount","getSelection","handleSort","evt","column","isSortable","columnCopy","columnsCopy","col","c","isSorted","isSortedDescending","filterValues","useCallback","values","rg","RegExp","filterableColumns","isFilterable","length","val","fieldName","filterValueAccessor","test","copy","sort","a","b","DetailsList","onColumnClick","selectionPreservedOnEmptyClick","defaultProps","LoginRequired","redirect","setRedirect","global","useContext","GlobalContext","userLoaded","user","getUser","to","and","validations","Error","Promise","all","v","results","every","result","message","andSync","last","l","err","or","some","orSync","not","validation","notSync","perform","throwExceptions","performSync","userExists","Boolean","userAuthorized","context","grant","Authorize","isTruthy","obj","operators","AD","ADO","periodStatus","period","name","periodExists","itemExists","periodLocked","userId","userPeriod","u","_id","locked","itemStatus","content","itemType","itemSameUser","String","username","itemRelated","relatedItemId","itemContentNotNull","trim","canInsert","generalVal","userVal","canUpdate","canDelete","validate","appraisalValidators","userValidators","generalValidators","React","createContext","connection","connectionId","notification","setContext","userPreferences","theme","AuthorizationService","getRolesPath","getCurrentUserSecuritiesPath","getUserSecuritiesPath","getOrganizationUsersSecuritiesPath","getRolesSecuritiesPath","getPermissionCodesPath","addPermissionPath","updatePermissionPath","deletePermissionPath","getRoles","axios","get","data","response","getSecurities","getUserSecurities","getOrganizationUsersSecurities","getRolesSecurities","getPermissionCodes","addPermission","permission","post","updatePermission","put","deletePermission","security","index","el","indexOf","LoginService","currentUserPath","getCurrentUser","DefaultButton","as","href","UserInfoProvider","verified","setVerified","displayName","avatar","split","n","join","toUpperCase","UserSecuritiesProvider","run","root","padding","createTheme","palette","themePrimary","themeLighterAlt","themeLighter","themeLight","themeTertiary","themeSecondary","themeDarkAlt","themeDark","themeDarker","neutralLighterAlt","neutralLighter","neutralLight","neutralQuaternaryAlt","neutralQuaternary","neutralTertiaryAlt","neutralTertiary","neutralSecondary","neutralPrimaryAlt","neutralPrimary","neutralDark","black","white","accent","isInverted","selectTheme","localStorage","getItem","lightTheme","darkTheme","warmTheme","blackWhiteTheme","SelectTheme","setTheme","imageSrc","lightImg","selectedImageSrc","imageSize","width","height","solarizedImg","darkImg","blackWhiteImg","Stack","verticalAlign","tokens","childrenGap","ChoiceGroup","selectedKey","onChange","option","setItem","ChooseThemeModal","isOpen","setOpen","Modal","isBlocking","styles","scrollableContent","minWidth","minHeight","style","horizontalAlign","StackItem","grow","align","onClick","useStyles","makeStyles","display","flexFlow","justifyContent","link","color","textAlign","paddingRight","fluidLink","usernameText","overflow","textDecoration","callout","UserInfo","classes","calloutVisible","setCalloutVisible","themeModalOpen","setThemeModalOpen","userLinkRef","useKeytipRef","keytipProps","keytipStyles","keySequences","onExecute","click","handleCalloutToggle","ref","wrap","horizontal","Persona","size","PersonaSize","size32","hidePersonaDetails","marginRight","Callout","role","gapSpace","target","setInitialFocus","isBeakVisible","Separator","size56","ActionButton","iconProps","iconName","position","backgroundColor","flex","icon","alignSelf","AppBar","toggleDrawer","useTheme","IconButton","hasMenu","title","ariaLabel","block","nowrap","Icon","fontSize","spacing","s2","classNamesFunction","borderBottom","top","left","nav","marginTop","Drawer","history","useHistory","handleLinkClick","preventDefault","url","links","keyTipContent","keyTipSequence","navLinks","filterLinks","forEach","visibleLinksGroup","setVisibleLinksGroup","Panel","hasCloseButton","PanelType","smallFixedNear","isLightDismiss","marginLeft","Nav","groups","onRenderLink","isExpanded","zIndex","Navigation","navPaneOpened","setOpened","AuthorizationRedirectComponent","failureNotification","access","setAccess","notified","setNotified","isAuthorized","children","AppraisalDetailsInfo","periodId","setPeriodDetails","AppraisalService","getItems","UserService","baseUrl","teamUsersPath","updateUsersPath","getUserPath","getUserOrganizationsPath","getUserTeamMembersPath","getSettingsUsersPath","putSettingsUsersPath","normalizeUser","organization","organizations","o","getSettingsUsers","statusText","updateUser","updateSettingsUser","getUserOrganizations","getUserTeamMembers","border","suggestion","defaultGetText","SinglePicker","getTextFromItem","selected","onSelect","onRenderItem","onRenderSuggestionsItem","placeholder","maxHeight","sc","useScreenClass","_selected","setSelected","maxWidth","setMaxwidth","inputRef","useRef","getText","renderItem","defaultRenderItem","renderSuggestionsItem","defaultRenderSuggestionItem","current","clientWidth","BasePicker","inputProps","pickerCalloutProps","pickerSuggestionsProps","suggestionsContainer","selectedItems","onItemSelected","onEmptyResolveSuggestions","onResolveSuggestions","suggestions","toLowerCase","TeamMatesAutocomplete","onUserSelect","setUsers","mounted","value","AppraisalUserRedirect","defaultValue","useParams","selectedUser","setSelectedUser","handleSelect","AuthorizationComponent","onReject","chip","borderRadius","Chip","calloutPrefix","boxShadow","effects","elevation64","CustomPrefix","isCalloutVisible","setIsCalloutVisible","tabIndex","CustomSuffix","menuProps","AppraisalInput","changeHandler","blurHandler","removeHandler","changeTypeHandler","multilineTrashold","setValue","modified","setModified","multiline","setMultiline","isRelated","isDeletable","isFinished","inputEditable","setValidations","calls","checkRelated","checkFinished","checkEditable","handleBlur","e","persist","mod","handleChange","newMultiline","handleTypeChange","handleDelete","shouldFocusOnMount","shouldFocusOnContainer","replace","disabled","tooltip","Item","createdUser","createdDate","Date","toLocaleString","modifiedUser","modifiedDate","TextField","resizable","prefix","suffix","field","onRenderPrefix","onRenderSuffix","autoAdjustHeight","autoComplete","onBlur","readOnly","bottom","right","box","l2","Box","stack","paddingTop","s1","FieldSet","details","setOtherItems","labels","Achieved","Planned","Training_Planned","Training_Achieved","SWOT_S","SWOT_W","SWOT_O","SWOT_T","Feedback","min","isLocked","normalizeSet","addItem","addItemToSet","addUserItemToSet","updateItem","updateItemInSet","updateUserItemInSet","deleteItem","deleteItemFromSet","deleteUserItemFromSet","firstChange","itemId","concat","Number","isNaN","isNew","isToBeDeleted","listItem","label","chipContent","alignItems","lockedChip","lockIcon","container","AppraisalDetailsDisplay","periodDetails","achieved","setAchieved","planned","setPlanned","trainingPlanned","setTrainingPlanned","trainingAchieved","setTrainingAchieved","swotS","setSWOTS","swotW","setSWOTW","swotO","setSWOTO","swotT","setSWOTT","feedBack","setFeedBack","setLocked","md","xs","justify","lg","size24","nogutter","AppraisalUserInfo","setUserDetails","userData","getUserItems","periodData","userStyles","AppraisalUserDetails","userDetails","handleLockButton","finished","setFinished","PrimaryButton","primary","AppraisalDetails","toggleLockPeriod","AppraisalDetailsPage","header","PanelNew","handleCreate","setVal","smallFixedFar","headerText","onSubmit","finally","margin","autoFocus","PanelEdit","handleEdit","AP","REP","AppraisalsPage","screenClass","filteredItems","setFilteredItems","showClosed","setShowClosed","newPanelOpen","setNewPanelOpen","editPanelOpen","setEditPanelOpen","setSearchValue","path","useRouteMatch","selectionDetails","blue","green","isResizable","isPadded","getPeriods","loadData","handleItemInvoked","clickFinishHandler","finishPeriod","addPeriod","organizationId","updatePeriod","handleGenerateReport","ReportingService","generateAppraisalReport","periods","reportBlob","downloadBlob","exact","sm","CommandBar","SearchBox","Checkbox","checked","selectionMode","SelectionMode","single","onItemInvoked","ctx","setCtx","SettingsGeneral","TeamService","team","getTeams","addTeam","UserEditPanel","setFunc","teams","roles","selTeams","setSelTeams","selPrimaryTeam","setSelPrimaryTeam","selOrganizations","setSelOrganizations","selRole","setSelRole","handleMultiCombobox","handleDeselect","t","ComboBox","multiSelect","useComboBoxAsMenuWidth","r","SettingsUsers","setData","setTeams","setRoles","indices","selectedColumn","handleUpdate","findIndex","_teams","_roles","fluid","CommandTable","commandItems","tableProps","layoutMode","DetailsListLayoutMode","justified","SettingsAppraisalPeriods","SettingsAppraisalItems","SecurityInfoProvider","setLoaded","setPermissionCodes","setRolePermissions","setUserPermissions","codes","rolesInfo","userInfo","rolesMap","reference","userPermissions","userPermMap","autocomplete","secondaryText","searchBox","SecurityDetailsRoleDisplay","rolePermissions","selectedRole","setSelectedRole","expanded","setExpanded","setFilter","handleExpandSingle","p","handleFilterInputChange","handleSetPermission","handleAdd","permissionType","handleClick","g","getPermissionChecked","buttonStyles","onClear","paddingLeft","render","Accordion","getKey","headerProps","onRenderHeaderText","onToggle","renderPermissions","SecurityDetailsUserDisplay","SecurityDetails","permissionCodes","loaded","Pivot","aria-label","PivotItem","itemIcon","SettingsRolesPage","SettingsPage","ReportsInfoProvider","setReports","getReports","reports","propTypes","PropTypes","func","isRequired","topMargin","borderTop","invisibleInput","background","outline","ReportsNewPanel","addReport","setName","setDescription","template","setTemplate","parameter","setParameter","templates","setTemplates","parameters","setParameters","selectedParameters","setSelectedParameters","set","handleChangeParameterName","handleChangeParameterValue","handleSubmit","formData","FormData","append","JSON","stringify","getTemplates","getTempalteParameters","params","large","onRenderFooterContent","form","required","Label","templ","temp","underlined","param","paths","flat","handleChangeParameter","sp","ReportsDetailsPanel","setDetails","getReport","reportDetails","parse","aggregation","ReportsEditPanel","setReport","parametersList","setParametersList","inputErrorMessages","setInputErrorMessages","newParameter","setNewParameter","handleChangeParams","property","handleChangeNewParam","handleSave","updateReport","errorMessage","newParamName","newParamPath","Reports","detailsPanelOpen","setDetailsPanelOpen","PageHeader","report","ReportsPage","ReportTemplates","require","default","ReportTemplatesPage","AppraisalReport","setPeriods","dateFrom","setDateFrom","dateTo","setDateTo","selectedPeriods","setSelectedPeriods","handleChangeDate","dt","UTC","getFullYear","getMonth","getDate","handleGenerate","Dropdown","selectedKeys","DatePicker","onSelectDate","ReportingPage","_extends","Object","assign","arguments","source","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","fill","d","fillRule","clipRule","_ref9","_ref10","_ref11","_ref12","_ref13","_ref14","_ref15","_ref16","_ref17","_ref18","_ref19","_ref20","_ref21","_ref22","_ref23","_ref24","_ref25","_ref26","_ref27","_ref28","_ref29","_ref30","_ref31","_ref32","_ref33","_ref34","cx","cy","rx","ry","_ref35","_ref36","_ref37","_ref38","_ref39","_ref40","_ref41","_ref42","_ref43","_ref44","_ref45","_ref46","_ref47","_ref48","_ref49","_ref50","_ref51","_ref52","_ref53","_ref54","_ref55","_ref56","_ref57","_ref58","_ref59","_ref60","_ref61","_ref62","_ref63","_ref64","_ref65","_ref66","_ref67","_ref68","_ref69","SvgBored","_ref","svgRef","titleId","viewBox","xmlns","ForwardRef","image","loginBtn","LoginPage","component","useFetch","initialData","dependencies","cb","TaskService","taskPath","taskStatusPath","tasksCheckConflictsPath","getTasks","getBusyTasks","getTask","createTask","updateTask","updateTaskStatus","deleteTask","createTaskObject","task","startRaw","DateTime","fromISO","expectedStartDate","toUTC","endRaw","plus","minute","duration","fromObject","year","month","day","hour","second","zone","toISO","expectedFinishDate","getHoursFromText","hours","minutes","seconds","s","combineDateHours","date","makeUTC","getHours","getMinutes","getSeconds","getWeekFromDate","firstDay","firstDayUTC","makeUTCDateOnly","getDay","setDate","getNearestTimeUTC","fromJSDate","Math","ceil","getTimeText","toFormat","getValidTimeStringUTC","string","baseDate","pattern","now","millisecond","getEndTimeTextUTC","startTime","transform2UTCDate","exp","utc","toJSDate","setDateFromTo","from","fromDT","PanelContext","isPanel","onRenderFooter","setOnRenderFooter","usePanel","Component","componentProps","componentRef","Provider","isFooterAtBottom","picker","suggestionRoot","suggestionCheck","suggestionText","textTransform","itemRoot","PeoplePicker","onRemove","selectedSet","useMemo","Set","handleCheckboxClick","ev","stopPropagation","has","onKeyDown","resolveDelay","preventDismissOnScroll","AddTask","remarks","DateUtils","isBackgroundTask","assignedTo","handleDataChange","args","expDate","local","zoneName","MaskedTextField","mask","maskChar","validTime","startDT","endDT","diff","SpinButton","onIncrement","onDecrement","step","incrementButtonAriaLabel","decrementButtonAriaLabel","labelPosition","Position","CurrentDate","currentDate","setCurrentDate","minus","firstDayOfWeek","TaskPersonas","Facepile","personaSize","maxDisplayablePersonas","overflowButtonType","OverflowButtonType","descriptive","overflowButtonProps","ariaDescription","personas","personaName","borderCollapse","TaskCollapsed","collapsed","setCollapsed","handleStatusChange","isOpened","ButtonGrid","columnCount","borderLeft","collapse","cursor","marginBottom","chevron","chevronIcon","rows","flexGrow","taskDescription","whiteSpace","textOverflow","prewrap","neutralSecondaryAlt","time","lineHeight","TaskItem","setTasks","setTime","startDate","finishDate","clsx","alignContent","semanticColors","bodyBackground","l1","TaskContainer","hourOptions","combo","space","WorkingHours","setHours","calloutProps","calloutMaxHeight","DialogContext","isDialog","isVisible","setVisible","show","accept","cancel","resolve","setResolve","dialogFooter","setDialogFooter","useDialog","visible","res","Dialog","hidden","modalProps","dialogContentProps","DialogType","normal","subText","DialogFooter","TaskBusyConflict","conflictTasks","paused","ctask","Link","actualStartDate","useLocalStorageState","initialValue","transform","ConnectionService","subscribePath","connectSSE","es","EventSource","subscribe","TaskLiveUpdate","handleMessage","action","initiator","addEventListener","removeEventListener","searchIcon","TaskDashboard","userOptions","setUserOptions","selectedUsers","setSelectedUsers","fromDate","toDate","newPanel","expectedStart","dialogProps","setDialogProps","resolveBusyConflictDialog","_accept","handleUserSelect","conflicts","updated","ts","unpaused","openOnKeyboardFocus","selUser","undefined","t1","t2","serviceRequestWrapper","requestFunc","successStatusCode","showNotification","TaskFlowService","singleUrl","getTaskFlow","createTaskFlow","updateTaskFlow","AddFlow","setFlows","panel","createdFlow","htmlFor","SwatchColorPicker","cellHeight","cellWidth","cellShape","colorCells","selectedId","onColorChanged","EditFlow","isActive","flow","setFlow","fl","TaskFlows","flows","addFlowPanel","document","getElementById","contains","editFlowPanel","flowItem","noSelect","userSelect","PlanningCell","userFlows","handleInvoke","isSelected","onDoubleClick","Array","f","row","PlanningMatrix","userFlowMap","dates","selectedCell","setSelectedCell","today","toISODate","userCol","handleSelectCell","fixedColumns","onRenderRow","DetailsRow","none","TaskPlanningService","addFlowUrl","planningId","flowId","removeFlowUrl","createPlanning","addFlowToPlanning","removeFromFromPlanning","colorBox","removeIcon","FlowPicker","showDeleteIcon","showCheckboxes","focusPoint","visibility","PlanningFlowsDialog","planning","addFlow","removeFlow","validOptions","userTeams","TaskPlanning","setDates","selectedTeam","setSelectedTeam","Map","handleAddFlow","plan","handleRemoveFlow","flowsDialog","largeHeader","isMonthPickerVisible","dateRangeType","DateRangeType","Week","showWeekNumbers","showSixWeeksByDefault","showGoToToday","selDate","selDates","TaskRuleService","taskRulePath","getTaskRules","getTaskRule","createTaskRule","updateTaskRule","deleteTaskRule","monthlyOptions","weeklyCheck","monthlyCheck","monthlyDropdown","AddRuleType","handleSetWeeklyData","weeklyDays","handleSetMonths","monthlyMonths","isDaySelected","defaultSelectedKey","dailyType","verticalFill","monthlyOn","newVal","max","placeHolder","monthlyOnType","AddRule","setRules","isSharedTask","taskStartTime","validFrom","taskDuration","typeOptions","handleSelectDate","validTo","weekday","setMonth","setMinutes","checkbox","typeIcon","typeDetails","paddingBottom","userColumn","separator","weekDay","weekDays","months","getOrdinalSuffix","number","RuleTypeDetails","rule","getTypeIcon","ruleDetails","getRenderDetails","RuleDetails","editing","setEditing","flowsData","renderFooter","borderless","allowTextInput","vertical","TaskRules","rules","detailsPanel","medium","_isOpen","Tasks","ConnectionManager","con","HomePage","lazy","App","initContext","ThemeProvider","applyTo","KeytipLayer","keytipStartSequences","modifierKeys","KeyCodes","alt","fallback","initializeIcons","ReactDOM","StrictMode","CreateTemplatePanel","setAggregation","file","setFile","sample","setSample","openAcordion","setOpenAccordion","generateTemplate","handleSample","getSample","createTemplate","rel","open","fieldGroup","filelist","files","TemplateDetailsPanel","setEdit","getTemplate","filename","downloadTemplate","TemplateEditPanel","updateTemplates","setUpdate","updateTemplate","updateResult","onRenderLabel","labelId","controlId","fontWeight","aria-labelledby","ItemType","createPanelOpen","setCreatePanelOpen","templatesPath","templatePath","templateDownloadPath","templateParametersPath","generateTemplatePath","templateSamplePath","formdata","headers","responseType","appraisalReportPath","reportPath","postReportGeneratePath","reportsPath","generateReport","getPeriodsPath","addPeriodsPath","periodPath","periodFinishPath","getItemsPath","getUserItemsPath","toggleLockPeriodPath","getItemPath","getOrphansPath","addItemPath","updateItemPath","deleteItemPath","addItemToPeriodPath","addUserItemPath","updateItemInPeriodPath","updateUserItemPath","deleteItemFromPeriodPath","deleteUserItemPath","updateItemTypePath","updateUserItemTypePath","getOrphans","addOrphan","addUserItem","updateItemInPeriod","updateUserItem","updateItemType","updateUserItemType","deleteItemFromPeriod","deleteUserItem","body","blankItem","dif","eventEmitter","EventEmitter","event","fn","once","payload","freeze","defaultRenderHeaderFold","headerIcon","headerIconOpen","defaultRenderHeaderText","defaultRenderHeader","classProps","onRenderHeaderFold","AccordionItemContainer","onKeyPress","onRenderHeader","itemContent","exclusive","compact","concatStyleSets","elevation4","transition","transformOrigin","defstyles","defHeaderProps","handleSetOpen","itemKey"],"mappings":"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","file":"static/js/main.a5f1cd8d.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Notification } from '../components/notification';\r\nimport Emitter from '../components/shared/Emitter';\r\n\r\nconst NotificationService = {\r\n  notify(text, type, actions) {\r\n    Emitter.emit('notification-add', {\r\n      onRender: (onDismiss) => (\r\n        // eslint-disable-next-line react/jsx-filename-extension\r\n        <Notification\r\n          text={text}\r\n          type={type}\r\n          actions={actions}\r\n          onDismiss={onDismiss}\r\n        />\r\n      ),\r\n    });\r\n  },\r\n\r\n  notifyError(text) {\r\n    this.notify(text, 'error');\r\n  },\r\n\r\n  notifySuccess(text) {\r\n    this.notify(text, 'success');\r\n  },\r\n\r\n  notifyInfo(text) {\r\n    this.notify(text, 'info');\r\n  },\r\n\r\n  notifySevereWarning(text) {\r\n    this.notify(text, 'severeWarning');\r\n  },\r\n};\r\n\r\nexport default NotificationService;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\r\nimport { v4 as uuid } from 'uuid';\r\nimport Emitter from '../shared/Emitter';\r\nimport './styles.css';\r\n\r\nconst NotificationContainer = ({ timeout = 5000 }) => {\r\n  const [items, setItems] = useState([]);\r\n\r\n  const onDismiss = (idx) => () => {\r\n    setItems((prev) => {\r\n      const found = prev.find((i) => i.id === idx);\r\n      if (found) {\r\n        if (found.timer) clearTimeout(found.timer);\r\n        return prev.filter((i) => i.id !== idx);\r\n      }\r\n      return prev;\r\n    });\r\n  };\r\n\r\n  // Use below effect to start listening to Notification events\r\n  // When element is unmounted, listener is removed\r\n  useEffect(() => {\r\n    const listener = (item) => {\r\n      const idx = uuid();\r\n      setItems((prev) => [...prev, {\r\n        ...item,\r\n        onRender: item.onRender.bind({}, onDismiss(idx)),\r\n        id: idx,\r\n        timer: setTimeout(\r\n          () => setItems((prevState) => prevState.filter((i) => i.id !== idx)), timeout,\r\n        ),\r\n      }]);\r\n    };\r\n\r\n    Emitter.on('notification-add', listener);\r\n    return () => {\r\n      Emitter.off('notification-add');\r\n    };\r\n  }, [timeout]);\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <TransitionGroup>\r\n        {items.map((item) => (\r\n          <CSSTransition\r\n            key={item.id}\r\n            timeout={400}\r\n            classNames=\"notification\"\r\n          >\r\n            <div className=\"item-wrapper\">\r\n              {item.onRender()}\r\n            </div>\r\n          </CSSTransition>\r\n        ))}\r\n      </TransitionGroup>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotificationContainer;\r\n","const constants = {\r\n  dialogAnswers: {\r\n    Yes: 1,\r\n    No: 0,\r\n    Cancel: 2,\r\n    Ok: 3,\r\n  },\r\n  timeOptions: (() => {\r\n    const options = [];\r\n    for (let h = 0; h < 24; h += 1) {\r\n      for (let m = 0; m < 60; m += 10) {\r\n        const str = `${`0${h}`.slice(-2)}:${`0${m}`.slice(-2)}`;\r\n        options.push({\r\n          key: str,\r\n          text: str,\r\n        });\r\n      }\r\n    }\r\n    return options;\r\n  })(),\r\n  connections: {\r\n    actions: {\r\n      INSERT: 'INSERT',\r\n      UPDATE: 'UPDATE',\r\n      DELETE: 'DELETE',\r\n    },\r\n  },\r\n  tasks: {\r\n    status: {\r\n      New: 'New',\r\n      InProgress: 'InProgress',\r\n      Paused: 'Paused',\r\n      Finished: 'Finished',\r\n      Cancelled: 'Cancelled',\r\n    },\r\n    types: {\r\n      Daily: 'Daily',\r\n      Weekly: 'Weekly',\r\n      Monthly: 'Monthly',\r\n    },\r\n    DayTypes: {\r\n      Workday: 'Work',\r\n      Calendar: 'Calendar',\r\n    },\r\n    MonthlyOnType: {\r\n      Day: 'Day',\r\n      Workday: 'Workday',\r\n      Monday: 'Monday',\r\n      Tuesday: 'Tuesday',\r\n      Wednesday: 'Wednesday',\r\n      Thursday: 'Thursday',\r\n      Friday: 'Friday',\r\n      Saturday: 'Saturday',\r\n      Sunday: 'Sunday',\r\n    },\r\n  },\r\n  colors: [\r\n    '#FFB900', '#FF8C00', '#E74856', '#E81123',\r\n    '#0078D7', '#0063B1', '#0099BC', '#2D7D9A',\r\n    '#EA005E', '#C30052', '#8E8CD8', '#6B69D6',\r\n    '#00B7C3', '#038387', '#7A7574', '#5D5A58',\r\n    '#68768A', '#515C6B', '#B146C2', '#881798',\r\n    '#00CC6A', '#10893E', '#498205', '#107C10',\r\n  ],\r\n  securities: {\r\n    REPORTS: {\r\n      code: 'REPORTS',\r\n      description: 'Access to view, generate, create and edit reports',\r\n      grants: {\r\n        read: 'read',\r\n        create: 'create',\r\n        update: 'update',\r\n        delete: 'delete',\r\n      },\r\n    },\r\n    APPRAISAL_DETAILS: {\r\n      code: 'APPRAISAL DETAILS',\r\n      description: 'Access to see, add, edit, delete Appraisal details for user himself',\r\n      grants: {\r\n        read: 'read',\r\n        create: 'create',\r\n        update: 'update',\r\n        delete: 'delete',\r\n        createFinished: 'create-finished',\r\n        updateFinished: 'update-finished',\r\n        deleteFinished: 'delete-finished',\r\n      },\r\n    },\r\n    APPRAISAL_DETAILS_OTHER: {\r\n      code: 'APPRAISAL DETAILS - OTHER USERS',\r\n      description: 'Access to see, add, edit, delete Appraisal details for other users within the team',\r\n      grants: {\r\n        read: 'read',\r\n        create: 'create',\r\n        update: 'update',\r\n        delete: 'delete',\r\n        createFinished: 'create-finished',\r\n        updateFinished: 'update-finished',\r\n        deleteFinished: 'delete-finished',\r\n        toggleLock: 'toggle-lock',\r\n      },\r\n    },\r\n    APPRAISAL_PERIODS: {\r\n      code: 'APPRAISAL PERIODS',\r\n      description: 'Access to see, add, edit, finish Appraisal Periods',\r\n      grants: {\r\n        read: 'read',\r\n        create: 'create',\r\n        update: 'update',\r\n        delete: 'delete',\r\n        finish: 'finish',\r\n      },\r\n    },\r\n    SETTINGS: {\r\n      code: 'SETTINGS',\r\n      description: 'Access to various settings. Be careful about following: users - will allow users to modify other users; permissions - will allow users to alter permissions',\r\n      grants: {\r\n        read: 'read',\r\n        general: 'general',\r\n        users: 'users',\r\n        appraisalItems: 'appraisal-items',\r\n        appraisalPeriods: 'appraisal-periods',\r\n        permissions: 'permissions',\r\n      },\r\n    },\r\n    AUDITS: {\r\n      code: 'AUDITS',\r\n      description: 'Access to request, execute, update, delete audits.',\r\n      grants: {\r\n        read: 'read',\r\n        create: 'create',\r\n        update: 'update',\r\n        delete: 'delete',\r\n      },\r\n    },\r\n    REPORT_TEMPLATES: {\r\n      code: 'REPORT-TEMPLATES',\r\n      description: 'Access to create and edit report templates',\r\n      grants: {\r\n        read: 'read',\r\n        create: 'create',\r\n        update: 'update',\r\n        delete: 'delete',\r\n      },\r\n    },\r\n    TASK: {\r\n      code: 'TASK',\r\n      description: 'Access to read, update, create or delete tasks',\r\n      grants: {\r\n        read: 'read',\r\n        create: 'create',\r\n        update: 'update',\r\n        delete: 'delete',\r\n      },\r\n    },\r\n    TASK_RULE: {\r\n      code: 'TASK-RULE',\r\n      description: 'Access to read, update, create or delete task rules',\r\n      grants: {\r\n        read: 'read',\r\n        create: 'create',\r\n        update: 'update',\r\n        delete: 'delete',\r\n      },\r\n    },\r\n    TASK_FLOW: {\r\n      code: 'TASK-FLOW',\r\n      description: 'Access to read, update, create or delete task flows',\r\n      grants: {\r\n        read: 'read',\r\n        create: 'create',\r\n        update: 'update',\r\n        delete: 'delete',\r\n      },\r\n    },\r\n    TASK_PLANNING: {\r\n      code: 'TASK-PLANNING',\r\n      description: 'Access to read, update, create or delete task planning items',\r\n      grants: {\r\n        read: 'read',\r\n        create: 'create',\r\n        update: 'update',\r\n        delete: 'delete',\r\n      },\r\n    },\r\n  },\r\n};\r\n\r\nexport default constants;\r\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { MessageBar, MessageBarType, Text } from '@fluentui/react';\n\nconst Notification = ({\n  type, text, actions, onDismiss,\n}) => {\n  let typeMessage;\n  switch (type) {\n    case 'success':\n      typeMessage = MessageBarType.success;\n      break;\n    case 'warning':\n      typeMessage = MessageBarType.warning;\n      break;\n    case 'error':\n      typeMessage = MessageBarType.error;\n      break;\n    case 'info':\n      typeMessage = MessageBarType.info;\n      break;\n    case 'blocked':\n      typeMessage = MessageBarType.blocked;\n      break;\n    case 'severeWarning':\n      typeMessage = MessageBarType.severeWarning;\n      break;\n    default:\n      typeMessage = MessageBarType.info;\n      break;\n  }\n  return (\n    <MessageBar\n      messageBarType={typeMessage}\n      actions={actions || null}\n      onDismiss={onDismiss}\n    >\n      <Text variant=\"medium\">{text}</Text>\n    </MessageBar>\n  );\n};\n\nNotification.propTypes = {\n  type: PropTypes.string.isRequired,\n  text: PropTypes.string.isRequired,\n  actions: PropTypes.shape({}).isRequired,\n  onDismiss: PropTypes.func.isRequired,\n};\n\nexport default Notification;\n","import NotificationContainer from './NotificationContainer';\r\nimport Notification from './Notification';\r\n\r\nexport default NotificationContainer;\r\n\r\nexport { Notification };\r\n","/* eslint-disable react/jsx-props-no-spreading */\r\nimport React, { useState, useEffect, useCallback } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { DetailsList, Selection } from '@fluentui/react';\r\n\r\nconst Table = ({\r\n  columns, items, searchValue, sortedCol, setSelectionDetails, ...props\r\n}) => {\r\n  const [sortedColumn, setSortedColumn] = useState(null);\r\n  const [_columns, setColumns] = useState(columns);\r\n  const [_items, setItems] = useState([]);\r\n  const selection = new Selection({\r\n    onSelectionChanged: () => {\r\n      setSelectionDetails({\r\n        count: selection.getSelectedCount(),\r\n        items: selection.getSelection(),\r\n      });\r\n    },\r\n  });\r\n\r\n  const getSortFunction = (column) => {\r\n    const sortFunc = (a, b) => {\r\n      if (!column.isSortedDescending) {\r\n        return a[column.fieldName] < b[column.fieldName] ? -1 : 1;\r\n      }\r\n      return a[column.fieldName] > b[column.fieldName] ? -1 : 1;\r\n    };\r\n    if (column.sort) {\r\n      return (a, b) => {\r\n        if (!column.isSortedDescending) {\r\n          return column.sort(b, a);\r\n        }\r\n        return column.sort(a, b);\r\n      };\r\n    }\r\n    return sortFunc;\r\n  };\r\n\r\n  const handleSort = (evt, column) => {\r\n    if (column.isSortable) {\r\n      let columnCopy = column;\r\n      const columnsCopy = _columns.map((col) => {\r\n        const c = col;\r\n        // column we're sorting now\r\n        if (c.key === column.key) {\r\n        // if it's already sorted, just invert the sorting\r\n          columnCopy = c;\r\n          if (c.isSorted) {\r\n            c.isSortedDescending = !c.isSortedDescending;\r\n            return c;\r\n          }\r\n          // columns was not sorted previously, just set it sorted\r\n          c.isSorted = true;\r\n          c.isSortedDescending = true;\r\n        } else {\r\n        // other column, remove the sorting\r\n          c.isSorted = false;\r\n          c.isSortedDescending = false;\r\n        }\r\n        return c;\r\n      });\r\n      setColumns(columnsCopy);\r\n      // setItems(_items.sort(getSortFunction(columnCopy)));\r\n      setSortedColumn(columnCopy);\r\n    }\r\n  };\r\n\r\n  const filterValues = useCallback((values) => {\r\n    if (!searchValue) {\r\n      return values;\r\n    }\r\n    const rg = new RegExp(searchValue, 'i');\r\n    return values.filter((item) => {\r\n      const filterableColumns = _columns.filter((c) => c.isFilterable);\r\n      for (let i = 0; i < filterableColumns.length; i += 1) {\r\n        const col = filterableColumns[i];\r\n        let val = item[col.fieldName];\r\n        if (col.filterValueAccessor) {\r\n          val = col.filterValueAccessor(item);\r\n        }\r\n        if (rg.test(val)) return true;\r\n      }\r\n      return false;\r\n    });\r\n  }, [_columns, searchValue]);\r\n\r\n  useEffect(() => {\r\n    const copy = items.slice();\r\n    if (sortedColumn) {\r\n      copy.sort(getSortFunction(sortedColumn));\r\n    }\r\n    if (!searchValue) {\r\n      return setItems(copy);\r\n    }\r\n    return setItems(filterValues(copy));\r\n  }, [items, searchValue, filterValues, sortedColumn]);\r\n\r\n  useEffect(() => {\r\n    if (sortedCol) {\r\n      setColumns((prev) => prev.map((col) => (col.key === sortedCol.key\r\n        ? ({\r\n          ...col,\r\n          isSorted: sortedCol.isSorted,\r\n          isSortedDescending: sortedCol.isSortedDescending,\r\n        }) : col)));\r\n      setSortedColumn(sortedCol);\r\n    }\r\n  }, [sortedCol]);\r\n\r\n  return (\r\n    <DetailsList\r\n      {...props}\r\n      selection={selection}\r\n      columns={_columns.map((c) => ({ ...c, onColumnClick: handleSort }))}\r\n      items={_items}\r\n      selectionPreservedOnEmptyClick\r\n    />\r\n  );\r\n};\r\n\r\nTable.propTypes = {\r\n  columns: PropTypes.arrayOf(PropTypes.shape({\r\n    key: PropTypes.string,\r\n    name: PropTypes.string,\r\n    fieldName: PropTypes.string,\r\n    minWidth: PropTypes.number,\r\n    maxWidth: PropTypes.number,\r\n    isSortable: PropTypes.bool,\r\n    isFilterable: PropTypes.bool,\r\n    isResizable: PropTypes.bool,\r\n    sort: PropTypes.func,\r\n    onRender: PropTypes.func,\r\n  })).isRequired,\r\n  items: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\r\n  searchValue: PropTypes.string,\r\n  sortedCol: PropTypes.shape({\r\n    key: PropTypes.string,\r\n    name: PropTypes.string,\r\n    fieldName: PropTypes.string,\r\n    minWidth: PropTypes.number,\r\n    maxWidth: PropTypes.number,\r\n    isSortable: PropTypes.bool,\r\n    isFilterable: PropTypes.bool,\r\n    isResizable: PropTypes.bool,\r\n    sort: PropTypes.func,\r\n    onRender: PropTypes.func,\r\n    isSorted: PropTypes.bool,\r\n    isSortedDescending: PropTypes.bool,\r\n  }),\r\n  setSelectionDetails: PropTypes.func,\r\n};\r\n\r\nTable.defaultProps = {\r\n  searchValue: '',\r\n  sortedCol: null,\r\n  setSelectionDetails: () => {},\r\n};\r\n\r\nexport default Table;\r\n","import Table from './Table';\r\n\r\nexport default Table;\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport GlobalContext from '../../../services/GlobalContext';\r\n\r\nconst LoginRequired = () => {\r\n  const [redirect, setRedirect] = useState(false);\r\n  const global = useContext(GlobalContext);\r\n\r\n  useEffect(() => {\r\n    async function getUser() {\r\n      // const user = await LoginService.getCurrentUser();\r\n\r\n      if (!global.userLoaded) return;\r\n      // There is no user anymore, probably logged out, so we need to remove it from the state\r\n      if (global.user === null) {\r\n        setRedirect(true);\r\n      }\r\n    }\r\n    getUser();\r\n  }, [global]);\r\n\r\n  return (\r\n    <>\r\n      {redirect\r\n        ? <Redirect to=\"/login\" />\r\n        : null}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LoginRequired;\r\n","import LoginRequired from './LoginRequired';\r\n\r\nexport default LoginRequired;\r\n","/**\r\n * @param {Array.<function(): {result: boolean, message: string}>} validations\r\n * @return {function(): {result: boolean, message: string}} validations\r\n */\r\nconst and = (validations) => async () => {\r\n  try {\r\n    if (validations.length === 0) {\r\n      throw new Error('No validations provided');\r\n    }\r\n    const results = await Promise.all(validations.map((v) => v()));\r\n    if (results.every((v) => v.result)) {\r\n      return results[0];\r\n    }\r\n    return results.find((v) => v.result === false);\r\n  } catch (err) {\r\n    return {\r\n      result: false,\r\n      message: err.message,\r\n    };\r\n  }\r\n};\r\n\r\n/**\r\n * @param {Array.<function(): {result: boolean, message: string}>} validations\r\n * @return {function(): {result: boolean, message: string}} validations\r\n */\r\nconst andSync = (validations) => () => {\r\n  try {\r\n    const l = validations.length;\r\n    if (l === 0) {\r\n      throw new Error('No validations provided');\r\n    }\r\n    let last;\r\n    for (let i = 0; i < l; i += 1) {\r\n      last = validations[i]();\r\n      if (!last.result) break;\r\n    }\r\n    return last;\r\n  } catch (err) {\r\n    return {\r\n      result: false,\r\n      message: 'error',\r\n    };\r\n  }\r\n};\r\n\r\n/**\r\n * @param {Array.<function(): {result: boolean, message: string}>} validations\r\n * @return {function(): {result: boolean, message: string}} validations\r\n */\r\nconst or = (validations) => async () => {\r\n  try {\r\n    if (validations.length === 0) {\r\n      throw new Error('No validations provided');\r\n    }\r\n    const results = await Promise.all(validations.map((v) => v()));\r\n    if (results.some((v) => v.result)) {\r\n      return results.find((v) => v.result);\r\n    }\r\n    return results[results.length - 1];\r\n  } catch (err) {\r\n    return {\r\n      result: false,\r\n      message: 'error',\r\n    };\r\n  }\r\n};\r\n\r\n/**\r\n * @param {Array.<function(): {result: boolean, message: string}>} validations\r\n * @return {function(): {result: boolean, message: string}} validations\r\n */\r\nconst orSync = (validations) => () => {\r\n  try {\r\n    const l = validations.length;\r\n    if (l === 0) {\r\n      throw new Error('No validations provided');\r\n    }\r\n    let last;\r\n    for (let i = 0; i < l; i += 1) {\r\n      last = validations[i]();\r\n      if (last.result) break;\r\n    }\r\n    return last;\r\n  } catch (err) {\r\n    return {\r\n      result: false,\r\n      message: 'error',\r\n    };\r\n  }\r\n};\r\n\r\n/**\r\n * @param {function(): {result: boolean, message: string}} validations\r\n * @return {function(): {result: boolean, message: string}} validations\r\n */\r\nconst not = (validation) => async () => {\r\n  try {\r\n    const val = await validation();\r\n    val.result = !val.result;\r\n    val.message = `Not - ${val.message}`;\r\n    return val;\r\n  } catch (err) {\r\n    return {\r\n      result: false,\r\n      message: 'error',\r\n    };\r\n  }\r\n};\r\n\r\n/**\r\n * @param {function(): {result: boolean, message: string}} validations\r\n * @return {function(): {result: boolean, message: string}} validations\r\n */\r\nconst notSync = (validation) => () => {\r\n  try {\r\n    const val = validation();\r\n    val.result = !val.result;\r\n    return val;\r\n  } catch (err) {\r\n    return {\r\n      result: false,\r\n      message: 'error',\r\n    };\r\n  }\r\n};\r\n\r\n/**\r\n *\r\n * @param {function(): {result: boolean, message: string}} validation\r\n * @param {boolean} throwExceptions\r\n * @returns {Promise<{result: boolean, message: string}>}\r\n */\r\nconst perform = async (validation, throwExceptions = true) => {\r\n  const v = await validation();\r\n  if (!v.result) {\r\n    if (throwExceptions) {\r\n      throw new Error(v.message);\r\n    } else {\r\n      return v;\r\n    }\r\n  } else {\r\n    return v;\r\n  }\r\n};\r\n\r\n/**\r\n *\r\n * @param {function(): {result: boolean, message: string}} validation\r\n * @param {boolean} throwExceptions\r\n * @returns {{ result: boolean, message: string }}\r\n */\r\nconst performSync = (validation, throwExceptions = true) => {\r\n  const v = validation();\r\n  if (!v.result) {\r\n    if (throwExceptions) {\r\n      throw new Error(v.message);\r\n    } else {\r\n      return v;\r\n    }\r\n  } else {\r\n    return v;\r\n  }\r\n};\r\n\r\nexport default {\r\n  and,\r\n  andSync,\r\n  or,\r\n  orSync,\r\n  not,\r\n  notSync,\r\n  perform,\r\n  performSync,\r\n};\r\n","/**\r\n * This file contains valious validation functions.\r\n * Function schema\r\n * @param {any} args - any arguments function might use\r\n * @returns {function(): {result: boolean, message: string}}\r\n */\r\n\r\nconst userExists = (user) => async () => ({\r\n  result: Boolean(user),\r\n  message: 'User doesn\\'t exist.',\r\n});\r\n\r\nconst userAuthorized = (context, code, grant) => async () => ({\r\n  result: context.Authorize(code, grant),\r\n  message: `Access denied. Code: ${code}, Grant: ${grant}`,\r\n});\r\n\r\nexport default {\r\n  userExists,\r\n  userAuthorized,\r\n};\r\n","/**\r\n * This file contains valious validation functions.\r\n * Function schema\r\n * @param {any} args - any arguments function might use\r\n * @returns {function(): {result: boolean, message: string}}\r\n */\r\n\r\n/**\r\n * @param {any} obj\r\n * @returns {function(): {result: boolean, message: string}} validation result\r\n */\r\nconst isTruthy = (obj) => () => ({\r\n  result: Boolean(obj),\r\n  message: `${obj} is not true`,\r\n});\r\n\r\nexport default {\r\n  isTruthy,\r\n};\r\n","/**\r\n * This file contains valious validation functions.\r\n * Function schema\r\n * @param {any} args - any arguments function might use\r\n * @returns {function(): {result: boolean, message: string}}\r\n */\r\nimport operators from './operators';\r\nimport userVal from './UserValidators';\r\nimport generalVal from './General';\r\nimport constants from '../../utils/constants';\r\n\r\nconst {\r\n  and, or, not, perform,\r\n} = operators;\r\nconst AD = constants.securities.APPRAISAL_DETAILS;\r\nconst ADO = constants.securities.APPRAISAL_DETAILS_OTHER;\r\n\r\nconst periodExists = (period) => async () => ({\r\n  result: Boolean(period),\r\n  message: 'Period doesn\\'t exist.',\r\n});\r\n\r\nconst periodLocked = (period, userId, message = null) => async () => {\r\n  const { users } = period;\r\n  if (users) {\r\n    // eslint-disable-next-line no-underscore-dangle\r\n    const userPeriod = users.find((u) => u._id === userId);\r\n    if (userPeriod) {\r\n      return {\r\n        result: Boolean(userPeriod.locked),\r\n        message: message || 'Period is not locked',\r\n      };\r\n    }\r\n  }\r\n  return {\r\n    result: false,\r\n    message: message || 'Period is not locked',\r\n  };\r\n};\r\n\r\nconst itemExists = (item) => async () => ({\r\n  result: Boolean(item),\r\n  message: 'Item doesn\\'t exist.',\r\n});\r\n\r\nconst periodStatus = (period, status) => async () => ({\r\n  result: Boolean(period.status === status),\r\n  message: `Period '${period.name}' status is not valid. Expected (${status})`,\r\n});\r\n\r\nconst itemStatus = (item, status) => async () => ({\r\n  result: Boolean(item.status === status),\r\n  message: `Item '${item.content}' status is not valid. Expected '${status}'.`,\r\n});\r\n\r\nconst itemType = (item, type) => async () => ({\r\n  result: Boolean(item.type === type),\r\n  message: `Item '${item.content}' type is not valid. Expected '${type}'.`,\r\n});\r\n\r\nconst itemSameUser = (item, user) => async () => ({\r\n  result: Boolean(String(item.user) === String(user.id)),\r\n  message: `Item '${item.content}'s user is not the same as '${user.username}'`,\r\n});\r\n\r\nconst itemRelated = (item) => async () => ({\r\n  result: Boolean(item.relatedItemId),\r\n  message: 'Item is related.',\r\n});\r\n\r\nconst itemContentNotNull = (item) => async () => ({\r\n  result: Boolean(item.content.trim().length > 0),\r\n  message: 'Item content is empty',\r\n});\r\n\r\nconst canInsert = (context, period, userId) => async () => {\r\n  const result = perform(or([\r\n    and([\r\n      periodStatus(period, 'Active'),\r\n      or([\r\n        and([\r\n          not(generalVal.isTruthy(userId)),\r\n          userVal.userAuthorized(context, AD.code, AD.grants.create),\r\n        ]),\r\n        and([\r\n          generalVal.isTruthy(userId),\r\n          userVal.userAuthorized(context, ADO.code, ADO.grants.create),\r\n        ]),\r\n      ]),\r\n    ]),\r\n    and([\r\n      periodStatus(period, 'Finished'),\r\n      or([\r\n        and([\r\n          not(generalVal.isTruthy(userId)),\r\n          userVal.userAuthorized(context, AD.code, AD.grants.createFinished),\r\n        ]),\r\n        and([\r\n          generalVal.isTruthy(userId),\r\n          userVal.userAuthorized(context, ADO.code, ADO.grants.createFinished),\r\n        ]),\r\n      ]),\r\n    ]),\r\n  ]), false);\r\n  return result;\r\n};\r\n\r\nconst canUpdate = (context, period, userId) => async () => {\r\n  const result = perform(or([\r\n    and([\r\n      periodStatus(period, 'Active'),\r\n      or([\r\n        and([\r\n          not(generalVal.isTruthy(userId)),\r\n          userVal.userAuthorized(context, AD.code, AD.grants.update),\r\n        ]),\r\n        and([\r\n          generalVal.isTruthy(userId),\r\n          userVal.userAuthorized(context, ADO.code, ADO.grants.update),\r\n        ]),\r\n      ]),\r\n    ]),\r\n    and([\r\n      periodStatus(period, 'Finished'),\r\n      or([\r\n        and([\r\n          not(generalVal.isTruthy(userId)),\r\n          userVal.userAuthorized(context, AD.code, AD.grants.updateFinished),\r\n        ]),\r\n        and([\r\n          generalVal.isTruthy(userId),\r\n          userVal.userAuthorized(context, ADO.code, ADO.grants.updateFinished),\r\n        ]),\r\n      ]),\r\n    ]),\r\n  ]), false);\r\n  return result;\r\n};\r\n\r\nconst canDelete = (context, period, userId) => async () => {\r\n  const result = await perform(or([\r\n    and([\r\n      periodStatus(period, 'Active'),\r\n      or([\r\n        and([\r\n          not(generalVal.isTruthy(userId)),\r\n          userVal.userAuthorized(context, AD.code, AD.grants.delete),\r\n        ]),\r\n        and([\r\n          generalVal.isTruthy(userId),\r\n          userVal.userAuthorized(context, ADO.code, ADO.grants.delete),\r\n        ]),\r\n      ]),\r\n    ]),\r\n    and([\r\n      periodStatus(period, 'Finished'),\r\n      or([\r\n        and([\r\n          not(generalVal.isTruthy(userId)),\r\n          userVal.userAuthorized(context, AD.code, AD.grants.deleteFinished),\r\n        ]),\r\n        and([\r\n          generalVal.isTruthy(userId),\r\n          userVal.userAuthorized(context, ADO.code, ADO.grants.deleteFinished),\r\n        ]),\r\n      ]),\r\n    ]),\r\n  ]), false);\r\n  return result;\r\n};\r\n\r\nexport default {\r\n  periodExists,\r\n  itemExists,\r\n  periodStatus,\r\n  periodLocked,\r\n  itemStatus,\r\n  itemType,\r\n  itemSameUser,\r\n  itemRelated,\r\n  itemContentNotNull,\r\n  canInsert,\r\n  canUpdate,\r\n  canDelete,\r\n};\r\n","import appraisalValidators from './AppraisalValidators';\r\nimport userValidators from './UserValidators';\r\nimport generalValidators from './General';\r\nimport operators from './operators';\r\n\r\nconst {\r\n  and, andSync, or, orSync, not, notSync, perform, performSync,\r\n} = operators;\r\n\r\nconst validate = {\r\n  ...appraisalValidators,\r\n  ...userValidators,\r\n  ...generalValidators,\r\n};\r\n\r\nexport {\r\n  and,\r\n  andSync,\r\n  or,\r\n  orSync,\r\n  not,\r\n  notSync,\r\n  perform,\r\n  performSync,\r\n  validate,\r\n};\r\n","import React from 'react';\r\nimport { Notification } from '../components/notification';\r\nimport Emitter from '../components/shared/Emitter';\r\n\r\n// Global context will store the everything that should be shared across all\r\n// components but i don't want to pass it around as props.\r\nconst GlobalContext = React.createContext({\r\n  user: null,\r\n  connection: null,\r\n  connectionId: null,\r\n  // eslint-disable-next-line no-unused-vars\r\n  Authorize: (code, grant, notification) => false,\r\n  setContext: () => null,\r\n  userPreferences: {\r\n    theme: null,\r\n  },\r\n  notify: (text, type, actions = null) => {\r\n    Emitter.emit('notification-add', {\r\n      onRender: (onDismiss) => (\r\n        // eslint-disable-next-line react/jsx-filename-extension\r\n        <Notification\r\n          text={text}\r\n          type={type}\r\n          actions={actions}\r\n          onDismiss={onDismiss}\r\n        />\r\n      ),\r\n    });\r\n  },\r\n});\r\n\r\nexport default GlobalContext;\r\n","import axios from 'axios';\r\nimport NotificationService from './NotificationService';\r\n\r\nconst AuthorizationService = {\r\n  getRolesPath: '/api/security/roles',\r\n  getCurrentUserSecuritiesPath: '/api/security/permissions/me',\r\n  getUserSecuritiesPath: (id) => `/api/security/permissions/user/${id}`,\r\n  getOrganizationUsersSecuritiesPath: '/api/security/permissions/organization',\r\n  getRolesSecuritiesPath: '/api/security/permissions/role',\r\n  getPermissionCodesPath: '/api/security/permissions/code',\r\n  addPermissionPath: '/api/security/permissions',\r\n  updatePermissionPath: (id) => `/api/security/permissions/${id}`,\r\n  deletePermissionPath: (id) => `/api/security/permissions/${id}`,\r\n\r\n  async getRoles() {\r\n    try {\r\n      const result = await axios.get(this.getRolesPath);\r\n      if (result.status === 200) {\r\n        return result.data;\r\n      }\r\n      return null;\r\n    } catch (err) {\r\n      NotificationService\r\n        .notifyError((err.response.data && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async getSecurities() {\r\n    try {\r\n      const result = await axios.get(this.getCurrentUserSecuritiesPath);\r\n      if (result.status === 200) {\r\n        return result.data;\r\n      }\r\n      return null;\r\n    } catch (err) {\r\n      NotificationService\r\n        .notifyError((err.response.data && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async getUserSecurities(id) {\r\n    try {\r\n      const result = await axios.get(this.getUserSecuritiesPath(id));\r\n      if (result.status === 200) {\r\n        return result.data;\r\n      }\r\n      return null;\r\n    } catch (err) {\r\n      NotificationService\r\n        .notifyError((err.response.data && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async getOrganizationUsersSecurities() {\r\n    try {\r\n      const result = await axios.get(this.getOrganizationUsersSecuritiesPath);\r\n      if (result.status === 200) {\r\n        return result.data;\r\n      }\r\n      return null;\r\n    } catch (err) {\r\n      NotificationService\r\n        .notifyError((err.response.data && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async getRolesSecurities() {\r\n    try {\r\n      const result = await axios.get(this.getRolesSecuritiesPath);\r\n      if (result.status === 200) {\r\n        return result.data;\r\n      }\r\n      return null;\r\n    } catch (err) {\r\n      NotificationService\r\n        .notifyError((err.response.data && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async getPermissionCodes() {\r\n    try {\r\n      const result = await axios.get(this.getPermissionCodesPath);\r\n      if (result.status === 200) {\r\n        return result.data;\r\n      }\r\n      return null;\r\n    } catch (err) {\r\n      NotificationService\r\n        .notifyError((err.response.data && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async addPermission(permission) {\r\n    try {\r\n      const result = await axios.post(this.addPermissionPath, permission);\r\n      if (result.status === 200) {\r\n        return result.data;\r\n      }\r\n      return null;\r\n    } catch (err) {\r\n      NotificationService\r\n        .notifyError((err.response.data && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async updatePermission(id, permission) {\r\n    try {\r\n      const result = await axios.put(this.updatePermissionPath(id), permission);\r\n      if (result.status === 200) {\r\n        return result.data;\r\n      }\r\n      return null;\r\n    } catch (err) {\r\n      NotificationService\r\n        .notifyError((err.response.data && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async deletePermission(id) {\r\n    try {\r\n      const result = await axios.delete(this.deletePermissionPath(id));\r\n      if (result.status === 200) {\r\n        return result.data;\r\n      }\r\n      return null;\r\n    } catch (err) {\r\n      NotificationService\r\n        .notifyError((err.response.data && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  // this function is meant to be injected in the context in order to have access to 'this'\r\n  Authorize(code, grant) {\r\n    try {\r\n      if (this.security) {\r\n        const codes = this.security.map((el) => el.code);\r\n        const index = codes.indexOf(code);\r\n        if (index !== -1) {\r\n          return this.security[index].grants.indexOf(grant) !== -1;\r\n        }\r\n      }\r\n      return false;\r\n    } catch (err) {\r\n      NotificationService\r\n        .notifyError((err.response.data && err.response.data.error) || err.message);\r\n      return false;\r\n    }\r\n  },\r\n};\r\n\r\nexport default AuthorizationService;\r\n","import React from 'react';\r\nimport { DefaultButton } from '@fluentui/react';\r\nimport axios from 'axios';\r\nimport NotificationService from './NotificationService';\r\n\r\nconst LoginService = {\r\n  currentUserPath: '/api/me',\r\n  async getCurrentUser() {\r\n    try {\r\n      const response = await axios.get(this.currentUserPath);\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      return null;\r\n    } catch (err) {\r\n      NotificationService.notify(`Not logged in. ${(err.response.data && err.response.data.error) || err.message}`,\r\n        'error', (\r\n          // eslint-disable-next-line react/jsx-filename-extension\r\n          <DefaultButton\r\n            as=\"a\"\r\n            href=\"/auth/login\"\r\n          >\r\n            Log in\r\n          </DefaultButton>));\r\n      return null;\r\n    }\r\n  },\r\n};\r\n\r\nexport default LoginService;\r\n","import UserInfoProvider from './UserInfoProvider';\r\n\r\nexport default UserInfoProvider;\r\n","import { useEffect, useState, useContext } from 'react';\r\n\r\nimport LoginService from '../../../services/LoginService';\r\nimport GlobalContext from '../../../services/GlobalContext';\r\n\r\nconst UserInfoProvider = () => {\r\n  const [verified, setVerified] = useState(false);\r\n  const global = useContext(GlobalContext);\r\n\r\n  useEffect(() => {\r\n    async function getUser() {\r\n      if (!global.setContext) return setVerified(false);\r\n      if (!global.user && !verified) {\r\n        setVerified(true);\r\n        const user = await LoginService.getCurrentUser();\r\n        if (user) {\r\n          const name = user.displayName || user.username || 'Unknown';\r\n          user.avatar = name.split(/[. ,_-]/).map((n) => n[0]).join('').slice(0, 2)\r\n            .toUpperCase();\r\n        }\r\n        return global.setContext({ ...global, user, userLoaded: true });\r\n      }\r\n      return null;\r\n    }\r\n    getUser();\r\n  }, [verified, global]);\r\n  return null;\r\n};\r\n\r\nexport default UserInfoProvider;\r\n","import UserSecuritiesProvider from './UserSecuritiesProvider';\r\n\r\nexport default UserSecuritiesProvider;\r\n","import { useEffect, useContext } from 'react';\r\nimport AuthorizationService from '../../../services/AuthorizationService';\r\nimport GlobalContext from '../../../services/GlobalContext';\r\n\r\nconst UserSecuritiesProvider = () => {\r\n  const global = useContext(GlobalContext);\r\n\r\n  useEffect(() => {\r\n    async function run() {\r\n      if (!global.security && global.user !== null) {\r\n        const result = await AuthorizationService.getSecurities();\r\n        if (result) {\r\n          global.setContext((prev) => ({\r\n            ...prev,\r\n            security: result,\r\n          }));\r\n        }\r\n      }\r\n    }\r\n    run();\r\n  }, [global.user, global.security, global.setContext]);\r\n\r\n  return null;\r\n};\r\n\r\nexport default UserSecuritiesProvider;\r\n","export default {\r\n  root: {\r\n    padding: '3px',\r\n  },\r\n};\r\n","import { createTheme } from '@fluentui/react';\n\nexport default createTheme({\n  palette: {\n    themePrimary: '#0078d7',\n    themeLighterAlt: '#f3f9fd',\n    themeLighter: '#d1e7f8',\n    themeLight: '#aad2f3',\n    themeTertiary: '#5ca8e7',\n    themeSecondary: '#1a84db',\n    themeDarkAlt: '#006ac1',\n    themeDark: '#005aa3',\n    themeDarker: '#004278',\n    neutralLighterAlt: '#faf9f8',\n    neutralLighter: '#f3f2f1',\n    neutralLight: '#edebe9',\n    neutralQuaternaryAlt: '#e1dfdd',\n    neutralQuaternary: '#d0d0d0',\n    neutralTertiaryAlt: '#c8c6c4',\n    neutralTertiary: '#a19f9d',\n    neutralSecondary: '#605e5c',\n    neutralPrimaryAlt: '#3b3a39',\n    neutralPrimary: '#323130',\n    neutralDark: '#201f1e',\n    black: '#000000',\n    white: '#ffffff',\n    accent: '#ffffff',\n  },\n  type: 'light',\n});\n","import { createTheme } from '@fluentui/react';\n\nconst theme = createTheme({\n  palette: {\n    themePrimary: '#0078d7',\n    themeLighterAlt: '#000509',\n    themeLighter: '#001322',\n    themeLight: '#002340',\n    themeTertiary: '#004781',\n    themeSecondary: '#0068bc',\n    themeDarkAlt: '#1682da',\n    themeDark: '#3693e0',\n    themeDarker: '#66aee8',\n    neutralLighterAlt: '#212121',\n    neutralLighter: '#2a2a2a',\n    neutralLight: '#393939',\n    neutralQuaternaryAlt: '#424242',\n    neutralQuaternary: '#494949',\n    neutralTertiaryAlt: '#686868',\n    neutralTertiary: '#c8c8c8',\n    neutralSecondary: '#d0d0d0',\n    neutralPrimaryAlt: '#dadada',\n    neutralPrimary: '#ffffff',\n    neutralDark: '#f4f4f4',\n    black: '#f8f8f8',\n    white: '#171717',\n    accent: '#ffffff',\n  },\n  type: 'dark',\n  isInverted: true,\n});\n\nexport default theme;\n","import { createTheme } from '@fluentui/react';\n\nexport default createTheme({\n  palette: {\n    themePrimary: '#268bd2',\n    themeLighterAlt: '#f5fafd',\n    themeLighter: '#d7eaf8',\n    themeLight: '#b6d9f1',\n    themeTertiary: '#74b5e3',\n    themeSecondary: '#3c96d7',\n    themeDarkAlt: '#227cbc',\n    themeDark: '#1d699f',\n    themeDarker: '#154d75',\n    neutralLighterAlt: '#f6efdd',\n    neutralLighter: '#f2ebd9',\n    neutralLight: '#e8e2d1',\n    neutralQuaternaryAlt: '#d8d2c2',\n    neutralQuaternary: '#cec9b9',\n    neutralTertiaryAlt: '#c6c1b2',\n    neutralTertiary: '#585959',\n    neutralSecondary: '#363737',\n    neutralPrimaryAlt: '#2e2f2f',\n    neutralPrimary: '#000000',\n    neutralDark: '#151515',\n    black: '#0b0b0b',\n    white: '#fdf6e3',\n    accent: '#ffffff',\n  },\n});\n","import { createTheme } from '@fluentui/react';\n\nexport default createTheme({\n  palette: {\n    themePrimary: '#ffffff',\n    themeLighterAlt: '#767676',\n    themeLighter: '#a6a6a6',\n    themeLight: '#c8c8c8',\n    themeTertiary: '#d0d0d0',\n    themeSecondary: '#dadada',\n    themeDarkAlt: '#eaeaea',\n    themeDark: '#f4f4f4',\n    themeDarker: '#f8f8f8',\n    neutralLighterAlt: '#333839',\n    neutralLighter: '#3a4041',\n    neutralLight: '#464d4e',\n    neutralQuaternaryAlt: '#4e5456',\n    neutralQuaternary: '#545b5d',\n    neutralTertiaryAlt: '#6f7679',\n    neutralTertiary: '#f3f3f3',\n    neutralSecondary: '#f5f5f5',\n    neutralPrimaryAlt: '#f7f7f7',\n    neutralPrimary: '#ededed',\n    neutralDark: '#fbfbfb',\n    black: '#fdfdfd',\n    white: '#2b2f30',\n    accent: '#000000',\n  },\n  type: 'dark',\n  isInverted: true,\n});\n","import lightTheme from './lightTheme';\r\nimport darkTheme from './darkTheme';\r\nimport warmTheme from './warmTheme';\r\nimport blackWhiteTheme from './blackWhiteTheme';\r\n\r\nconst selectTheme = (theme) => {\r\n  const localStorageTheme = theme || localStorage.getItem('theme');\r\n  switch (localStorageTheme) {\r\n    case 'light':\r\n      return lightTheme;\r\n    case 'dark':\r\n      return darkTheme;\r\n    case 'warm':\r\n      return warmTheme;\r\n    case 'blackwhite':\r\n      return blackWhiteTheme;\r\n    default:\r\n      return lightTheme;\r\n  }\r\n};\r\n\r\nexport {\r\n  lightTheme,\r\n  darkTheme,\r\n  warmTheme,\r\n  selectTheme,\r\n};\r\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QA/wD/AP+gvaeTAAAGu0lEQVR4nO2abWxb1RnHf+f6Ok5qJ2vjhHSbApRkWdrSteNl6iakVbRAK00QUAu0aXmXVrFPg060o0iZOq0tIKSxrYwPBAZpGdCVVAjWqcmksSHWNFIJrDRp4kqEQtuQtInr2HHse88+uHbsxHZs3xtfB/r7ZD/38TnP87/n3UcwmS1dTmyOVSiyBintU57PTsYRigeHr42mG/zxD8TERynY2rMF5JPAt/IcYH6QYhghf8uu+udASIgK0CQVxrpbgPVWxpc3BPvYWb8RhIwIsLX7VyCfjj6vcdtZWeNkXonNshjN5EJAo90zimcoNGEUPM7Ohc8JtnQ5UYu+4FKzf+TGufzx9iocqkhR3OwkGJY8evAszZ0jEYMUw5T4vqtgd6zkUvK17qKvZfIADlWw5475XFN+aVwXci5B580KyLqo06raObHkdQktx7y0HPMiJVnZChWHKlhV64w31alIXNFvVS419mTfR142vfklAEJA47KyjG2FzLdLJ3JEUqZYF0phoKZ60LisDCEi8+T6pWVZ2WYTKQVI1pwztc0mLneB+C8ffBZg97+GrIrFdBQhuGORi7qKopQ+CQK09Y3S1jc644Hlkxc7LtC3pSblcwUhPXmMp+BQcSzcS6BHPrGi/DWrgzEbZ5Hg3h+kH6BVmoQOtOzaJb92AmTCN34WuCwA207U8cSJUzXPeOgdHLc6nryjoLMWwYJT50Ps/99Fq+PJOwqC2CohGC7w/ewM8I0fA1JuhnJhyBektfNzjp+OHDtdWz2XhuurKXelXopajWkC7Dl8kq1/PcbFsVCC/ZclnTy9/jp+vvJ7ZlVlKqZ0gd3vHOcXr3RMSR7AGwixufkIz777qRlVmY5hAU58McL2tz6a1m/bG8foOeM1Wp3pGBbgz+29hLXpZ4+wJnmxvddodaZjWIAOz2DGvkey8M0XhgUYDYYz9vWNZe6bLwwLsKDSNb1TzNc5vVOeMSxAww3VGfvedeOVRqszHcPrgE03XcPvD3XT1X8hrd8Pry5nw08WZF2+lPB2Zz9/6+inf8jPPGcRNy+ezyMranEVG1/GGC5BtQkOPr6CW3e1czLFNFf/nTJaH/spqi27/xxH/CHWPf8+hz85k2B/p9vH9rYLvLqxlruWVeYcO5i0ELqqwsnRHWvY3rCEK93OBPtTdy6hY8eaBHsmjPhD3La7fUryKCq4axm1z2Pt6+fY23HOUOymLYXLSuzsWLeUHeuW4hsLIwQ4HbkVH03+SF+SaVPqoIfAZkcqKpsOfIUENv6oKqe6ZmQ36CpWZyZ5iAgwcBK0yLJbCpX7Dgzyyodnc6qvoLbD0yYfJRSAgZ44EWw8dHAoJxEKRoCMk48SGpsqQuv5rEVQkMQOAq26GZJ18lEmi6AoPNR6npfTiFCUOBMFFRT2I6Snxm1n7bWl2UdvkJyTj5JEhIfTiLB2SSk1bjsI6UGT+2NySJn/Cy6Gk4/HXgxXfB9skTtAQtd5qaGcB388P6m7EEKAhWOAqclDpCWcy7wlRLFEANOTjxLOXoS0XWDEH+L97nMM+YJUu53cVFeJw27s8uSwf5xbd7Zz9NQM3kNQi6EqsTs03+nmgeUTi6VoF0gqgKZLfnPgY55991MC41rsR+65ZTz2s8X8ek3q/9vTkZfko0wWQWo0N1TEREgpQEjTufcP/+HA0f7EAh0uuKIeBNxWrXHo0cVZxZPX5KNMHhilxksNbh5cPj/5IBjSdO55/t9TkwdQHTG5/vG5jdUvHM84jhF/iNW7/5nf5CHpYunh1iGaP5zYYMVawHhYk0nffLxrZS2UTNykX3OVznubF6WNwZI3P5lJ3UHRw+hfnqin5e6eSAtoalIa//RBmuQBJAz2QWAkZvn7ZwqrX0h93l8QycOU2UFHgB7eA9EW0PjqNqT4XUaFCQEVk1uC5L3NCxPcCib5eNQicFZEXuL4KGhykY3GljIkbwOOjAsKDEPRnMggA/SNCI70DrDh+kqEgO6zfq575hN6vTYIeimYW9S6BsGLsZaATelS0eUtCLLbBEgdBj1QURNrCYf6FUq3d1FRDKf9NnRRCq5SCPnh4oDZqZiD1KsUFJnbpB4VIW5M8EsH/QEHuogehkgY9yf/fUEgVAUp5uT8e6nDV33gPRv5HI82DgN9EPQZDHJmMeFMUMLwafCeAUdp5NBSC0b6WoF0/XSYd0FC1yKD4yyjYI7ErOKyAFYHYDUKQgatDsIyhAwq6KLT6jisQ+lQeH3TYQQtVoeSf8Rr7N3YPnFIvuEvq0AsB5H5jYdZifSB/C/77m8D+D8TYN/y0fprNgAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","import { ChoiceGroup, Stack, Text } from '@fluentui/react';\r\nimport React, { useContext, useState } from 'react';\r\nimport GlobalContext from '../../../services/GlobalContext';\r\nimport { selectTheme } from '../../../themes';\r\nimport darkImg from './theme_dark_icon.png';\r\nimport lightImg from './theme_light_icon.png';\r\nimport solarizedImg from './theme_solarized_icon.png';\r\nimport blackWhiteImg from './theme_blackwhite_icon.png';\r\n\r\nconst SelectTheme = () => {\r\n  const global = useContext(GlobalContext);\r\n  const [theme, setTheme] = useState(global.userPreferences.theme.type);\r\n  const [items] = useState([\r\n    {\r\n      key: 'light',\r\n      text: 'Light',\r\n      imageSrc: lightImg,\r\n      selectedImageSrc: lightImg,\r\n      imageSize: { width: 64, height: 64 },\r\n    },\r\n    {\r\n      key: 'warm',\r\n      text: 'Warm',\r\n      imageSrc: solarizedImg,\r\n      selectedImageSrc: solarizedImg,\r\n      imageSize: { width: 64, height: 64 },\r\n    },\r\n    {\r\n      key: 'dark',\r\n      text: 'Dark',\r\n      imageSrc: darkImg,\r\n      selectedImageSrc: darkImg,\r\n      imageSize: { width: 64, height: 64 },\r\n    },\r\n    {\r\n      key: 'blackwhite',\r\n      text: 'Dark Black&White',\r\n      imageSrc: blackWhiteImg,\r\n      selectedImageSrc: blackWhiteImg,\r\n      imageSize: { width: 64, height: 64 },\r\n    },\r\n  ]);\r\n\r\n  const handleChange = (evt, option) => {\r\n    if (option && option.key) {\r\n      setTheme(option.key);\r\n      localStorage.setItem('theme', option.key);\r\n      global.setContext((prev) => ({\r\n        ...prev,\r\n        userPreferences: {\r\n          ...global.userPreferences,\r\n          theme: selectTheme(option.key),\r\n        },\r\n      }));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Stack verticalAlign=\"start\" tokens={{ childrenGap: 16 }}>\r\n      <Text variant=\"large\">Select color theme:</Text>\r\n      <ChoiceGroup\r\n        options={items}\r\n        selectedKey={theme}\r\n        onChange={handleChange}\r\n      />\r\n    </Stack>\r\n  );\r\n};\r\n\r\nexport default SelectTheme;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  DefaultButton, Modal, Stack, StackItem,\r\n} from '@fluentui/react';\r\nimport SelectTheme from '../../../shared/select-theme/SelectTheme';\r\n\r\nconst ChooseThemeModal = ({ isOpen, setOpen }) => (\r\n  <Modal\r\n    isOpen={isOpen}\r\n    onDismiss={() => setOpen(false)}\r\n    isBlocking={false}\r\n    styles={{\r\n      scrollableContent: {\r\n        minWidth: 300,\r\n        minHeight: 300,\r\n        height: 300,\r\n      },\r\n    }}\r\n  >\r\n    <Stack\r\n      style={{\r\n        height: '100%',\r\n        padding: '16px',\r\n      }}\r\n      horizontalAlign=\"space-evenly\"\r\n      verticalAlign=\"center\"\r\n    >\r\n      <StackItem grow={1}>\r\n        <SelectTheme />\r\n      </StackItem>\r\n      <StackItem align=\"center\">\r\n        <DefaultButton onClick={() => setOpen(false)}>Close</DefaultButton>\r\n      </StackItem>\r\n    </Stack>\r\n  </Modal>\r\n);\r\n\r\nChooseThemeModal.propTypes = {\r\n  isOpen: PropTypes.bool.isRequired,\r\n  setOpen: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ChooseThemeModal;\r\n","import React, { useContext, useState } from 'react';\nimport {\n  Persona,\n  PersonaSize,\n  Stack,\n  Text,\n  Link as FluidLink,\n  Callout,\n  Separator,\n  ActionButton,\n  makeStyles,\n  useKeytipRef,\n} from '@fluentui/react';\nimport keytipStyles from '../../../../styles/keytipStyles';\nimport GlobalContext from '../../../../services/GlobalContext';\nimport ChooseThemeModal from '../choose-theme-modal/ChooseThemeModal';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: '40px',\n    width: '200px',\n    display: 'flex',\n    flexFlow: 'column nowrap',\n    justifyContent: 'center',\n  },\n  link: {\n    color: theme.palette.accent,\n    textAlign: 'center',\n    display: 'block',\n    paddingRight: '16px',\n  },\n  fluidLink: {\n    color: theme.palette.accent,\n  },\n  usernameText: {\n    overflow: 'hidden',\n    paddingRight: '8px',\n    textDecoration: 'none',\n    color: theme.palette.accent,\n  },\n  callout: {\n    minWidth: '200px',\n    minHeight: '100px',\n    padding: '16px',\n  },\n}));\n\nconst UserInfo = () => {\n  const classes = useStyles();\n  const [calloutVisible, setCalloutVisible] = useState(false);\n  const [themeModalOpen, setThemeModalOpen] = useState(false);\n  const global = useContext(GlobalContext);\n  const userLinkRef = useKeytipRef({\n    keytipProps: {\n      styles: keytipStyles,\n      content: 'I',\n      keySequences: ['i'],\n      onExecute: (el) => el.click(),\n    },\n  });\n  const displayName = global.user\n    ? (global.user.displayName || global.user.username)\n    : 'Unknown';\n\n  const handleCalloutToggle = () => setCalloutVisible((prev) => !prev);\n\n  return (\n    <div className={classes.root}>\n      {\n        global.user\n          ? (\n            <FluidLink\n              ref={userLinkRef}\n              onClick={handleCalloutToggle}\n              style={{\n                textDecoration: 'none',\n              }}\n              id=\"persona\"\n            >\n              <Stack verticalAlign=\"center\" wrap={false} horizontal>\n                <Text className={classes.usernameText}>{global.user.username}</Text>\n                <Persona\n                  size={PersonaSize.size32}\n                  text={displayName}\n                  hidePersonaDetails\n                  className={classes.fluidLink}\n                  styles={{\n                    root: {\n                      marginRight: '18px',\n                    },\n                  }}\n                />\n              </Stack>\n              {\n                calloutVisible && (\n                <Callout\n                  role=\"alertdialog\"\n                  gapSpace={0}\n                  target=\"#persona\"\n                  setInitialFocus\n                  isBeakVisible={false}\n                  onDismiss={handleCalloutToggle}\n                >\n                  <Stack className={classes.callout}>\n                    <Stack horizontalAlign=\"space-between\" horizontal>\n                      <Text variant=\"medium\">Admin Tools</Text>\n                      <FluidLink href=\"/auth/logout\">\n                        <Text variant=\"medium\">Sign Out</Text>\n                      </FluidLink>\n                    </Stack>\n                    <Separator />\n                    <Stack horizontal horizontalAlign=\"space-evenly\" wrap>\n                      <Persona size={PersonaSize.size56} />\n                      <Text variant=\"mediumPlus\">{global.user.username}</Text>\n                    </Stack>\n                    <Separator />\n                    <ActionButton\n                      onClick={() => setThemeModalOpen(true)}\n                      iconProps={{\n                        iconName: 'Brush',\n                      }}\n                    >\n                      Chgange Layout\n                    </ActionButton>\n                    <Separator />\n                  </Stack>\n                  <ChooseThemeModal\n                    isOpen={themeModalOpen}\n                    setOpen={setThemeModalOpen}\n                  />\n                </Callout>\n                )\n              }\n            </FluidLink>\n          )\n          : (\n            <div>\n              {\n                global.userLoaded\n                  ? (\n                    <FluidLink href=\"/auth/login\">\n                      <Text className={classes.link} variant=\"mediumPlus\">\n                        Login\n                      </Text>\n                    </FluidLink>\n                  )\n                  : null\n              }\n            </div>\n          )\n      }\n    </div>\n  );\n};\n\nexport default UserInfo;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Icon, IconButton, makeStyles, Text, useTheme,\n} from '@fluentui/react';\nimport UserInfo from '../user-info/UserInfo';\nimport keytipStyles from '../../../../styles/keytipStyles';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    position: 'relative',\n    backgroundColor: theme.palette.themeDark,\n    height: '40px',\n    width: '100vw',\n    display: 'flex',\n    flexFlow: 'row nowrap',\n    justifyContent: 'space-between',\n  },\n  flex: {\n    height: '40px',\n    display: 'flex',\n    flexFlow: 'row nowrap',\n    justifyContent: 'start',\n  },\n  icon: {\n    height: '40px',\n    color: theme.palette.accent,\n  },\n  text: {\n    width: '150px',\n    alignSelf: 'center',\n    textAlign: 'center',\n    color: theme.palette.accent,\n  },\n}));\n\nconst AppBar = ({ toggleDrawer }) => {\n  const theme = useTheme();\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.flex}>\n        <IconButton\n          keytipProps={{\n            styles: keytipStyles,\n            content: 'M',\n            keySequences: ['m'],\n            onExecute: toggleDrawer,\n            hasMenu: true,\n          }}\n          className={classes.icon}\n          iconProps={{ iconName: 'GlobalNavButton' }}\n          title=\"Global Nav\"\n          ariaLabel=\"Global Navigation\"\n          onClick={toggleDrawer}\n        />\n        <Text className={classes.text} variant=\"large\" block nowrap>\n          <Icon\n            iconName=\"Glasses\"\n            styles={{\n              root: {\n                fontSize: '25px',\n                padding: theme.spacing.s2,\n              },\n            }}\n          />\n          Admin Tools\n        </Text>\n      </div>\n      <UserInfo />\n    </div>\n  );\n};\n\nAppBar.propTypes = {\n  toggleDrawer: PropTypes.func.isRequired,\n};\n\nexport default AppBar;\n","import AppBar from './AppBar';\n\nexport default AppBar;\n","/* eslint-disable react/prop-types */\nimport React, { useContext, useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport {\n  Panel, PanelType, classNamesFunction, Icon, ActionButton, Nav,\n} from '@fluentui/react';\nimport constants from '../../../../utils/constants';\nimport GlobalContext from '../../../../services/GlobalContext';\nimport keytipStyles from '../../../../styles/keytipStyles';\n\nconst classNames = classNamesFunction();\nconst styles = () => ({\n  root: {\n  },\n  icon: {\n    height: '40px',\n    width: '100%',\n    borderBottom: '1px solid',\n    position: 'absolute',\n    top: 0,\n    left: 0,\n  },\n  nav: {\n    marginTop: '40px',\n  },\n});\n\nconst Drawer = ({ isOpen, toggleDrawer }) => {\n  const classes = classNames(styles);\n  const global = useContext(GlobalContext);\n  const history = useHistory();\n\n  const handleLinkClick = (evt, link) => {\n    evt.preventDefault();\n    history.push(link.url);\n    toggleDrawer();\n  };\n\n  const [navLinks] = useState([\n    {\n      links: [\n        {\n          name: 'Home',\n          url: '/',\n          icon: 'Home',\n          keyTipContent: '1',\n          keyTipSequence: ['m', '1'],\n          hasMenu: false,\n          onClick: handleLinkClick,\n        },\n        {\n          name: 'Appraisals',\n          url: '/appraisals',\n          code: constants.securities.APPRAISAL_PERIODS.code,\n          grant: 'read',\n          icon: 'Feedback',\n          keyTipContent: '2',\n          keyTipSequence: ['m', '2'],\n          hasMenu: false,\n          onClick: handleLinkClick,\n        },\n        {\n          name: 'Audits',\n          url: '/audits',\n          code: constants.securities.AUDITS.code,\n          grant: 'read',\n          icon: 'ComplianceAudit',\n          keyTipContent: '3',\n          keyTipSequence: ['m', '3'],\n          hasMenu: false,\n          onClick: handleLinkClick,\n        },\n        {\n          name: 'Reporting',\n          code: constants.securities.REPORTS.code,\n          grant: 'read',\n          keyTipContent: '4',\n          keyTipSequence: ['m', '4'],\n          hasMenu: true,\n          links: [\n            {\n              name: 'Appraisal report',\n              url: '/reporting/appraisal-report',\n              code: constants.securities.REPORTS.code,\n              grant: 'read',\n              icon: 'AutoFillTemplate',\n              keyTipContent: '1',\n              keyTipSequence: ['m', '4', '1'],\n              hasMenu: false,\n              onClick: handleLinkClick,\n            },\n            {\n              name: 'Custom reports',\n              url: '/reporting/reports',\n              code: constants.securities.REPORTS.code,\n              grant: 'read',\n              icon: 'ReportDocument',\n              keyTipContent: '2',\n              keyTipSequence: ['m', '4', '2'],\n              hasMenu: false,\n              onClick: handleLinkClick,\n            },\n            {\n              name: 'Templates',\n              url: '/reporting/templates',\n              code: constants.securities.REPORT_TEMPLATES.code,\n              grant: 'read',\n              icon: 'FileTemplate',\n              keyTipContent: '3',\n              keyTipSequence: ['m', '4', '3'],\n              hasMenu: false,\n              onClick: handleLinkClick,\n            },\n          ],\n        },\n        {\n          name: 'Tasks',\n          code: constants.securities.TASK.code,\n          grant: constants.securities.TASK.grants.read,\n          keyTipContent: '5',\n          keyTipSequence: ['m', '5'],\n          hasMenu: true,\n          links: [\n            {\n              name: 'Dashboard',\n              url: '/tasks',\n              code: constants.securities.TASK.code,\n              grant: constants.securities.TASK.grants.read,\n              icon: 'ViewDashboard',\n              keyTipContent: '1',\n              keyTipSequence: ['m', '5', '1'],\n              hasMenu: false,\n              onClick: handleLinkClick,\n            },\n            {\n              name: 'Planning',\n              url: '/tasks/planning',\n              code: constants.securities.TASK.code,\n              grant: constants.securities.TASK.grants.read,\n              icon: 'PlanView',\n              keyTipContent: '2',\n              keyTipSequence: ['m', '5', '2'],\n              hasMenu: false,\n              onClick: handleLinkClick,\n            },\n            {\n              name: 'Rules',\n              url: '/tasks/task-rules',\n              code: constants.securities.TASK.code,\n              grant: constants.securities.TASK.grants.read,\n              icon: 'AustralianRules',\n              keyTipContent: '3',\n              keyTipSequence: ['m', '5', '3'],\n              hasMenu: false,\n              onClick: handleLinkClick,\n            },\n            {\n              name: 'Flows',\n              url: '/tasks/task-flows',\n              code: constants.securities.TASK.code,\n              grant: constants.securities.TASK.grants.read,\n              icon: 'Flow',\n              keyTipContent: '4',\n              keyTipSequence: ['m', '5', '4'],\n              hasMenu: false,\n              onClick: handleLinkClick,\n            },\n          ],\n        },\n        {\n          name: 'Settings',\n          code: constants.securities.SETTINGS.code,\n          grant: 'read',\n          keyTipContent: '6',\n          keyTipSequence: ['m', '6'],\n          hasMenu: true,\n          links: [\n            {\n              name: 'General',\n              url: '/settings',\n              code: constants.securities.SETTINGS.code,\n              grant: 'read',\n              icon: 'Settings',\n              keyTipContent: '1',\n              keyTipSequence: ['m', '6', '1'],\n              hasMenu: false,\n              onClick: handleLinkClick,\n            },\n            {\n              name: 'Users',\n              url: '/settings/users',\n              code: constants.securities.SETTINGS.code,\n              grant: 'users',\n              icon: 'UserFollowed',\n              keyTipContent: '2',\n              keyTipSequence: ['m', '6', '2'],\n              hasMenu: false,\n              onClick: handleLinkClick,\n            },\n            {\n              name: 'Permissions',\n              url: '/settings/permissions',\n              code: constants.securities.SETTINGS.code,\n              grant: 'permissions',\n              icon: 'Permissions',\n              keyTipContent: '3',\n              keyTipSequence: ['m', '6', '3'],\n              hasMenu: false,\n              onClick: handleLinkClick,\n            },\n          ],\n        },\n      ],\n    },\n  ]);\n\n  const filterLinks = (links) => {\n    const result = [];\n    links.forEach((link) => {\n      if (link.code && link.grant) {\n        if (global.Authorize(link.code, link.grant)) {\n          if (link.links) {\n            // eslint-disable-next-line no-param-reassign\n            link.links = filterLinks(link.links);\n          }\n          result.push(link);\n        }\n      } else {\n        result.push(link);\n      }\n    });\n    return result;\n  };\n\n  const [visibleLinksGroup, setVisibleLinksGroup] = useState([]);\n\n  useEffect(() => {\n    setVisibleLinksGroup([{\n      links: filterLinks(navLinks[0].links),\n    }]);\n  }, [global.security, global.user, global.Authorize]);\n\n  return (\n    <Panel\n      isOpen={isOpen}\n      hasCloseButton={false}\n      type={PanelType.smallFixedNear}\n      isLightDismiss\n      onDismiss={toggleDrawer}\n    >\n      <ActionButton\n        className={classes.icon}\n        onClick={toggleDrawer}\n      >\n        <Icon\n          iconName=\"GlobalNavButton\"\n          style={{ marginLeft: 5 }}\n        />\n      </ActionButton>\n      <Nav\n        className={classes.nav}\n        ariaLabel=\"Global navigation\"\n        selectedKey=\"\"\n        groups={visibleLinksGroup}\n        onRenderLink={(link) => (\n          <ActionButton\n            keytipProps={\n                link.keyTipContent\n                && ({\n                  styles: keytipStyles,\n                  content: link.keyTipContent,\n                  onExecute: (el) => (link.links ? link.isExpanded || el.click() : el.click()),\n                  keySequences: link.keyTipSequence,\n                  hasMenu: link.hasMenu || false,\n                })\n              }\n          >\n            {link.name}\n          </ActionButton>\n        )}\n      />\n    </Panel>\n  );\n};\n\nDrawer.propTypes = {\n  isOpen: PropTypes.bool.isRequired,\n  toggleDrawer: PropTypes.func.isRequired,\n};\n\nexport default Drawer;\n","import Drawer from './Drawer';\n\nexport default Drawer;\n","import React, { useState } from 'react';\r\nimport { classNamesFunction } from '@fluentui/react';\r\nimport AppBar from './components/app-bar';\r\nimport Drawer from './components/drawer';\r\n\r\nconst classNames = classNamesFunction();\r\nconst styles = {\r\n  root: {\r\n    position: 'fixed',\r\n    zIndex: 1002,\r\n    left: 0,\r\n    top: 0,\r\n  },\r\n};\r\n\r\nexport default function Navigation() {\r\n  const classes = classNames(styles);\r\n  const [navPaneOpened, setOpened] = useState(false);\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar toggleDrawer={() => setOpened(true)} />\r\n      <Drawer isOpen={navPaneOpened} toggleDrawer={() => setOpened((prev) => !prev)} />\r\n    </div>\r\n  );\r\n}\r\n","import AuthorizationRedirectComponent from './AuthorizationRedirectComponent';\r\n\r\nexport default AuthorizationRedirectComponent;\r\n","import React, { useContext, useState, useEffect } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport GlobalContext from '../../../services/GlobalContext';\r\nimport NotificationService from '../../../services/NotificationService';\r\n\r\nconst AuthorizationRedirectComponent = ({\r\n  code, grant, to, failureNotification, ...props\r\n}) => {\r\n  const global = useContext(GlobalContext);\r\n  const [access, setAccess] = useState(false);\r\n  const [redirect, setRedirect] = useState(false);\r\n  const [notified, setNotified] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const isAuthorized = global.Authorize(code, grant);\r\n    setAccess(isAuthorized);\r\n    if (global.security) {\r\n      setRedirect(!isAuthorized);\r\n      if (failureNotification && !isAuthorized && !notified) {\r\n        NotificationService.notify(failureNotification.content);\r\n        setNotified(true);\r\n      }\r\n    }\r\n  }, [global, code, grant, failureNotification, notified]);\r\n\r\n  let result = null;\r\n\r\n  if (access) {\r\n    result = props.children;\r\n  }\r\n\r\n  if (redirect) {\r\n    result = (<Redirect to={to || '/'} />);\r\n  }\r\n\r\n  return result;\r\n};\r\n\r\nexport default AuthorizationRedirectComponent;\r\n","import AppraisalDetailsInfo from './AppraisalDetailsInfo';\r\n\r\nexport default AppraisalDetailsInfo;\r\n","import { useEffect } from 'react';\r\nimport AppraisalService from '../../../../services/AppraisalService';\r\n\r\nconst AppraisalDetailsInfo = ({ periodId, setPeriodDetails }) => {\r\n  useEffect(() => {\r\n    async function run() {\r\n      const data = await AppraisalService.getItems(periodId);\r\n      setPeriodDetails(data);\r\n    }\r\n    run();\r\n  }, [periodId, setPeriodDetails]);\r\n\r\n  return null;\r\n};\r\n\r\nexport default AppraisalDetailsInfo;\r\n","import axios from 'axios';\r\nimport NotificationService from './NotificationService';\r\n\r\nconst UserService = {\r\n  baseUrl: '/api/users',\r\n  teamUsersPath: '/api/users/team-users',\r\n  updateUsersPath: (id) => `/api/users/${id}`,\r\n  getUserPath: (id) => `/api/users/user/${id}`,\r\n  getUserOrganizationsPath: '/api/users/organizations',\r\n  getUserTeamMembersPath: '/api/users/team-members',\r\n  getSettingsUsersPath: '/api/settings/users',\r\n  putSettingsUsersPath: (id) => `/api/settings/users/${id}`,\r\n\r\n  normalizeUser(user) {\r\n    const u = user;\r\n    if (u.role && u.role.id) {\r\n      u.role = u.role.id;\r\n    }\r\n    if (u.organization && u.organization.id) {\r\n      u.organization = u.organization.id;\r\n    }\r\n    u.organizations = u.organizations.map((o) => o.id || o);\r\n    return u;\r\n  },\r\n\r\n  async getSettingsUsers() {\r\n    try {\r\n      const response = await axios.get(this.getSettingsUsersPath);\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService\r\n        .notifyError((err.response.data && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async getUser(id) {\r\n    try {\r\n      const response = await axios.get(this.getUserPath(id));\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService\r\n        .notifyError((err.response.data && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async updateUser(id, user) {\r\n    try {\r\n      const response = await axios.put(this.updateUsersPath(id), this.normalizeUser(user));\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}\\n`);\r\n    } catch (err) {\r\n      NotificationService\r\n        .notifyError((err.response.data && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async updateSettingsUser(id, user) {\r\n    try {\r\n      const response = await axios.put(this.putSettingsUsersPath(id), this.normalizeUser(user));\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}\\n`);\r\n    } catch (err) {\r\n      NotificationService\r\n        .notifyError((err.response.data && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async getUserOrganizations() {\r\n    try {\r\n      const response = await axios.get(this.getUserOrganizationsPath);\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService\r\n        .notifyError((err.response.data && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async getUserTeamMembers() {\r\n    try {\r\n      const response = await axios.get(this.getUserTeamMembersPath);\r\n      return response.data;\r\n    } catch (err) {\r\n      NotificationService\r\n        .notifyError((err.response.data && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n};\r\nexport default UserService;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { BasePickerListBelow, makeStyles, Text } from '@fluentui/react';\r\nimport { useScreenClass } from 'react-grid-system';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  item: {\r\n    textAlign: 'center',\r\n    padding: theme.spacing.m,\r\n    color: theme.palette.neutralSecondary,\r\n    marginTop: theme.spacing.s2,\r\n    '& > *': {\r\n      padding: theme.spacing.s2,\r\n      border: `1px solid ${theme.palette.themeSecondary}`,\r\n    },\r\n  },\r\n  suggestion: {\r\n    padding: theme.spacing.m,\r\n  },\r\n  root: {\r\n    '& input': {\r\n      backgroundColor: theme.palette.white,\r\n      color: theme.palette.neutralTertiary,\r\n      '& ::placeholder': {\r\n        color: theme.palette.neutralTertiary,\r\n      },\r\n    },\r\n  },\r\n}));\r\n\r\nconst defaultGetText = (item) => item.text;\r\n\r\nconst defaultRenderSuggestionItem = (getText, classes) => (item) => (\r\n  <div className={classes.suggestion}>\r\n    <Text variant=\"mediumPlus\">{getText(item)}</Text>\r\n  </div>\r\n);\r\n\r\nconst defaultRenderItem = (getText, classes) => (item) => (\r\n  <div className={classes.item} key={item.key}>\r\n    <Text variant=\"mediumPlus\">{getText(item)}</Text>\r\n  </div>\r\n);\r\n\r\nconst SinglePicker = ({\r\n  options,\r\n  getTextFromItem,\r\n  selected,\r\n  onSelect,\r\n  onRenderItem,\r\n  onRenderSuggestionsItem,\r\n  placeholder = 'Select or search a value in the list...',\r\n  className,\r\n  styles,\r\n  maxHeight,\r\n}) => {\r\n  const classes = useStyles();\r\n  const sc = useScreenClass();\r\n  const [_selected, setSelected] = useState([]);\r\n  const [maxWidth, setMaxwidth] = useState(200);\r\n  const inputRef = useRef();\r\n  const getText = getTextFromItem || defaultGetText;\r\n  const renderItem = onRenderItem || defaultRenderItem(getText, classes);\r\n  const renderSuggestionsItem = onRenderSuggestionsItem\r\n  || defaultRenderSuggestionItem(getText, classes);\r\n\r\n  const handleFilter = (filter, suggestions) => {\r\n    if (filter === '') return suggestions;\r\n    return options.filter(\r\n      (option) => getText(option).toLowerCase().indexOf(filter.toLowerCase()) !== -1,\r\n    );\r\n  };\r\n\r\n  const handleSelect = (item) => {\r\n    if (onSelect) {\r\n      onSelect(item);\r\n    }\r\n    setSelected([item]);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (inputRef.current) {\r\n      setMaxwidth(inputRef.current.clientWidth);\r\n    }\r\n  }, [inputRef, sc]);\r\n\r\n  return (\r\n    <div\r\n      ref={inputRef}\r\n      className={`${classes.root} ${className}`}\r\n    >\r\n      <BasePickerListBelow\r\n        inputProps={{\r\n          placeholder,\r\n        }}\r\n        pickerCalloutProps={{\r\n          styles: {\r\n            root: {\r\n              width: maxWidth,\r\n            },\r\n          },\r\n        }}\r\n        pickerSuggestionsProps={{\r\n          styles: {\r\n            suggestionsContainer: {\r\n              maxHeight,\r\n            },\r\n          },\r\n        }}\r\n        styles={styles}\r\n        selectedItems={selected ? [selected] : _selected}\r\n        onItemSelected={handleSelect}\r\n        onEmptyResolveSuggestions={() => options}\r\n        onResolveSuggestions={handleFilter}\r\n        onRenderItem={({ item }) => renderItem(item)}\r\n        getTextFromItem={getText}\r\n        onRenderSuggestionsItem={renderSuggestionsItem}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nSinglePicker.propTypes = {\r\n  options: PropTypes.arrayOf(PropTypes.shape({\r\n    key: PropTypes.string,\r\n  })).isRequired,\r\n  getTextFromItem: PropTypes.func,\r\n  selected: PropTypes.shape({\r\n    key: PropTypes.string,\r\n  }),\r\n  onSelect: PropTypes.func,\r\n  onRenderItem: PropTypes.func,\r\n  onRenderSuggestionsItem: PropTypes.func,\r\n  placeholder: PropTypes.string,\r\n  className: PropTypes.string,\r\n  styles: PropTypes.shape({\r\n    input: PropTypes.shape({}),\r\n    itemsWrapper: PropTypes.shape({}),\r\n    root: PropTypes.shape({}),\r\n    screenReaderText: PropTypes.shape({}),\r\n    text: PropTypes.shape({}),\r\n  }),\r\n  maxHeight: PropTypes.string,\r\n};\r\n\r\nSinglePicker.defaultProps = {\r\n  getTextFromItem: defaultGetText,\r\n  selected: null,\r\n  onSelect: null,\r\n  onRenderItem: null,\r\n  onRenderSuggestionsItem: null,\r\n  placeholder: 'Select or search a value in the list...',\r\n  className: '',\r\n  styles: null,\r\n  maxHeight: '600px',\r\n};\r\n\r\nexport default SinglePicker;\r\n","import TeamMatesAutocomplete from './TeamMatesAutocomplete';\r\n\r\nexport default TeamMatesAutocomplete;\r\n","import React, { useState, useEffect } from 'react';\r\nimport UserService from '../../../services/UserService';\r\nimport SinglePicker from '../single-picker/SinglePicker';\r\n\r\nconst TeamMatesAutocomplete = ({ onUserSelect }) => {\r\n  const [users, setUsers] = useState([]);\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    async function run() {\r\n      const data = await UserService.getUserTeamMembers();\r\n      if (mounted) setUsers(data);\r\n    }\r\n    run();\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, []);\r\n\r\n  const handleSelect = (value) => {\r\n    if (onUserSelect) { onUserSelect(value.data); }\r\n  };\r\n\r\n  const autocomplete = (\r\n    <SinglePicker\r\n      placeholder=\"Select or search for a user\"\r\n      options={users.map((u) => ({\r\n        key: u.id,\r\n        data: u,\r\n      }))}\r\n      getTextFromItem={(u) => u.data.username}\r\n      onSelect={handleSelect}\r\n      onRenderItem={() => null}\r\n    />\r\n  );\r\n\r\n  return (\r\n    autocomplete\r\n  );\r\n};\r\n\r\nexport default TeamMatesAutocomplete;\r\n","import React, { useCallback, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useParams, useHistory } from 'react-router-dom';\r\nimport TeamMatesAutocomplete from '../../../shared/team-mates-autocomplete';\r\n\r\nconst AppraisalUserRedirect = ({ defaultValue }) => {\r\n  const { id } = useParams();\r\n  const history = useHistory();\r\n  const [selectedUser, setSelectedUser] = useState(defaultValue || null);\r\n\r\n  const handleSelect = useCallback((user) => {\r\n    if (user) return history.push(`/appraisals/${id}/user/${user.id}`);\r\n    return setSelectedUser(user);\r\n  }, [history, id]);\r\n\r\n  return (\r\n    <>\r\n      <TeamMatesAutocomplete\r\n        value={selectedUser}\r\n        onUserSelect={(user) => handleSelect(user)}\r\n        defaultValue={defaultValue}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nAppraisalUserRedirect.propTypes = {\r\n  defaultValue: PropTypes.shape({\r\n    id: PropTypes.string,\r\n    username: PropTypes.string,\r\n  }),\r\n};\r\n\r\nAppraisalUserRedirect.defaultProps = {\r\n  defaultValue: null,\r\n};\r\n\r\nexport default AppraisalUserRedirect;\r\n","import AppraisalUserRedirect from './AppraisalUserRedirect';\r\n\r\nexport default AppraisalUserRedirect;\r\n","import AuthorizationComponent from './AuthorizationComponent';\r\n\r\nexport default AuthorizationComponent;\r\n","import { useContext, useState, useEffect } from 'react';\r\nimport GlobalContext from '../../../services/GlobalContext';\r\n\r\nconst AuthorizationComponent = ({\r\n  code, grant, onReject, ...props\r\n}) => {\r\n  const global = useContext(GlobalContext);\r\n  const [access, setAccess] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setAccess(global.Authorize(code, grant));\r\n  }, [global, code, grant]);\r\n\r\n  if (access) {\r\n    return props.children;\r\n  } if (onReject) {\r\n    return onReject();\r\n  }\r\n  return null;\r\n};\r\n\r\nexport default AuthorizationComponent;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@fluentui/react';\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  chip: {\r\n    borderRadius: '16px',\r\n    textAlign: 'center',\r\n    verticalAlign: 'middle',\r\n  },\r\n}));\r\n\r\nconst Chip = ({ style, children, className }) => {\r\n  const classes = useStyles();\r\n  return (\r\n    <div className={`${className} ${classes.chip}`} style={style}>\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nChip.propTypes = {\r\n  style: PropTypes.shape({}),\r\n  className: PropTypes.string,\r\n  // eslint-disable-next-line react/forbid-prop-types\r\n  children: PropTypes.any.isRequired,\r\n};\r\n\r\nChip.defaultProps = {\r\n  className: '',\r\n  style: {},\r\n};\r\n\r\nexport default Chip;\r\n","import Chip from './Chip';\r\n\r\nexport default Chip;\r\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  ActionButton,\r\n  Callout,\r\n  DefaultButton,\r\n  makeStyles,\r\n  Separator,\r\n  Stack,\r\n  Text,\r\n  TextField,\r\n} from '@fluentui/react';\r\nimport { useScreenClass } from 'react-grid-system';\r\nimport { useParams } from 'react-router-dom';\r\nimport {\r\n  validate, perform, not, and, or,\r\n} from '../../../../services/validators';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  calloutPrefix: {\r\n    boxShadow: theme.effects.elevation64,\r\n  },\r\n}));\r\n\r\nconst CustomPrefix = ({ children, id }) => {\r\n  const classes = useStyles();\r\n  const [isCalloutVisible, setIsCalloutVisible] = useState(false);\r\n\r\n  return (\r\n    <>\r\n      <ActionButton\r\n        id={`prefix-${id}`}\r\n        tabIndex={-1}\r\n        iconProps={{\r\n          iconName: 'Info',\r\n        }}\r\n        onClick={() => setIsCalloutVisible((prev) => !prev)}\r\n      />\r\n      {\r\n        isCalloutVisible\r\n          ? (\r\n            <Callout\r\n              className={classes.calloutPrefix}\r\n              target={`#prefix-${id}`}\r\n              setInitialFocus\r\n              onDismiss={() => setIsCalloutVisible(false)}\r\n              role=\"alertdialog\"\r\n            >\r\n              <Stack\r\n                horizontalAlign=\"start\"\r\n                tokens={{\r\n                  childrenGap: 4,\r\n                }}\r\n                style={{\r\n                  padding: '20px',\r\n                }}\r\n              >\r\n                {children}\r\n                <DefaultButton onClick={() => setIsCalloutVisible(false)}>Close</DefaultButton>\r\n              </Stack>\r\n            </Callout>\r\n          )\r\n          : null\r\n      }\r\n    </>\r\n  );\r\n};\r\n\r\nconst CustomSuffix = ({ menuProps }) => (\r\n  <ActionButton\r\n    tabIndex={-1}\r\n    // onRenderMenuIcon={() => null}\r\n    iconProps={{\r\n      iconName: 'MoreVertical',\r\n    }}\r\n    menuProps={menuProps}\r\n  />\r\n);\r\n\r\nconst AppraisalInput = ({\r\n  item,\r\n  idx,\r\n  changeHandler,\r\n  blurHandler,\r\n  removeHandler,\r\n  changeTypeHandler,\r\n  canInsert,\r\n  canUpdate,\r\n  canDelete,\r\n}) => {\r\n  const sc = useScreenClass();\r\n  let multilineTrashold = 80;\r\n  if (sc === 'sm' || sc === 'xl') {\r\n    multilineTrashold = 50;\r\n  } else if (sc === 'xs' || sc === 'md') {\r\n    multilineTrashold = 25;\r\n  }\r\n  const [value, setValue] = useState({ ...item });\r\n  const [modified, setModified] = useState(false);\r\n  const [multiline, setMultiline] = useState(item.content.length > multilineTrashold);\r\n  const { userId } = useParams();\r\n  const [validations, setValidations] = useState({\r\n    isRelated: false,\r\n    isDeletable: false,\r\n    isFinished: false,\r\n    inputEditable: true,\r\n  });\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    async function run() {\r\n      const calls = [\r\n        perform(validate.itemRelated(item), false),\r\n        perform(validate.itemStatus(item, 'Finished'), false),\r\n        perform(and([\r\n          not(validate.itemRelated(item)),\r\n          or([\r\n            not(validate.isTruthy(userId)),\r\n            validate.isTruthy(userId),\r\n          ]),\r\n        ]), false),\r\n      ];\r\n      const [checkRelated, checkFinished, checkEditable] = await Promise.all(calls);\r\n      const isRelated = checkRelated.result;\r\n      const isFinished = checkFinished.result;\r\n      const inputEditable = (canInsert || canUpdate)\r\n      && checkEditable.result;\r\n      const isDeletable = canDelete && !isRelated;\r\n      if (mounted) {\r\n        setValidations({\r\n          isRelated,\r\n          isDeletable,\r\n          isFinished,\r\n          inputEditable,\r\n        });\r\n      }\r\n    }\r\n    setValue({ ...item });\r\n    run();\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, [item, canInsert, canUpdate, canDelete, userId]);\r\n\r\n  const handleBlur = async (e) => {\r\n    e.persist();\r\n    const mod = modified;\r\n    setModified(false);\r\n    await blurHandler(value, idx, mod);\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    if (item.type !== 'Feedback') {\r\n      const newMultiline = e.target.value.length > multilineTrashold;\r\n      if (multiline !== newMultiline) {\r\n        setMultiline(newMultiline);\r\n      }\r\n    }\r\n    setValue({ ...item, content: e.target.value });\r\n    changeHandler({ ...value, content: e.target.value }, idx, !modified);\r\n    setModified(true);\r\n  };\r\n\r\n  const handleTypeChange = (type) => async () => {\r\n    if (item.id !== 0) { await changeTypeHandler(item.id, type); }\r\n  };\r\n\r\n  const handleDelete = async (e) => {\r\n    e.persist();\r\n    setValue({ ...item, content: '' });\r\n    await removeHandler(value, idx);\r\n    setModified(false);\r\n  };\r\n\r\n  const menuProps = {\r\n    shouldFocusOnMount: true,\r\n    shouldFocusOnContainer: true,\r\n    items: [],\r\n  };\r\n\r\n  if (item.type.indexOf('Planned') !== -1) {\r\n    menuProps.items.push({\r\n      key: 'moveAchieved',\r\n      text: 'Move to Achieved',\r\n      iconProps: {\r\n        iconName: 'ChevronLeftSmall',\r\n      },\r\n      onClick: handleTypeChange(item.type.replace('Planned', 'Achieved')),\r\n    });\r\n  }\r\n\r\n  if (item.type.indexOf('Achieved') !== -1) {\r\n    menuProps.items.push({\r\n      key: 'movePlanned',\r\n      text: 'Move to Planned',\r\n      iconProps: {\r\n        iconName: 'ChevronRightSmall',\r\n      },\r\n      onClick: handleTypeChange(item.type.replace('Achieved', 'Planned')),\r\n    });\r\n  }\r\n\r\n  menuProps.items.push({\r\n    key: 'delete',\r\n    text: 'Delete',\r\n    iconProps: {\r\n      iconName: 'Delete',\r\n    },\r\n    disabled: !validations.isDeletable,\r\n    onClick: handleDelete,\r\n  });\r\n\r\n  const tooltip = (\r\n    <Stack\r\n      horizontalAlign=\"start\"\r\n      tokens={{\r\n        childrenGap: '3',\r\n      }}\r\n    >\r\n      {\r\n        validations.isRelated\r\n          ? (\r\n            <>\r\n              <Stack.Item>\r\n                <Text variant=\"medium\">\r\n                  This item was added automatically from previous appraisals\r\n                </Text>\r\n              </Stack.Item>\r\n              <Stack.Item align=\"stretch\">\r\n                <Separator />\r\n              </Stack.Item>\r\n            </>\r\n          )\r\n          : null\r\n      }\r\n      <Text variant=\"medium\">\r\n        <strong>Created user:</strong>\r\n        {' '}\r\n        {item.createdUser && item.createdUser.username}\r\n      </Text>\r\n      <Text variant=\"medium\">\r\n        <strong>Created date:</strong>\r\n        {' '}\r\n        {item.createdDate && new Date(item.createdDate).toLocaleString()}\r\n      </Text>\r\n      <Stack.Item align=\"stretch\">\r\n        <Separator />\r\n      </Stack.Item>\r\n      {\r\n        item.modifiedUser\r\n          ? (\r\n            <>\r\n              <Stack.Item>\r\n                <Text variant=\"medium\">\r\n                  <strong>Modified user:</strong>\r\n                  {' '}\r\n                  {item.modifiedUser && item.modifiedUser.username}\r\n                </Text>\r\n              </Stack.Item>\r\n            </>\r\n          )\r\n          : null\r\n      }\r\n      {\r\n        item.modifiedUser\r\n          ? (\r\n            <>\r\n              <Stack.Item>\r\n                <Text variant=\"medium\">\r\n                  <strong>Modified date:</strong>\r\n                  {' '}\r\n                  {item.modifiedDate && new Date(item.modifiedDate).toLocaleString()}\r\n                </Text>\r\n              </Stack.Item>\r\n              <Stack.Item align=\"stretch\">\r\n                <Separator />\r\n              </Stack.Item>\r\n            </>\r\n          )\r\n          : null\r\n      }\r\n    </Stack>\r\n  );\r\n\r\n  return item.type !== 'Feedback'\r\n    ? (\r\n      <TextField\r\n        id={`app-item-${item.type.toLowerCase()}-${idx}`}\r\n        value={value.content}\r\n        resizable\r\n        multiline={multiline}\r\n        styles={{\r\n          prefix: {\r\n            backgroundColor: 'transparent',\r\n            padding: '0',\r\n          },\r\n          suffix: {\r\n            backgroundColor: 'transparent',\r\n            padding: '0',\r\n          },\r\n          field: {\r\n            padding: '0',\r\n          },\r\n        }}\r\n        onRenderPrefix={() => (item.id !== 0 ? <CustomPrefix id={`${item.type}-${idx}`}>{tooltip}</CustomPrefix> : null)}\r\n        onRenderSuffix={() => (item.id !== 0 ? <CustomSuffix menuProps={menuProps} /> : null)}\r\n        autoAdjustHeight\r\n        autoComplete=\"off\"\r\n        onChange={handleChange}\r\n        onBlur={handleBlur}\r\n        readOnly={!validations.inputEditable}\r\n        iconProps={validations.isRelated ? {\r\n          iconName: 'History',\r\n          style: {\r\n            position: 'relative',\r\n            alignSelf: 'center',\r\n            bottom: 0,\r\n            right: 0,\r\n            paddingRight: 0,\r\n            marginLeft: '8px',\r\n          },\r\n        } : null}\r\n      />\r\n    )\r\n    : (\r\n      <TextField\r\n        id={`app-item-${item.type.toLowerCase()}-${idx}`}\r\n        value={value.content}\r\n        multiline\r\n        autoAdjustHeight\r\n        autoComplete=\"off\"\r\n        onChange={handleChange}\r\n        onBlur={handleBlur}\r\n        disabled={!validations.inputEditable}\r\n      />\r\n    );\r\n};\r\n\r\nAppraisalInput.propTypes = {\r\n  item: PropTypes.shape({\r\n    id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\r\n    status: PropTypes.string,\r\n    type: PropTypes.string,\r\n    content: PropTypes.string,\r\n    relatedItemId: PropTypes.string,\r\n    createdUser: PropTypes.oneOfType([PropTypes.string, PropTypes.shape({\r\n      id: PropTypes.string,\r\n      username: PropTypes.string,\r\n    })]),\r\n    createdDate: PropTypes.oneOfType([PropTypes.string, PropTypes.objectOf(Date)]),\r\n    modifiedUser: PropTypes.shape({\r\n      id: PropTypes.string,\r\n      username: PropTypes.string,\r\n    }),\r\n    modifiedDate: PropTypes.string,\r\n  }).isRequired,\r\n  idx: PropTypes.number.isRequired,\r\n  changeHandler: PropTypes.func.isRequired,\r\n  blurHandler: PropTypes.func.isRequired,\r\n  removeHandler: PropTypes.func.isRequired,\r\n  changeTypeHandler: PropTypes.func.isRequired,\r\n  canInsert: PropTypes.bool.isRequired,\r\n  canUpdate: PropTypes.bool.isRequired,\r\n  canDelete: PropTypes.bool.isRequired,\r\n};\r\n\r\nCustomPrefix.propTypes = {\r\n  // eslint-disable-next-line react/forbid-prop-types\r\n  children: PropTypes.any.isRequired,\r\n  id: PropTypes.string.isRequired,\r\n};\r\n\r\nCustomSuffix.propTypes = {\r\n  menuProps: PropTypes.shape({}).isRequired,\r\n};\r\n\r\nexport default AppraisalInput;\r\n","import AppraisalInput from './AppraisalInput';\r\n\r\nexport default AppraisalInput;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@fluentui/react';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  box: {\r\n    padding: theme.spacing.l2,\r\n  },\r\n}));\r\n\r\nconst Box = ({ children, style, className }) => {\r\n  const classes = useStyles();\r\n  return (\r\n    <div style={style} className={`${classes.box} ${className}`}>\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nBox.propTypes = {\r\n  style: PropTypes.shape({}),\r\n  className: PropTypes.string,\r\n  children: PropTypes.arrayOf(PropTypes.element).isRequired,\r\n};\r\n\r\nBox.defaultProps = {\r\n  style: {},\r\n  className: '',\r\n};\r\n\r\nexport default Box;\r\n","import Box from './Box';\r\n\r\nexport default Box;\r\n","import React, { useCallback, useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useParams } from 'react-router-dom';\r\nimport { makeStyles, Stack, Text } from '@fluentui/react';\r\nimport AppraisalInput from '../appraisal-input';\r\nimport AppraisalService from '../../../../services/AppraisalService';\r\nimport Box from '../../../shared/box';\r\nimport { validate, perform } from '../../../../services/validators';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  stack: {\r\n    '& > * + *': {\r\n      paddingTop: theme.spacing.s1,\r\n    },\r\n  },\r\n}));\r\n\r\nconst FieldSet = ({\r\n  context,\r\n  items,\r\n  setItems,\r\n  details,\r\n  type,\r\n  setOtherItems,\r\n}) => {\r\n  const minItems = {\r\n    Achieved: 5,\r\n    Planned: 5,\r\n    Training_Planned: 3,\r\n    Training_Achieved: 3,\r\n    SWOT_S: 5,\r\n    SWOT_W: 5,\r\n    SWOT_O: 5,\r\n    SWOT_T: 5,\r\n    Feedback: 1,\r\n  };\r\n\r\n  const labels = {\r\n    Achieved: 'Achieved',\r\n    Planned: 'Planned',\r\n    Training_Planned: 'Planned',\r\n    Training_Achieved: 'Achieved',\r\n    SWOT_S: 'Strengths',\r\n    SWOT_W: 'Weaknesses',\r\n    SWOT_O: 'Opportunities',\r\n    SWOT_T: 'Threats',\r\n    Feedback: 'Remarks / Other feedback',\r\n  };\r\n  const periodId = details.id;\r\n  const classes = useStyles();\r\n  const min = minItems[type] || 0;\r\n  const [validations, setValidations] = useState({\r\n    canInsert: false,\r\n    canUpdate: false,\r\n    canDelete: false,\r\n  });\r\n  const { userId } = useParams();\r\n  const { user } = context;\r\n\r\n  useEffect(() => {\r\n    async function run() {\r\n      // if we have no userid, we need to check if the period is locked\r\n      let isLocked = !userId\r\n        ? (await validate.periodLocked(details, user.id)()).result\r\n        : false;\r\n      const isFinished = (await validate.periodStatus(details, 'Finished')()).result;\r\n      // Locked is false by default for finished periods\r\n      if (isFinished) isLocked = false;\r\n      // if period is locked, we cannot insert, update or delete items\r\n      if (!isLocked) {\r\n        const canInsert = (await perform(validate\r\n          .canInsert(context, details, userId), false)).result;\r\n        const canUpdate = (await perform(validate\r\n          .canUpdate(context, details, userId), false)).result;\r\n        const canDelete = (await perform(validate\r\n          .canDelete(context, details, userId), false)).result;\r\n        setValidations((prev) => ({\r\n          ...prev,\r\n          canInsert,\r\n          canUpdate,\r\n          canDelete,\r\n        }));\r\n      }\r\n    }\r\n    setItems(AppraisalService.normalizeSet(\r\n      periodId,\r\n      context.user,\r\n      items,\r\n      min,\r\n      type,\r\n    ));\r\n    run();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  // CRUD functions\r\n  const addItem = useCallback(async (id, item) => {\r\n    if (!userId) {\r\n      return AppraisalService.addItemToSet(id, item);\r\n    }\r\n    return AppraisalService.addUserItemToSet(id, userId, item);\r\n  }, [userId]);\r\n\r\n  const updateItem = useCallback(async (id, item) => {\r\n    if (!userId) {\r\n      return AppraisalService.updateItemInSet(id, item);\r\n    }\r\n    return AppraisalService.updateUserItemInSet(id, userId, item);\r\n  }, [userId]);\r\n\r\n  const deleteItem = useCallback(async (id, item) => {\r\n    if (!userId) {\r\n      return AppraisalService.deleteItemFromSet(id, item);\r\n    }\r\n    return AppraisalService.deleteUserItemFromSet(id, userId, item);\r\n  }, [userId]);\r\n\r\n  const changeHandler = useCallback((item, idx, firstChange) => {\r\n    if (firstChange) {\r\n      setItems((prev) => {\r\n        const copy = prev.slice();\r\n        copy[idx].content = item.content;\r\n        return AppraisalService.normalizeSet(\r\n          periodId, user, copy, min, type,\r\n        );\r\n      });\r\n    }\r\n  }, [user, periodId, type, min, setItems]);\r\n\r\n  const changeTypeHandler = useCallback(async (itemId, itemType) => {\r\n    if (itemId !== 0 && setOtherItems) {\r\n      const item = items.find((i) => i.id === itemId);\r\n      if (item) {\r\n        item.type = itemType;\r\n        const result = await updateItem(periodId, item);\r\n        if (!result.error) {\r\n          setItems((prev) => (\r\n            AppraisalService.normalizeSet(\r\n              periodId,\r\n              user,\r\n              prev.filter((i) => i.id !== result.value.id),\r\n              min,\r\n              itemType,\r\n            )));\r\n          setOtherItems((prev) => AppraisalService.normalizeSet(\r\n            periodId,\r\n            user,\r\n            prev.filter((i) => i.content !== '').concat(result.value),\r\n            min,\r\n            itemType,\r\n          ));\r\n        }\r\n      }\r\n    }\r\n  }, [user, setOtherItems, min, items, periodId, setItems, updateItem]);\r\n\r\n  // Handle the remove button press\r\n  const removeHandler = useCallback(async (item, idx) => {\r\n    try {\r\n      if (!Number.isNaN(idx) && idx < items.length) {\r\n        if (item.id !== 0) {\r\n          const result = await deleteItem(periodId, items[idx]);\r\n          if (result.error !== null) {\r\n            throw result.error;\r\n          }\r\n        }\r\n        setItems((prev) => {\r\n          const copy = prev.filter((i) => i.id !== item.id);\r\n          return AppraisalService.normalizeSet(\r\n            periodId,\r\n            user,\r\n            copy,\r\n            min,\r\n            type,\r\n          );\r\n        });\r\n      }\r\n    } catch (err) {\r\n      setItems((prev) => {\r\n        const copy = prev.slice();\r\n        copy[idx] = item;\r\n        return AppraisalService.normalizeSet(\r\n          periodId,\r\n          user,\r\n          copy,\r\n          min,\r\n          type,\r\n        );\r\n      });\r\n    }\r\n  }, [user, items, periodId, type, min, deleteItem, setItems]);\r\n\r\n  /*\r\n      Following procedure needs to syncronize the current\r\n    item modification with the database\r\n    whenever user loses focus of the input field.\r\n    (Press Tab or click out).\r\n    I receive the item that i was modifying, it's order in\r\n    the group of inputs (index), and a\r\n    flag saiyng whether it was modified.\r\n   */\r\n  const blurHandler = useCallback(async (item, idx, modified) => {\r\n    // If the element i want to syncronize is valid, meaning it has correct order number and type.\r\n    if (idx < items.length && item.type === type) {\r\n      // I determine if the item is new (if it was earlier saved to the database)\r\n      const isNew = item.id === 0 && item.content;\r\n      // I determine if the item needs to be deleted from the database\r\n      // (is not new and content is empty)\r\n      const isToBeDeleted = item.id !== 0 && item.content === '';\r\n      if (isNew) {\r\n        // I try to add the item to the database.\r\n        const result = await addItem(periodId, item);\r\n        // Depending whether the addition succeeded or not, i update the input field accordingly\r\n        setItems((prev) => {\r\n          const copy = prev.slice();\r\n          if (!result.error) {\r\n            copy[idx] = result.value;\r\n          } else {\r\n            copy[idx] = item;\r\n            copy[idx].content = '';\r\n          }\r\n          return AppraisalService.normalizeSet(\r\n            periodId,\r\n            user,\r\n            copy,\r\n            min,\r\n            type,\r\n          );\r\n        });\r\n      } else if (isToBeDeleted) {\r\n        // I try to delete the item from the database:\r\n        const result = await deleteItem(periodId, item);\r\n        // Depending whether the addition succeeded or not, i update the input field accordingly\r\n        setItems((prev) => {\r\n          let copy = prev.slice();\r\n          if (!result.error) {\r\n            copy = copy.filter((i) => i.id !== item.id);\r\n          } else if (result.value) {\r\n            copy[idx] = result.value;\r\n          }\r\n          return AppraisalService.normalizeSet(\r\n            periodId,\r\n            user,\r\n            copy,\r\n            min,\r\n            type,\r\n          );\r\n        });\r\n      } else if (!isNew && !isToBeDeleted && modified && item.content !== '') {\r\n        // I try to modify item in the database\r\n        const result = await updateItem(periodId, item);\r\n        // Depending whether the addition succeeded or not, i update the input field accordingly\r\n        setItems((prev) => {\r\n          let copy;\r\n          if (result.error) {\r\n            copy = prev.slice();\r\n            if (result.value) copy[idx] = result.value;\r\n          } else {\r\n            copy = prev.map((i) => {\r\n              if (i.id === item.id) {\r\n                return result.value;\r\n              }\r\n              return i;\r\n            });\r\n          }\r\n          return AppraisalService.normalizeSet(\r\n            periodId,\r\n            user,\r\n            copy,\r\n            min,\r\n            type,\r\n          );\r\n        });\r\n      }\r\n    }\r\n  }, [user, items, periodId, type, min, addItem, deleteItem, updateItem, setItems]);\r\n\r\n  return (\r\n    <Box>\r\n      <Stack verticalAlign=\"center\" className={classes.stack}>\r\n        <Stack.Item align=\"center\">\r\n          <Text variant=\"mediumPlus\">{labels[type]}</Text>\r\n        </Stack.Item>\r\n        {items.map((i, idx) => {\r\n          const key = i.id === 0 ? idx : i.id;\r\n          return (\r\n            <Stack.Item\r\n              className={classes.listItem}\r\n              key={key}\r\n            >\r\n              <AppraisalInput\r\n                item={i}\r\n                idx={idx}\r\n                label={labels[type]}\r\n                changeHandler={changeHandler}\r\n                blurHandler={blurHandler}\r\n                removeHandler={removeHandler}\r\n                changeTypeHandler={changeTypeHandler}\r\n                canInsert={validations.canInsert}\r\n                canUpdate={validations.canUpdate}\r\n                canDelete={validations.canDelete}\r\n              />\r\n            </Stack.Item>\r\n          );\r\n        })}\r\n      </Stack>\r\n    </Box>\r\n  );\r\n};\r\n\r\nFieldSet.propTypes = {\r\n  context: PropTypes.shape({\r\n    user: PropTypes.shape({\r\n      id: PropTypes.string,\r\n      username: PropTypes.string,\r\n    }),\r\n    Authorize: PropTypes.func,\r\n  }).isRequired,\r\n  items: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\r\n  setItems: PropTypes.func.isRequired,\r\n  details: PropTypes.shape({\r\n    id: PropTypes.string,\r\n  }).isRequired,\r\n  type: PropTypes.string.isRequired,\r\n  setOtherItems: PropTypes.func,\r\n};\r\n\r\nFieldSet.defaultProps = {\r\n  setOtherItems: null,\r\n};\r\n\r\nexport default FieldSet;\r\n","import FieldSet from './FieldSet';\r\n\r\nexport default FieldSet;\r\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  Icon,\r\n  makeStyles,\r\n  Persona,\r\n  PersonaSize,\r\n  Separator,\r\n  Text,\r\n} from '@fluentui/react';\r\nimport { Col, Container, Row } from 'react-grid-system';\r\nimport AppraisalUserRedirect from '../appraisal-user-redirect';\r\nimport AuthorizationComponent from '../../../shared/authorization-component';\r\nimport { validate } from '../../../../services/validators';\r\nimport PageHeader from '../../../shared/page-header';\r\nimport Chip from '../../../shared/chip';\r\nimport FieldSet from '../appraisal-field-set';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  chipContent: {\r\n    backgroundColor: theme.palette.neutralQuaternary,\r\n    padding: '7px',\r\n    display: 'inline-flex',\r\n    flexFlow: 'row nowrap',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  lockedChip: {\r\n    backgroundColor: theme.palette.themePrimary,\r\n    padding: '7px',\r\n    display: 'inline-flex',\r\n    flexFlow: 'row nowrap',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    color: '#fff',\r\n  },\r\n  lockIcon: {\r\n    marginRight: theme.spacing.s1,\r\n  },\r\n  container: {\r\n    '& > * + *': {\r\n      marginTop: theme.spacing.m,\r\n    },\r\n  },\r\n}));\r\n\r\nconst AppraisalDetailsDisplay = ({ context, periodDetails }) => {\r\n  const classes = useStyles();\r\n  const [achieved, setAchieved] = useState(periodDetails.items.filter((el) => el.type === 'Achieved'));\r\n  const [planned, setPlanned] = useState(periodDetails.items.filter((el) => el.type === 'Planned'));\r\n  const [trainingPlanned, setTrainingPlanned] = useState(periodDetails.items.filter((el) => el.type === 'Training_Planned'));\r\n  const [trainingAchieved, setTrainingAchieved] = useState(periodDetails.items.filter((el) => el.type === 'Training_Achieved'));\r\n  const [swotS, setSWOTS] = useState(periodDetails.items.filter((el) => el.type === 'SWOT_S'));\r\n  const [swotW, setSWOTW] = useState(periodDetails.items.filter((el) => el.type === 'SWOT_W'));\r\n  const [swotO, setSWOTO] = useState(periodDetails.items.filter((el) => el.type === 'SWOT_O'));\r\n  const [swotT, setSWOTT] = useState(periodDetails.items.filter((el) => el.type === 'SWOT_T'));\r\n  const [feedBack, setFeedBack] = useState(periodDetails.items.filter((el) => el.type === 'Feedback'));\r\n  const [locked, setLocked] = useState(false);\r\n  const { user } = context;\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    async function run() {\r\n      const isLocked = (await validate.periodLocked(periodDetails, user.id)()).result;\r\n      if (mounted) {\r\n        setLocked(isLocked);\r\n      }\r\n    }\r\n    run();\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, [periodDetails, user.id]);\r\n\r\n  return (\r\n    <Container md className={classes.container}>\r\n      <Row>\r\n        <Col xs={12}>\r\n          <PageHeader text={`Details '${periodDetails.name ? periodDetails.name : ''}'`} />\r\n        </Col>\r\n      </Row>\r\n      <Row justify=\"center\">\r\n        <Col xs={12} md={6} lg={4}>\r\n          <AuthorizationComponent code=\"APPRAISAL DETAILS - OTHER USERS\" grant=\"read\">\r\n            <AppraisalUserRedirect />\r\n          </AuthorizationComponent>\r\n        </Col>\r\n      </Row>\r\n      <Row justify=\"center\">\r\n        <div>\r\n          {user\r\n            ? (\r\n              <Chip className={classes.chipContent}>\r\n                <Persona size={PersonaSize.size24} text={user.username} />\r\n              </Chip>\r\n            )\r\n            : null}\r\n        </div>\r\n      </Row>\r\n      <Row justify=\"center\">\r\n        <div>\r\n          {\r\n          locked\r\n            ? (\r\n              <Chip className={classes.lockedChip}>\r\n                <Icon className={classes.lockIcon} iconName=\"LockSolid\" />\r\n                <Text variant=\"smallPlus\">Locked</Text>\r\n              </Chip>\r\n            )\r\n            : null\r\n          }\r\n        </div>\r\n      </Row>\r\n      <Separator><Text variant=\"mediumPlus\">Objectives</Text></Separator>\r\n      <Row>\r\n        <Col xs={12} md={6}>\r\n          <FieldSet context={context} details={periodDetails} items={achieved} setItems={setAchieved} type=\"Achieved\" setOtherItems={setPlanned} />\r\n        </Col>\r\n        <Col xs={12} md={6}>\r\n          <FieldSet context={context} details={periodDetails} items={planned} setItems={setPlanned} type=\"Planned\" setOtherItems={setAchieved} />\r\n        </Col>\r\n      </Row>\r\n      <Separator><Text variant=\"mediumPlus\">Trainings</Text></Separator>\r\n      <Row>\r\n        <Col xs={12} md={6}>\r\n          <FieldSet context={context} details={periodDetails} items={trainingAchieved} setItems={setTrainingAchieved} type=\"Training_Achieved\" setOtherItems={setTrainingPlanned} />\r\n        </Col>\r\n        <Col xs={12} md={6}>\r\n          <FieldSet context={context} details={periodDetails} items={trainingPlanned} setItems={setTrainingPlanned} type=\"Training_Planned\" setOtherItems={setTrainingAchieved} />\r\n        </Col>\r\n      </Row>\r\n      <Separator><Text variant=\"mediumPlus\">SWOT</Text></Separator>\r\n      <Row nogutter>\r\n        <Col xs={12} md={6}>\r\n          <FieldSet context={context} details={periodDetails} items={swotS} setItems={setSWOTS} type=\"SWOT_S\" />\r\n        </Col>\r\n        <Col xs={12} md={6}>\r\n          <FieldSet context={context} details={periodDetails} items={swotW} setItems={setSWOTW} type=\"SWOT_W\" />\r\n        </Col>\r\n        <Col xs={12} md={6}>\r\n          <FieldSet context={context} details={periodDetails} items={swotO} setItems={setSWOTO} type=\"SWOT_O\" />\r\n        </Col>\r\n        <Col xs={12} md={6}>\r\n          <FieldSet context={context} details={periodDetails} items={swotT} setItems={setSWOTT} type=\"SWOT_T\" />\r\n        </Col>\r\n      </Row>\r\n      <Row>\r\n        <Col xs={12}>\r\n          <FieldSet context={context} details={periodDetails} items={feedBack} setItems={setFeedBack} type=\"Feedback\" />\r\n        </Col>\r\n      </Row>\r\n      <div style={{ padding: '20px' }} />\r\n    </Container>\r\n  );\r\n};\r\n\r\nAppraisalDetailsDisplay.propTypes = {\r\n  context: PropTypes.shape({\r\n    user: PropTypes.shape({\r\n      id: PropTypes.string,\r\n      avatar: PropTypes.string,\r\n      username: PropTypes.string,\r\n    }),\r\n  }).isRequired,\r\n  periodDetails: PropTypes.shape({\r\n    name: PropTypes.string,\r\n    items: PropTypes.arrayOf(PropTypes.shape({\r\n      type: PropTypes.string,\r\n    })),\r\n  }).isRequired,\r\n};\r\n\r\nexport default AppraisalDetailsDisplay;\r\n","import AppraisalDetailsDisplay from './AppraisalDetailsDisplay';\r\n\r\nexport default AppraisalDetailsDisplay;\r\n","import AppraisalUserInfo from './AppraisalUserInfo';\r\n\r\nexport default AppraisalUserInfo;\r\n","import { useEffect } from 'react';\r\nimport AppraisalService from '../../../../services/AppraisalService';\r\nimport UserService from '../../../../services/UserService';\r\n\r\nconst AppraisalUserInfo = ({\r\n  periodId, userId, setUserDetails, setPeriodDetails,\r\n}) => {\r\n  useEffect(() => {\r\n    async function run() {\r\n      /*\r\n        I try to get user's info and set it\r\n        Then i try to get periodInfo and set it\r\n        If i fail, i throw an error\r\n      */\r\n      const userData = await UserService.getUser(userId);\r\n      setUserDetails(userData);\r\n      const periodData = await AppraisalService.getUserItems(periodId, userId);\r\n      setPeriodDetails(periodData);\r\n    }\r\n    run();\r\n  }, [periodId, userId, setPeriodDetails, setUserDetails]);\r\n  return null;\r\n};\r\n\r\nexport default AppraisalUserInfo;\r\n","import React, { useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Col, Container, Row } from 'react-grid-system';\r\nimport {\r\n  Icon, makeStyles, Persona, PersonaSize, PrimaryButton, Separator, Text,\r\n} from '@fluentui/react';\r\nimport FieldSet from '../appraisal-field-set';\r\nimport AppraisalUserRedirect from '../appraisal-user-redirect';\r\nimport AuthorizationComponent from '../../../shared/authorization-component';\r\nimport constants from '../../../../utils/constants';\r\nimport { validate } from '../../../../services/validators';\r\nimport Chip from '../../../shared/chip';\r\nimport PageHeader from '../../../shared/page-header';\r\n\r\nconst userStyles = makeStyles((theme) => ({\r\n  chipContent: {\r\n    backgroundColor: theme.palette.neutralQuaternary,\r\n    padding: '7px',\r\n    display: 'inline-flex',\r\n    flexFlow: 'row nowrap',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  lockedChip: {\r\n    backgroundColor: theme.palette.themePrimary,\r\n    padding: '7px',\r\n    display: 'inline-flex',\r\n    flexFlow: 'row nowrap',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    color: '#fff',\r\n  },\r\n  lockIcon: {\r\n    marginRight: theme.spacing.s1,\r\n  },\r\n  container: {\r\n    '& > * + *': {\r\n      marginTop: theme.spacing.m,\r\n    },\r\n  },\r\n}));\r\n\r\nconst AppraisalUserDetails = ({\r\n  context, periodDetails, userDetails, handleLockButton,\r\n}) => {\r\n  const classes = userStyles();\r\n  const [achieved, setAchieved] = useState(periodDetails.items.filter((el) => el.type === 'Achieved'));\r\n  const [planned, setPlanned] = useState(periodDetails.items.filter((el) => el.type === 'Planned'));\r\n  const [trainingPlanned, setTrainingPlanned] = useState(periodDetails.items.filter((el) => el.type === 'Training_Planned'));\r\n  const [trainingAchieved, setTrainingAchieved] = useState(periodDetails.items.filter((el) => el.type === 'Training_Achieved'));\r\n  const [swotS, setSWOTS] = useState(periodDetails.items.filter((el) => el.type === 'SWOT_S'));\r\n  const [swotW, setSWOTW] = useState(periodDetails.items.filter((el) => el.type === 'SWOT_W'));\r\n  const [swotO, setSWOTO] = useState(periodDetails.items.filter((el) => el.type === 'SWOT_O'));\r\n  const [swotT, setSWOTT] = useState(periodDetails.items.filter((el) => el.type === 'SWOT_T'));\r\n  const [feedBack, setFeedBack] = useState(periodDetails.items.filter((el) => el.type === 'Feedback'));\r\n  const [locked, setLocked] = useState(false);\r\n  const [finished, setFinished] = useState(false);\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    async function run() {\r\n      const isLocked = (await validate.periodLocked(periodDetails, userDetails.id)()).result;\r\n      const isFinished = (await validate.periodStatus(periodDetails, 'Finished')()).result;\r\n      if (mounted) {\r\n        setLocked(isLocked);\r\n        setFinished(isFinished);\r\n      }\r\n    }\r\n    run();\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, [periodDetails, userDetails.id]);\r\n\r\n  return (\r\n    <Container md className={classes.container}>\r\n      <Row>\r\n        <Col xs={12}>\r\n          <PageHeader text={`Details '${periodDetails.name ? periodDetails.name : ''}'`} />\r\n        </Col>\r\n      </Row>\r\n      <Row justify=\"center\">\r\n        <Col xs={12} md={6} lg={4}>\r\n          <AuthorizationComponent code=\"APPRAISAL DETAILS - OTHER USERS\" grant=\"read\">\r\n            <AppraisalUserRedirect />\r\n          </AuthorizationComponent>\r\n        </Col>\r\n      </Row>\r\n      <Row justify=\"center\">\r\n        <div>\r\n          {userDetails\r\n            ? (\r\n              <Chip className={classes.chipContent}>\r\n                <Persona size={PersonaSize.size24} text={userDetails.username} />\r\n              </Chip>\r\n            )\r\n            : null}\r\n        </div>\r\n      </Row>\r\n      <Row justify=\"center\">\r\n        <div>\r\n          {\r\n          locked\r\n            ? (\r\n              <Chip className={classes.lockedChip}>\r\n                <Icon className={classes.lockIcon} iconName=\"LockSolid\" />\r\n                <Text variant=\"smallPlus\">Locked</Text>\r\n              </Chip>\r\n            )\r\n            : null\r\n          }\r\n        </div>\r\n      </Row>\r\n      <Separator><Text variant=\"mediumPlus\">Objectives</Text></Separator>\r\n      <Row>\r\n        <Col xs={12} md={6}>\r\n          <FieldSet context={context} details={periodDetails} items={achieved} setItems={setAchieved} type=\"Achieved\" setOtherItems={setPlanned} />\r\n        </Col>\r\n        <Col xs={12} md={6}>\r\n          <FieldSet context={context} details={periodDetails} items={planned} setItems={setPlanned} type=\"Planned\" setOtherItems={setAchieved} />\r\n        </Col>\r\n      </Row>\r\n      <Separator><Text variant=\"mediumPlus\">Trainings</Text></Separator>\r\n      <Row>\r\n        <Col xs={12} md={6}>\r\n          <FieldSet context={context} details={periodDetails} items={trainingAchieved} setItems={setTrainingAchieved} type=\"Training_Achieved\" setOtherItems={setTrainingPlanned} />\r\n        </Col>\r\n        <Col xs={12} md={6}>\r\n          <FieldSet context={context} details={periodDetails} items={trainingPlanned} setItems={setTrainingPlanned} type=\"Training_Planned\" setOtherItems={setTrainingAchieved} />\r\n        </Col>\r\n      </Row>\r\n      <Separator><Text variant=\"mediumPlus\">SWOT</Text></Separator>\r\n      <Row nogutter>\r\n        <Col xs={12} md={6}>\r\n          <FieldSet context={context} details={periodDetails} items={swotS} setItems={setSWOTS} type=\"SWOT_S\" />\r\n        </Col>\r\n        <Col xs={12} md={6}>\r\n          <FieldSet context={context} details={periodDetails} items={swotW} setItems={setSWOTW} type=\"SWOT_W\" />\r\n        </Col>\r\n        <Col xs={12} md={6}>\r\n          <FieldSet context={context} details={periodDetails} items={swotO} setItems={setSWOTO} type=\"SWOT_O\" />\r\n        </Col>\r\n        <Col xs={12} md={6}>\r\n          <FieldSet context={context} details={periodDetails} items={swotT} setItems={setSWOTT} type=\"SWOT_T\" />\r\n        </Col>\r\n      </Row>\r\n      <Row>\r\n        <Col xs={12}>\r\n          <FieldSet context={context} details={periodDetails} items={feedBack} setItems={setFeedBack} type=\"Feedback\" />\r\n        </Col>\r\n      </Row>\r\n      <AuthorizationComponent\r\n        code={constants.securities.APPRAISAL_DETAILS_OTHER.code}\r\n        grant={constants.securities.APPRAISAL_DETAILS_OTHER.grants.toggleLock}\r\n      >\r\n        {\r\n           !finished\r\n             ? (\r\n               <Row align=\"center\" justify=\"center\">\r\n                 <PrimaryButton\r\n                   primary\r\n                   iconProps={{\r\n                     iconName: locked ? 'Unlock' : 'Lock',\r\n                   }}\r\n                   onClick={handleLockButton}\r\n                   text={locked ? 'Unlock' : 'Lock'}\r\n                 />\r\n               </Row>\r\n             )\r\n             : null\r\n         }\r\n        <div style={{ padding: '20px' }} />\r\n      </AuthorizationComponent>\r\n    </Container>\r\n  );\r\n};\r\n\r\nAppraisalUserDetails.propTypes = {\r\n  context: PropTypes.shape({\r\n\r\n  }).isRequired,\r\n  // eslint-disable-next-line react/forbid-prop-types\r\n  userDetails: PropTypes.shape({\r\n    id: PropTypes.string,\r\n    username: PropTypes.string,\r\n  }).isRequired,\r\n  periodDetails: PropTypes.shape({\r\n    id: PropTypes.string,\r\n    name: PropTypes.string,\r\n    items: PropTypes.arrayOf(PropTypes.shape({\r\n      type: PropTypes.string,\r\n    })),\r\n  }).isRequired,\r\n  handleLockButton: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default AppraisalUserDetails;\r\n","import AppraisalUserDetails from './AppraisalUserDetails';\r\n\r\nexport default AppraisalUserDetails;\r\n","import AppraisalDetails from './AppraisalDetails';\r\n\r\nexport default AppraisalDetails;\r\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useParams } from 'react-router-dom';\r\nimport DocumentTitle from 'react-document-title';\r\nimport AppraisalDetailsInfo from './components/appraisal-info';\r\nimport AppraisalDetailsDisplay from './components/appraisal-details-display';\r\nimport AppraisalUserInfo from './components/appraisal-user-info';\r\nimport AppraisalUserDetails from './components/appraisal-user-details-display';\r\nimport AppraisalService from '../../services/AppraisalService';\r\n\r\nconst AppraisalDetails = ({ context }) => {\r\n  const [periodDetails, setPeriodDetails] = useState(null);\r\n  const [userDetails, setUserDetails] = useState(null);\r\n  const periodId = useParams().id;\r\n  const { userId } = useParams();\r\n\r\n  useEffect(() => {\r\n    setPeriodDetails(null);\r\n    setUserDetails(null);\r\n  }, [userId]);\r\n\r\n  /**\r\n   * Handle locking button for user period\r\n   */\r\n  const handleLockButton = async () => {\r\n    if (userId) {\r\n      const result = await AppraisalService.toggleLockPeriod(periodDetails.id, userId);\r\n      setPeriodDetails((prev) => {\r\n        if (prev) {\r\n          return {\r\n            ...prev,\r\n            users: result.users.slice(),\r\n          };\r\n        }\r\n        return prev;\r\n      });\r\n    }\r\n  };\r\n\r\n  let display;\r\n  if (!userId) {\r\n    display = (\r\n      <>\r\n        {\r\n          periodDetails === null\r\n            ? <AppraisalDetailsInfo periodId={periodId} setPeriodDetails={setPeriodDetails} />\r\n            : <AppraisalDetailsDisplay context={context} periodDetails={periodDetails} />\r\n        }\r\n      </>\r\n    );\r\n  } else {\r\n    display = (\r\n      <>\r\n        {\r\n          periodDetails === null || userDetails === null\r\n            ? (\r\n              <AppraisalUserInfo\r\n                periodId={periodId}\r\n                userId={userId}\r\n                setUserDetails={setUserDetails}\r\n                setPeriodDetails={setPeriodDetails}\r\n              />\r\n            )\r\n            : (\r\n              <AppraisalUserDetails\r\n                context={context}\r\n                periodDetails={periodDetails}\r\n                userDetails={userDetails}\r\n                handleLockButton={handleLockButton}\r\n              />\r\n            )\r\n}\r\n      </>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <DocumentTitle title={periodDetails ? periodDetails.name : 'App'}>\r\n      {display}\r\n    </DocumentTitle>\r\n  );\r\n};\r\n\r\nAppraisalDetails.propTypes = {\r\n  context: PropTypes.shape({}).isRequired,\r\n};\r\n\r\nexport default AppraisalDetails;\r\n","import AppraisalDetailsPage from './AppraisalDetailsPage';\r\n\r\nexport default AppraisalDetailsPage;\r\n","import React, { useContext } from 'react';\r\nimport { Container } from 'react-grid-system';\r\nimport GlobalContext from '../../services/GlobalContext';\r\nimport AuthorizationRedirectComponent from '../../components/shared/authorization-redirect-component';\r\nimport AppraisalDetails from '../../components/appraisal-details';\r\nimport constants from '../../utils/constants';\r\n\r\nconst AppraisalDetailsPage = () => {\r\n  const global = useContext(GlobalContext);\r\n  return (\r\n    <Container md>\r\n      <AuthorizationRedirectComponent\r\n        code={constants.securities.APPRAISAL_DETAILS.code}\r\n        grant={constants.securities.APPRAISAL_DETAILS.grants.read}\r\n        to=\"/appraisals\"\r\n        failureNotification={{\r\n          type: 'info',\r\n          header: 'No access',\r\n          content: 'You have no access to this page. Please contact your administrator',\r\n        }}\r\n      >\r\n        <AppraisalDetails context={global} />\r\n      </AuthorizationRedirectComponent>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default AppraisalDetailsPage;\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  DefaultButton, Panel, PanelType, PrimaryButton, Stack, TextField,\r\n} from '@fluentui/react';\r\n\r\nconst PanelNew = ({ isOpen, setOpen, handleCreate }) => {\r\n  const [val, setVal] = useState('');\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    handleCreate(val).finally(() => {\r\n      setVal('');\r\n      setOpen(false);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Panel\r\n      isOpen={isOpen}\r\n      onDismiss={() => setOpen(false)}\r\n      type={PanelType.smallFixedFar}\r\n      headerText=\"Create period\"\r\n    >\r\n      <form onSubmit={handleSubmit}>\r\n        <Stack verticalAlign=\"start\">\r\n          <Stack.Item tokens={{\r\n            margin: '10px 0',\r\n          }}\r\n          >\r\n            <TextField\r\n              label=\"Name\"\r\n              value={val}\r\n              autoFocus\r\n              onChange={(e) => {\r\n                const result = e.target.value;\r\n                setVal(result);\r\n              }}\r\n            />\r\n          </Stack.Item>\r\n          <Stack horizontal horizontalAlign=\"space-evenly\">\r\n            <PrimaryButton type=\"submit\">Create</PrimaryButton>\r\n            <DefaultButton onClick={() => setOpen(false)}>Cancel</DefaultButton>\r\n          </Stack>\r\n        </Stack>\r\n      </form>\r\n    </Panel>\r\n  );\r\n};\r\n\r\nPanelNew.propTypes = {\r\n  isOpen: PropTypes.bool.isRequired,\r\n  setOpen: PropTypes.func.isRequired,\r\n  handleCreate: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default PanelNew;\r\n","import React, { useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  DefaultButton, Panel, PanelType, PrimaryButton, Stack, TextField,\r\n} from '@fluentui/react';\r\n\r\nconst PanelEdit = ({\r\n  item, isOpen, setOpen, handleEdit,\r\n}) => {\r\n  const [val, setVal] = useState(item ? item.name : '');\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    handleEdit(item.id, val).finally(() => {\r\n      setVal('');\r\n      setOpen(false);\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    setVal(item ? item.name : '');\r\n  }, [item]);\r\n\r\n  return (\r\n    <Panel\r\n      isOpen={isOpen}\r\n      onDismiss={() => setOpen(false)}\r\n      type={PanelType.smallFixedFar}\r\n      headerText=\"Edit period\"\r\n    >\r\n      <form onSubmit={handleSubmit}>\r\n        <Stack verticalAlign=\"start\">\r\n          <Stack.Item tokens={{\r\n            margin: '10px 0',\r\n          }}\r\n          >\r\n            <TextField\r\n              label=\"Name\"\r\n              value={val}\r\n              autoFocus\r\n              onChange={(e) => {\r\n                const result = e.target.value;\r\n                setVal(result);\r\n              }}\r\n            />\r\n          </Stack.Item>\r\n          <Stack horizontal horizontalAlign=\"space-evenly\">\r\n            <PrimaryButton type=\"submit\">Update</PrimaryButton>\r\n            <DefaultButton onClick={() => setOpen(false)}>Cancel</DefaultButton>\r\n          </Stack>\r\n        </Stack>\r\n      </form>\r\n    </Panel>\r\n  );\r\n};\r\n\r\nPanelEdit.propTypes = {\r\n  item: PropTypes.shape({\r\n    id: PropTypes.string,\r\n    name: PropTypes.string,\r\n  }),\r\n  isOpen: PropTypes.bool.isRequired,\r\n  setOpen: PropTypes.func.isRequired,\r\n  handleEdit: PropTypes.func.isRequired,\r\n};\r\n\r\nPanelEdit.defaultProps = {\r\n  item: null,\r\n};\r\n\r\nexport default PanelEdit;\r\n","/* eslint-disable no-param-reassign */\r\nimport React, {\r\n  useState, useEffect, useContext,\r\n} from 'react';\r\nimport {\r\n  Switch, Route, useRouteMatch, useHistory,\r\n} from 'react-router-dom';\r\nimport {\r\n  Checkbox,\r\n  CommandBar,\r\n  SearchBox,\r\n  SelectionMode,\r\n  Separator,\r\n  Stack,\r\n  Text,\r\n  useTheme,\r\n} from '@fluentui/react';\r\nimport {\r\n  Col, Container, Row, useScreenClass,\r\n} from 'react-grid-system';\r\nimport { downloadBlob } from 'download.js';\r\nimport Table from '../../components/shared/table';\r\nimport AppraisalService from '../../services/AppraisalService';\r\nimport GlobalContext from '../../services/GlobalContext';\r\nimport AppraisalDetailsPage from '../appraisal-details';\r\nimport PageHeader from '../../components/shared/page-header';\r\nimport Chip from '../../components/shared/chip';\r\nimport PanelNew from '../../components/appraisal-list/panel-new/PanelNew';\r\nimport constants from '../../utils/constants';\r\nimport PanelEdit from '../../components/appraisal-list/panel-edit/PanelEdit';\r\nimport NotificationService from '../../services/NotificationService';\r\nimport ReportingService from '../../services/ReportingService';\r\n\r\nconst { APPRAISAL_PERIODS: AP, REPORTS: REP } = constants.securities;\r\n\r\nconst AppraisalsPage = () => {\r\n  const theme = useTheme();\r\n  const history = useHistory();\r\n  const screenClass = useScreenClass();\r\n  const [items, setItems] = useState([]);\r\n  const [filteredItems, setFilteredItems] = useState([]);\r\n  const [showClosed, setShowClosed] = useState(true);\r\n  const [newPanelOpen, setNewPanelOpen] = useState(false);\r\n  const [editPanelOpen, setEditPanelOpen] = useState(false);\r\n  const [searchValue, setSearchValue] = useState('');\r\n  const global = useContext(GlobalContext);\r\n  const { path } = useRouteMatch();\r\n  const [selectionDetails, setSelectionDetails] = useState({\r\n    count: 0,\r\n    items: [],\r\n  });\r\n\r\n  const [columns] = useState([\r\n    {\r\n      key: 'status',\r\n      name: 'Status',\r\n      fieldName: 'status',\r\n      minWidth: 70,\r\n      maxWidth: 70,\r\n      isSortable: true,\r\n      isFilterable: true,\r\n      sort: (a, b) => (a.status > b.status ? -1 : 1),\r\n      onRender: (item) => (\r\n        <Chip\r\n          style={{\r\n            backgroundColor: item.status === 'Finished'\r\n              ? theme.palette.blue\r\n              : theme.palette.green,\r\n            padding: '3px',\r\n          }}\r\n        >\r\n          <Text\r\n            variant=\"xSmall\"\r\n            style={{\r\n              color: '#fff',\r\n            }}\r\n          >\r\n            {item.status}\r\n          </Text>\r\n        </Chip>\r\n      ),\r\n    },\r\n    {\r\n      key: 'name',\r\n      name: 'Name',\r\n      fieldName: 'name',\r\n      data: 'string',\r\n      isResizable: true,\r\n      isSortable: true,\r\n      isFilterable: true,\r\n      minWidth: 100,\r\n      maxWidth: 350,\r\n    },\r\n    {\r\n      key: 'createdUser',\r\n      name: 'Created by',\r\n      fieldName: 'createdUser',\r\n      isPadded: true,\r\n      isResizable: true,\r\n      isSortable: true,\r\n      isFilterable: true,\r\n      filterValueAccessor: (i) => i.createdUser.username,\r\n      sort: (a, b) => (a.createdUser.username < b.createdUser.username ? -1 : 1),\r\n      data: 'string',\r\n      minWidth: 200,\r\n      maxWidth: 300,\r\n      onRender: (item) => (<div>{item.createdUser.username}</div>),\r\n    },\r\n    {\r\n      key: 'createdDate',\r\n      name: 'Created on',\r\n      fieldName: 'createdDate',\r\n      isResizable: true,\r\n      isPadded: true,\r\n      isSortable: true,\r\n      data: 'date',\r\n      minWidth: 200,\r\n      maxWidth: 300,\r\n      onRender: (item) => (<div>{new Date(item.createdDate).toLocaleString()}</div>),\r\n    },\r\n  ]);\r\n  const [sortedColumn, setSortedColumn] = useState(null);\r\n\r\n  useEffect(() => {\r\n    async function loadData() {\r\n      const result = await AppraisalService.getPeriods();\r\n      setItems(result);\r\n    }\r\n    loadData();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setSortedColumn({\r\n      ...columns[3],\r\n      isSorted: true,\r\n      isSortedDescending: true,\r\n    });\r\n  }, [columns]);\r\n\r\n  useEffect(() => {\r\n    setFilteredItems(showClosed ? items : items.filter((i) => i.status !== 'Finished'));\r\n  }, [showClosed, items]);\r\n\r\n  const handleItemInvoked = (item) => {\r\n    history.push(`${path}/${item.id}`);\r\n  };\r\n\r\n  const clickFinishHandler = async () => {\r\n    if (selectionDetails.count) {\r\n      const item = selectionDetails.items[0];\r\n      const result = await AppraisalService.finishPeriod(item.id);\r\n      if (result) {\r\n        setItems((prev) => prev.map((i) => (i.id === item.id ? { ...item, status: 'Finished' } : i)));\r\n        NotificationService.notifySuccess(`Period '${item.name}' finished`);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleCreate = async (name) => {\r\n    if (global.user\r\n      && global.user.id\r\n      && global.user.organization\r\n      && global.user.organization.id) {\r\n      const result = await AppraisalService.addPeriod({\r\n        name,\r\n        status: 'Active',\r\n        organizationId: global.user.organization.id,\r\n        createdUser: global.user.id,\r\n      });\r\n      setItems((prev) => prev.slice().concat(result));\r\n      NotificationService.notifySuccess(`Period '${name}' created`);\r\n    }\r\n  };\r\n\r\n  const handleEdit = async (id, name) => {\r\n    if (global.user\r\n      && global.user.id\r\n      && global.user.organization\r\n      && global.user.organization.id\r\n      && global.Authorize(AP.code, AP.grants.update)) {\r\n      const result = await AppraisalService.updatePeriod(id, {\r\n        name,\r\n      });\r\n      setItems((prev) => prev.map((i) => (i.id === result.id ? result : i)));\r\n    }\r\n  };\r\n\r\n  const handleGenerateReport = async (id) => {\r\n    try {\r\n      const reportBlob = await ReportingService.generateAppraisalReport({\r\n        periods: [id],\r\n      });\r\n      if (reportBlob) {\r\n        downloadBlob('appraisal.xlsx', reportBlob);\r\n        NotificationService.notifySuccess('Report generated');\r\n      }\r\n    } catch (err) {\r\n      NotificationService.notifyError('Cannot generate report -', err.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Switch>\r\n        <Route exact path={path}>\r\n          <Container md>\r\n            <Row>\r\n              <Col xs={12}>\r\n                <PageHeader text=\"Appraisals\" />\r\n              </Col>\r\n            </Row>\r\n            <Separator />\r\n            <Row>\r\n              <Col xs={12}>\r\n                <Stack horizontalAlign=\"stretch\">\r\n                  <Row align=\"start\">\r\n                    <Col xs={12} sm={6}>\r\n                      <CommandBar items={[\r\n                        {\r\n                          key: 'openItem',\r\n                          text: 'Open',\r\n                          disabled: selectionDetails.count === 0\r\n                          || !global.Authorize(AP.code, AP.grants.read),\r\n                          iconProps: { iconName: 'OpenFile' },\r\n                          onClick: () => handleItemInvoked(\r\n                            selectionDetails.count\r\n                            && selectionDetails.items[0],\r\n                          ),\r\n                        },\r\n                        {\r\n                          key: 'newItem',\r\n                          text: 'New',\r\n                          disabled: !global.Authorize(AP.code, AP.grants.create),\r\n                          iconProps: { iconName: 'Add' },\r\n                          onClick: () => setNewPanelOpen(true),\r\n                        },\r\n                        {\r\n                          key: 'editItem',\r\n                          text: 'Edit',\r\n                          disabled: selectionDetails.count === 0\r\n                          || !global.Authorize(AP.code, AP.grants.update),\r\n                          iconProps: { iconName: 'Edit' },\r\n                          onClick: () => setEditPanelOpen(true),\r\n                        },\r\n                        {\r\n                          key: 'finishItem',\r\n                          text: 'Finish',\r\n                          disabled: selectionDetails.count === 0\r\n                            || (selectionDetails.count && selectionDetails.items[0].status === 'Finished')\r\n                            || !global.Authorize(AP.code, AP.grants.finish),\r\n                          iconProps: { iconName: 'SaveAndClose' },\r\n                          onClick: clickFinishHandler,\r\n                        },\r\n                        {\r\n                          key: 'generateReport',\r\n                          text: 'Appraisal report',\r\n                          disabled: selectionDetails.count === 0\r\n                            || !global.Authorize(REP.code, REP.grants.read),\r\n                          iconProps: { iconName: 'MobileReport' },\r\n                          onClick: () => handleGenerateReport(\r\n                            selectionDetails.count ? selectionDetails.items[0].id : null,\r\n                          ),\r\n                        },\r\n                      ]}\r\n                      />\r\n                    </Col>\r\n                    <Col xs={12} sm={6}>\r\n                      <Stack horizontalAlign={screenClass === 'xs' ? 'start' : 'end'} horizontal>\r\n                        <Stack verticalAlign=\"center\" horizontalAlign=\"start\">\r\n                          <SearchBox\r\n                            placeholder=\"Search\"\r\n                            styles={{\r\n                              root: {\r\n                                minWidth: 250,\r\n                              },\r\n                            }}\r\n                            value={searchValue}\r\n                            onChange={(e) => setSearchValue(e && e.target ? e.target.value : '')}\r\n                          />\r\n                          <Checkbox\r\n                            label=\"Show closed\"\r\n                            checked={showClosed}\r\n                            onChange={() => setShowClosed((prev) => !prev)}\r\n                            styles={{\r\n                              root: {\r\n                                paddingTop: theme.spacing.s1,\r\n                              },\r\n                            }}\r\n                          />\r\n                        </Stack>\r\n                      </Stack>\r\n                    </Col>\r\n                  </Row>\r\n                  <Separator />\r\n                  <Table\r\n                    items={filteredItems}\r\n                    columns={columns}\r\n                    selectionMode={SelectionMode.single}\r\n                    onItemInvoked={handleItemInvoked}\r\n                    searchValue={searchValue}\r\n                    sortedCol={sortedColumn}\r\n                    setSelectionDetails={setSelectionDetails}\r\n                  />\r\n                  <PanelNew\r\n                    isOpen={newPanelOpen}\r\n                    setOpen={setNewPanelOpen}\r\n                    handleCreate={handleCreate}\r\n                  />\r\n                  <PanelEdit\r\n                    item={selectionDetails.count ? selectionDetails.items[0] : null}\r\n                    isOpen={editPanelOpen}\r\n                    setOpen={setEditPanelOpen}\r\n                    handleEdit={handleEdit}\r\n                  />\r\n                </Stack>\r\n              </Col>\r\n            </Row>\r\n          </Container>\r\n        </Route>\r\n        <Route exact path={`${path}/:id/user/:userId`}>\r\n          <AppraisalDetailsPage ctx={global} setCtx={global.setContext} />\r\n        </Route>\r\n        <Route path={`${path}/:id`}>\r\n          <AppraisalDetailsPage ctx={global} setCtx={global.setContext} />\r\n        </Route>\r\n      </Switch>\r\n\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AppraisalsPage;\r\n","import AppraisalsPage from './AppraisalsPage';\r\n\r\nexport default AppraisalsPage;\r\n","import SettingsGeneral from './SettingsGeneral';\r\n\r\nexport default SettingsGeneral;\r\n","import React from 'react';\r\n\r\nconst SettingsGeneral = () => (\r\n  <>\r\n    <h1>Settings general</h1>\r\n  </>\r\n);\r\n\r\nexport default SettingsGeneral;\r\n","import axios from 'axios';\r\nimport NotificationService from './NotificationService';\r\n\r\nconst TeamService = {\r\n  baseUrl: '/api/teams',\r\n\r\n  validate(team) {\r\n    if (!team) throw new Error('Team name missing');\r\n    return true;\r\n  },\r\n\r\n  async getTeams() {\r\n    try {\r\n      const response = await axios.get(this.baseUrl);\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService\r\n        .notifyError((err.response.data && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async addTeam(team) {\r\n    try {\r\n      this.validate(team);\r\n      const response = await axios.post(this.baseUrl, { team });\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService\r\n        .notifyError((err.response.data && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n};\r\n\r\nexport default TeamService;\r\n","import React, { useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  ComboBox,\r\n  DefaultButton, Panel, PanelType, PrimaryButton, Stack,\r\n} from '@fluentui/react';\r\n\r\nconst UserEditPanel = ({\r\n  isOpen, user, setOpen, handleEdit, teams, organizations, roles,\r\n}) => {\r\n  const [selTeams, setSelTeams] = useState([]);\r\n  const [selPrimaryTeam, setSelPrimaryTeam] = useState(null);\r\n  const [selOrganizations, setSelOrganizations] = useState([]);\r\n  const [selRole, setSelRole] = useState(null);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    handleEdit({\r\n      ...user,\r\n      teams: selTeams,\r\n      team: selPrimaryTeam,\r\n      organizations: selOrganizations,\r\n      role: selRole,\r\n    }).finally(() => {\r\n      setOpen(false);\r\n    });\r\n  };\r\n\r\n  const handleSelect = (item, setFunc) => {\r\n    setFunc((prev) => prev.concat(item));\r\n  };\r\n\r\n  const handleDeselect = (item, setFunc) => {\r\n    setFunc((prev) => prev.filter((i) => i.id !== item.id));\r\n  };\r\n\r\n  const handleMultiCombobox = (setFunc) => (evt, item) => {\r\n    if (item.selected) {\r\n      handleSelect(item.data, setFunc);\r\n    } else {\r\n      handleDeselect(item.data, setFunc);\r\n    }\r\n  };\r\n\r\n  const handleCombobox = (setFunc) => (evt, item) => {\r\n    setFunc(item.data);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      setSelTeams(user.teams);\r\n      setSelPrimaryTeam(user.team);\r\n      setSelOrganizations(user.organizations);\r\n      if (user.role) {\r\n        setSelRole(user.role);\r\n      }\r\n    }\r\n  }, [user]);\r\n\r\n  useEffect(() => {\r\n    if (selPrimaryTeam?.id && !selTeams.find((t) => t.id === selPrimaryTeam?.id)) {\r\n      setSelPrimaryTeam(null);\r\n    }\r\n  }, [selTeams]);\r\n\r\n  return (\r\n    <>\r\n      <Panel\r\n        isOpen={isOpen}\r\n        onDismiss={() => setOpen(false)}\r\n        type={PanelType.smallFixedFar}\r\n        headerText=\"Edit user\"\r\n      >\r\n        <form onSubmit={handleSubmit}>\r\n          <Stack verticalAlign=\"start\">\r\n            <Stack.Item tokens={{\r\n              margin: '10px 0',\r\n            }}\r\n            >\r\n              <ComboBox\r\n                label=\"Teams\"\r\n                multiSelect\r\n                id=\"user-edit-select-team\"\r\n                useComboBoxAsMenuWidth\r\n                selectedKey={selTeams.map((t) => t.id)}\r\n                onChange={handleMultiCombobox(setSelTeams)}\r\n                options={teams.map((t) => ({\r\n                  key: t.id,\r\n                  text: t.name,\r\n                  data: t,\r\n                }))}\r\n              />\r\n              <ComboBox\r\n                label=\"Primary team\"\r\n                id=\"user-edit-select-primary-team\"\r\n                useComboBoxAsMenuWidth\r\n                selectedKey={selPrimaryTeam?.id}\r\n                onChange={(evt, option) => setSelPrimaryTeam(option.data)}\r\n                options={selTeams.map((t) => ({\r\n                  key: t.id,\r\n                  text: t.name,\r\n                  data: t,\r\n                }))}\r\n              />\r\n              <ComboBox\r\n                label=\"Organizations\"\r\n                multiSelect\r\n                id=\"user-edit-select-organizations\"\r\n                useComboBoxAsMenuWidth\r\n                selectedKey={selOrganizations.map((o) => o.id)}\r\n                onChange={handleMultiCombobox(setSelOrganizations)}\r\n                options={organizations.map((t) => ({\r\n                  key: t.id,\r\n                  text: t.name,\r\n                  data: t,\r\n                }))}\r\n              />\r\n              <ComboBox\r\n                label=\"Role\"\r\n                id=\"user-edit-select-role\"\r\n                useComboBoxAsMenuWidth\r\n                selectedKey={selRole && selRole.id}\r\n                onChange={handleCombobox(setSelRole)}\r\n                options={roles.map((r) => ({\r\n                  key: r.id,\r\n                  text: r.name,\r\n                  data: r,\r\n                }))}\r\n              />\r\n            </Stack.Item>\r\n            <Stack horizontal horizontalAlign=\"space-evenly\">\r\n              <PrimaryButton type=\"submit\">Update</PrimaryButton>\r\n              <DefaultButton onClick={() => setOpen(false)}>Cancel</DefaultButton>\r\n            </Stack>\r\n          </Stack>\r\n        </form>\r\n      </Panel>\r\n    </>\r\n  );\r\n};\r\n\r\nUserEditPanel.propTypes = {\r\n  isOpen: PropTypes.bool.isRequired,\r\n  user: PropTypes.shape({\r\n    teams: PropTypes.arrayOf(PropTypes.shape({})),\r\n    team: PropTypes.shape({\r\n      id: PropTypes.string,\r\n      name: PropTypes.string,\r\n    }),\r\n    organizations: PropTypes.arrayOf(PropTypes.shape({})),\r\n    role: PropTypes.shape({}),\r\n  }),\r\n  setOpen: PropTypes.func.isRequired,\r\n  handleEdit: PropTypes.func.isRequired,\r\n  teams: PropTypes.arrayOf(PropTypes.shape({\r\n    id: PropTypes.string,\r\n    name: PropTypes.string,\r\n  })),\r\n  organizations: PropTypes.arrayOf(PropTypes.shape({\r\n    id: PropTypes.string,\r\n    name: PropTypes.string,\r\n  })),\r\n  roles: PropTypes.arrayOf(PropTypes.shape({\r\n    id: PropTypes.string,\r\n    name: PropTypes.string,\r\n  })),\r\n};\r\n\r\nUserEditPanel.defaultProps = {\r\n  user: null,\r\n  teams: [],\r\n  organizations: [],\r\n  roles: [],\r\n};\r\n\r\nexport default UserEditPanel;\r\n","import UserEditPanel from './UserEditPanel';\r\n\r\nexport default UserEditPanel;\r\n","import SettingsUsers from './SettingsUsers';\r\n\r\nexport default SettingsUsers;\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport {\r\n  Col, Container, Row,\r\n} from 'react-grid-system';\r\nimport {\r\n  DetailsListLayoutMode, SelectionMode, Separator,\r\n} from '@fluentui/react';\r\nimport UserService from '../../services/UserService';\r\nimport TeamService from '../../services/TeamService';\r\nimport GlobalContext from '../../services/GlobalContext';\r\nimport AuthorizationService from '../../services/AuthorizationService';\r\nimport PageHeader from '../../components/shared/page-header';\r\nimport CommandTable from '../../components/shared/command-table/CommandTable';\r\nimport UserEditPanel from './components/user-edit-panel';\r\n\r\nconst SettingsUsers = () => {\r\n  const [data, setData] = useState([]);\r\n  const [teams, setTeams] = useState([]);\r\n  const [roles, setRoles] = useState([]);\r\n  const [editPanelOpen, setEditPanelOpen] = useState(false);\r\n  const global = useContext(GlobalContext);\r\n  const [selectionDetails, setSelectionDetails] = useState({\r\n    count: 0,\r\n    items: [],\r\n    indices: [],\r\n  });\r\n  const [columns] = useState([\r\n    {\r\n      key: 'username',\r\n      name: ' Username',\r\n      fieldName: 'username',\r\n      isSortable: true,\r\n      isFilterable: true,\r\n      isResizable: true,\r\n      iconName: 'UserOptional',\r\n      minWidth: 100,\r\n      maxWidth: 300,\r\n    },\r\n    {\r\n      key: 'teams',\r\n      name: ' Teams',\r\n      fieldName: 'teams',\r\n      onRender: (item) => item.teams.map((t) => t.name).join(', '),\r\n      isSortable: true,\r\n      isFilterable: true,\r\n      isResizable: true,\r\n      sort: (a, b) => (a.teams[0].name > b.teams[0].name ? -1 : 1),\r\n      filterValueAccessor: (i) => i.teams.map((t) => t.name).join(','),\r\n      iconName: 'Teamwork',\r\n      minWidth: 100,\r\n      maxWidth: 500,\r\n    },\r\n    {\r\n      key: 'organizations',\r\n      name: ' Organizations',\r\n      fieldName: 'organizations',\r\n      onRender: (item) => item.organizations.map((o) => o.name).join(', '),\r\n      isSortable: true,\r\n      isFilterable: true,\r\n      isResizable: true,\r\n      sort: (a, b) => (a.organizations[0]?.name > b.organizations[0]?.name ? -1 : 1),\r\n      filterValueAccessor: (i) => i.organizations.map((o) => o.name).join(','),\r\n      iconName: 'Org',\r\n      minWidth: 50,\r\n      maxWidth: 200,\r\n    },\r\n    {\r\n      key: 'role',\r\n      name: ' Role',\r\n      onRender: (item) => item.role && item.role?.name,\r\n      isSortable: true,\r\n      isFilterable: true,\r\n      isResizable: true,\r\n      sort: (a, b) => (a.role?.name > b.role?.name ? -1 : 1),\r\n      filterValueAccessor: (i) => i.role && i.role?.name,\r\n      iconName: 'Signin',\r\n      isPadded: true,\r\n    },\r\n  ]);\r\n  const [selectedColumn] = useState({\r\n    key: 'role',\r\n    name: ' Role',\r\n    onRender: (item) => item.role && item.role?.name,\r\n    isSortable: true,\r\n    isFilterable: true,\r\n    isResizable: true,\r\n    sort: (a, b) => (a.role?.name > b.role?.name ? -1 : 1),\r\n    filterValueAccessor: (i) => i.role && i.role?.name,\r\n    iconName: 'Signin',\r\n    isPadded: true,\r\n    isSorted: true,\r\n    isSortedDescending: false,\r\n  });\r\n\r\n  const handleUpdate = async (user) => {\r\n    const idx = data.findIndex((u) => u.id === user.id);\r\n    const copy = data.slice();\r\n    if (idx !== -1) {\r\n      let organization = user.organization || null;\r\n      if (!user.organization && user.organizations.length) {\r\n        organization = user.organizations[0].id;\r\n      } else if (user.organizations.length === 0) {\r\n        organization = null;\r\n      }\r\n      const result = await UserService.updateSettingsUser(user.id, {\r\n        ...user,\r\n        teams: user.teams.map((t) => t.id),\r\n        team: user.team?.id || null,\r\n        organizations: user.organizations.map((o) => o.id),\r\n        organization,\r\n      });\r\n      if (result) copy[idx] = result;\r\n      setData(copy);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Retrieve the users list\r\n   */\r\n  useEffect(() => {\r\n    async function run() {\r\n      const [users, _teams, _roles] = await Promise.all(\r\n        [\r\n          UserService.getSettingsUsers(),\r\n          TeamService.getTeams(),\r\n          AuthorizationService.getRoles(),\r\n        ],\r\n      );\r\n      setData(() => users);\r\n      setTeams(() => _teams);\r\n      setRoles(() => _roles);\r\n    }\r\n    run();\r\n  }, []);\r\n\r\n  return (\r\n    <Container fluid>\r\n      <Row justify=\"center\">\r\n        <PageHeader text=\"Users Settings\" />\r\n      </Row>\r\n      <Separator />\r\n      <Row align=\"start\">\r\n        <Col xs={12}>\r\n          <CommandTable\r\n            commandItems={[\r\n              {\r\n                key: 'details',\r\n                text: 'Details',\r\n                disabled: true,\r\n                iconProps: { iconName: 'ProfileSearch' },\r\n              },\r\n              {\r\n                key: 'editItem',\r\n                text: 'Edit',\r\n                disabled: selectionDetails.count === 0,\r\n                iconProps: { iconName: 'Edit' },\r\n                onClick: () => setEditPanelOpen(true),\r\n              },\r\n            ]}\r\n            tableProps={{\r\n              items: data,\r\n              columns,\r\n              selectionMode: SelectionMode.single,\r\n              onItemInvoked: () => setEditPanelOpen(true),\r\n              layoutMode: DetailsListLayoutMode.justified,\r\n              sortedCol: selectedColumn,\r\n              setSelectionDetails,\r\n            }}\r\n          />\r\n        </Col>\r\n      </Row>\r\n      <UserEditPanel\r\n        isOpen={editPanelOpen}\r\n        handleEdit={handleUpdate}\r\n        setOpen={setEditPanelOpen}\r\n        user={selectionDetails.count ? selectionDetails.items[0] : null}\r\n        teams={teams}\r\n        organizations={global.user.organizations}\r\n        roles={roles}\r\n      />\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default SettingsUsers;\r\n","import SettingsAppraisalPeriods from './SettingsAppraisalPeriods';\r\n\r\nexport default SettingsAppraisalPeriods;\r\n","import React from 'react';\r\n\r\nconst SettingsAppraisalPeriods = () => (\r\n  <h1>AppraisalPeriods Settings</h1>\r\n);\r\n\r\nexport default SettingsAppraisalPeriods;\r\n","import SettingsAppraisalItems from './SettingsAppraisalItems';\r\n\r\nexport default SettingsAppraisalItems;\r\n","import React from 'react';\r\n\r\nconst SettingsAppraisalItems = () => (\r\n  <h1>AppraisalItems Settings</h1>\r\n);\r\n\r\nexport default SettingsAppraisalItems;\r\n","import SecurityInfoProvider from './SecurityInfoProvider';\r\n\r\nexport default SecurityInfoProvider;\r\n","import { useEffect } from 'react';\r\nimport AuthorizationService from '../../../../../../services/AuthorizationService';\r\nimport UserService from '../../../../../../services/UserService';\r\n\r\nconst SecurityInfoProvider = ({\r\n  setLoaded,\r\n  setPermissionCodes,\r\n  setRoles,\r\n  setUsers,\r\n  setRolePermissions,\r\n  setUserPermissions,\r\n}) => {\r\n  useEffect(() => {\r\n    async function run() {\r\n      // Get Permission Codes\r\n      const codes = await AuthorizationService.getPermissionCodes();\r\n      setPermissionCodes(codes.sort((a, b) => (a.code < b.code ? -1 : 1)));\r\n\r\n      // get all roles\r\n      const rolesInfo = await AuthorizationService.getRoles();\r\n      setRoles(rolesInfo.sort((a, b) => (a.name < b.name ? -1 : 1)));\r\n\r\n      // get all users\r\n      const userInfo = await UserService.getSettingsUsers();\r\n      setUsers(userInfo.sort((a, b) => (a.username < b.username ? -1 : 1)));\r\n\r\n      // get All role permissions\r\n      const roles = await AuthorizationService.getRolesSecurities();\r\n      const rolesMap = {};\r\n      roles.forEach((role) => {\r\n        rolesMap[role.reference.name] = {\r\n          ...rolesMap[role.reference.name],\r\n          [role.code.code]: role,\r\n        };\r\n      });\r\n      setRolePermissions(rolesMap);\r\n\r\n      // get my organization's user permission\r\n      const userPermissions = await AuthorizationService.getOrganizationUsersSecurities();\r\n      const userPermMap = {};\r\n      userPermissions.forEach((user) => {\r\n        userPermMap[user.reference.username] = {\r\n          ...userPermMap[user.reference.username],\r\n          [user.code.code]: user,\r\n        };\r\n      });\r\n      setUserPermissions(userPermMap);\r\n\r\n      // Confirm information was loaded\r\n      setLoaded(true);\r\n    }\r\n    run();\r\n  }, [\r\n    setPermissionCodes,\r\n    setLoaded,\r\n    setRoles,\r\n    setUsers,\r\n    setRolePermissions,\r\n    setUserPermissions,\r\n  ]);\r\n  return null;\r\n};\r\n\r\nexport default SecurityInfoProvider;\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Col, Container, Row } from 'react-grid-system';\r\nimport {\r\n  Checkbox,\r\n  CommandBar, makeStyles, SearchBox, Stack, Text,\r\n} from '@fluentui/react';\r\nimport AuthorizationService from '../../../../../../services/AuthorizationService';\r\nimport Accordion from '../../../../../shared/accordion/Accordion';\r\nimport SinglePicker from '../../../../../shared/single-picker/SinglePicker';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    '& > * + *': {\r\n      marginTop: theme.spacing.m,\r\n    },\r\n  },\r\n  autocomplete: {\r\n    marginTop: theme.spacing.l2,\r\n  },\r\n  secondaryText: {\r\n    color: theme.palette.neutralTertiary,\r\n  },\r\n  searchBox: {\r\n    alignSelf: 'center',\r\n    marginLeft: theme.spacing.m,\r\n    minWidth: 200,\r\n  },\r\n}));\r\n\r\nconst SecurityDetailsRoleDisplay = ({\r\n  codes,\r\n  roles,\r\n  rolePermissions,\r\n  setRolePermissions,\r\n  selectedRole,\r\n  setSelectedRole,\r\n}) => {\r\n  const classes = useStyles();\r\n  const [expanded, setExpanded] = useState([]);\r\n  const [filter, setFilter] = useState('');\r\n\r\n  const handleExpandSingle = (e, item, isExpanded) => {\r\n    if (isExpanded) {\r\n      setExpanded((prev) => [...prev, item.code]);\r\n    } else {\r\n      setExpanded((prev) => prev.filter((p) => p !== item.code));\r\n    }\r\n  };\r\n\r\n  const handleExpandAll = () => {\r\n    if (expanded.length === codes.length) {\r\n      setExpanded([]);\r\n    } else {\r\n      setExpanded(codes.map((e) => e.code));\r\n    }\r\n  };\r\n\r\n  const handleFilterInputChange = (e) => {\r\n    if (e && e.target) {\r\n      setFilter(e.target.value);\r\n    }\r\n  };\r\n\r\n  const handleSetPermission = (role, code, permission) => {\r\n    setRolePermissions((prev) => ({\r\n      ...prev,\r\n      [role.name]: {\r\n        ...prev[role.name],\r\n        [code.code]: permission,\r\n      },\r\n    }));\r\n  };\r\n\r\n  const handleAdd = async (role, code, grant) => {\r\n    const result = await AuthorizationService.addPermission({\r\n      grants: [grant],\r\n      code: code.id,\r\n      permissionType: 'Role',\r\n      reference: role.id,\r\n    });\r\n    return result;\r\n  };\r\n\r\n  const handleUpdate = async (permission) => {\r\n    const result = await AuthorizationService.updatePermission(permission.id, permission);\r\n    return result;\r\n  };\r\n\r\n  const handleDelete = async (permission) => {\r\n    try {\r\n      const result = await AuthorizationService.deletePermission(permission.id);\r\n      return result;\r\n    } catch (err) {\r\n      return null;\r\n    }\r\n  };\r\n\r\n  const handleClick = (role, code, grant) => async (e) => {\r\n    e.persist();\r\n    // check if it's a new permission\r\n    if (!rolePermissions[role.name] || !rolePermissions[role.name][code.code]) {\r\n      const result = await handleAdd(role, code, grant);\r\n      result && handleSetPermission(role, code, result);\r\n    } else if (e.target.checked) {\r\n      // add a grant\r\n      const grants = [...rolePermissions[role.name][code.code].grants, grant];\r\n      const result = await handleUpdate({ ...rolePermissions[role.name][code.code], grants });\r\n      result && handleSetPermission(role, code, result);\r\n    } else if (!e.target.checked) {\r\n      const grants = rolePermissions[role.name][code.code].grants.filter((g) => g !== grant);\r\n      if (grants.length === 0) {\r\n        await handleDelete(rolePermissions[role.name][code.code]);\r\n        handleSetPermission(role, code, null);\r\n      } else {\r\n        const result = await handleUpdate({ ...rolePermissions[role.name][code.code], grants });\r\n        result && handleSetPermission(role, code, result);\r\n      }\r\n    }\r\n  };\r\n\r\n  const getPermissionChecked = (role, code, grant) => {\r\n    const permission = rolePermissions[role.name] && rolePermissions[role.name][code.code];\r\n    if (permission) {\r\n      return permission.grants.indexOf(grant) !== -1;\r\n    }\r\n    return false;\r\n  };\r\n\r\n  const renderPermissions = () => {\r\n    if (selectedRole) {\r\n      const render = codes.filter((el) => (\r\n        el.code.toLowerCase().indexOf(filter.toLowerCase()) !== -1));\r\n      return (\r\n        <Accordion\r\n          items={render.map(\r\n            (permission) => (\r\n              {\r\n                ...permission,\r\n                text: permission.code,\r\n                isOpen: expanded.indexOf(permission.code) !== -1,\r\n              }),\r\n          )}\r\n          getKey={(code) => code.id}\r\n          headerProps={{\r\n            onRenderHeaderText: (item) => (\r\n              <div>\r\n                <Text variant=\"mediumPlus\" block>{item.code}</Text>\r\n                <Text variant=\"medium\" className={classes.secondaryText}>{item.description}</Text>\r\n              </div>\r\n            ),\r\n          }}\r\n          onRenderItem={(item) => (\r\n            <Stack\r\n              verticalAlign=\"start\"\r\n              tokens={{\r\n                childrenGap: 3,\r\n              }}\r\n            >\r\n              {\r\n                  item.grants.map((grant) => (\r\n                    <Checkbox\r\n                      key={`${item.id}-${grant}`}\r\n                      label={grant}\r\n                      checked={getPermissionChecked(selectedRole, item, grant)}\r\n                      onChange={handleClick(selectedRole, item, grant)}\r\n                    />\r\n                  ))\r\n                }\r\n            </Stack>\r\n          )}\r\n          onToggle={handleExpandSingle}\r\n        />\r\n      );\r\n    }\r\n    return null;\r\n  };\r\n\r\n  return (\r\n    <Container fluid className={classes.root}>\r\n      <Row justify=\"center\">\r\n        <Col xs={12} md={4}>\r\n          <SinglePicker\r\n            className={classes.autocomplete}\r\n            options={roles.map((r) => ({ key: r.id, data: r }))}\r\n            getTextFromItem={(item) => item.data.name}\r\n            selected={{ key: selectedRole.id, data: selectedRole }}\r\n            onSelect={(item) => setSelectedRole(item.data)}\r\n          />\r\n        </Col>\r\n      </Row>\r\n      <Row>\r\n        <Col xs={12}>\r\n          <CommandBar\r\n            items={[\r\n              {\r\n                key: 'expandAll',\r\n                text: `${expanded.length === codes.length ? 'Collapse' : 'Expand'} All`,\r\n                iconProps: {\r\n                  iconName: `${expanded.length === codes.length ? 'ChevronFold10' : 'ChevronUnfold10'}`,\r\n                },\r\n                onClick: handleExpandAll,\r\n                buttonStyles: {\r\n                  root: {\r\n                    minWidth: '120px',\r\n                  },\r\n                },\r\n              },\r\n              {\r\n                key: 'search',\r\n                onRender: () => (\r\n                  <SearchBox\r\n                    className={classes.searchBox}\r\n                    value={filter}\r\n                    onChange={handleFilterInputChange}\r\n                    onClear={() => setFilter('')}\r\n                  />\r\n                ),\r\n              },\r\n            ]}\r\n            styles={{\r\n              root: {\r\n                paddingLeft: 0,\r\n              },\r\n            }}\r\n          />\r\n        </Col>\r\n      </Row>\r\n      <Row>\r\n        { renderPermissions() }\r\n      </Row>\r\n    </Container>\r\n  );\r\n};\r\n\r\nSecurityDetailsRoleDisplay.propTypes = {\r\n  codes: PropTypes.arrayOf(PropTypes.shape({\r\n    code: PropTypes.string,\r\n  })).isRequired,\r\n  roles: PropTypes.arrayOf(PropTypes.shape({\r\n    name: PropTypes.string,\r\n  })).isRequired,\r\n  rolePermissions: PropTypes.shape({}).isRequired,\r\n  setRolePermissions: PropTypes.func.isRequired,\r\n  selectedRole: PropTypes.shape({\r\n    username: PropTypes.string,\r\n    id: PropTypes.string,\r\n  }).isRequired,\r\n  setSelectedRole: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default SecurityDetailsRoleDisplay;\r\n","import SecurityDetailsRoleDisplay from './SecurityDetailsRoleDisplay';\r\n\r\nexport default SecurityDetailsRoleDisplay;\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Col, Container, Row } from 'react-grid-system';\r\nimport {\r\n  Checkbox, CommandBar, makeStyles, SearchBox, Stack, Text,\r\n} from '@fluentui/react';\r\nimport AuthorizationService from '../../../../../../services/AuthorizationService';\r\nimport Accordion from '../../../../../shared/accordion/Accordion';\r\nimport SinglePicker from '../../../../../shared/single-picker/SinglePicker';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    '& > * + *': {\r\n      marginTop: theme.spacing.m,\r\n    },\r\n  },\r\n  autocomplete: {\r\n    marginTop: theme.spacing.l2,\r\n  },\r\n  secondaryText: {\r\n    color: theme.palette.neutralTertiary,\r\n  },\r\n  searchBox: {\r\n    alignSelf: 'center',\r\n    marginLeft: theme.spacing.m,\r\n    minWidth: 200,\r\n  },\r\n}));\r\n\r\nconst SecurityDetailsUserDisplay = ({\r\n  codes,\r\n  users,\r\n  userPermissions,\r\n  setUserPermissions,\r\n  selectedUser,\r\n  setSelectedUser,\r\n}) => {\r\n  const classes = useStyles();\r\n  const [expanded, setExpanded] = useState([]);\r\n  const [filter, setFilter] = useState('');\r\n\r\n  const handleExpandSingle = (e, item, isExpanded) => {\r\n    if (isExpanded) {\r\n      setExpanded((prev) => [...prev, item.code]);\r\n    } else {\r\n      setExpanded((prev) => prev.filter((err) => err !== item.code));\r\n    }\r\n  };\r\n\r\n  const handleExpandAll = () => {\r\n    if (expanded.length === codes.length) {\r\n      setExpanded([]);\r\n    } else {\r\n      setExpanded(codes.map((e) => e.code));\r\n    }\r\n  };\r\n\r\n  const handleFilterInputChange = (e) => {\r\n    if (e && e.target) {\r\n      setFilter(e.target.value);\r\n    }\r\n  };\r\n\r\n  const handleSetPermission = (user, code, permission) => {\r\n    setUserPermissions((prev) => ({\r\n      ...prev,\r\n      [user.username]: {\r\n        ...prev[user.username],\r\n        [code.code]: permission,\r\n      },\r\n    }));\r\n  };\r\n\r\n  const handleAdd = async (user, code, grant) => {\r\n    const result = await AuthorizationService.addPermission({\r\n      grants: [grant],\r\n      code: code.id,\r\n      permissionType: 'User',\r\n      reference: user.id,\r\n    });\r\n    return result;\r\n  };\r\n\r\n  const handleUpdate = async (permission) => {\r\n    const result = await AuthorizationService.updatePermission(permission.id, permission);\r\n    return result;\r\n  };\r\n\r\n  const handleDelete = async (permission) => {\r\n    try {\r\n      const result = await AuthorizationService.deletePermission(permission.id);\r\n      return result;\r\n    } catch (err) {\r\n      return null;\r\n    }\r\n  };\r\n\r\n  const handleClick = (user, code, grant) => async (e) => {\r\n    e.persist();\r\n    // check if it's a new permission\r\n    if (!userPermissions[user.username] || !userPermissions[user.username][code.code]) {\r\n      const result = await handleAdd(user, code, grant);\r\n      result && handleSetPermission(user, code, result);\r\n    } else if (e.target.checked) {\r\n      // add a grant\r\n      const grants = [...userPermissions[user.username][code.code].grants, grant];\r\n      const result = await handleUpdate({ ...userPermissions[user.username][code.code], grants });\r\n      result && handleSetPermission(user, code, result);\r\n    } else if (!e.target.checked) {\r\n      const grants = userPermissions[user.username][code.code].grants.filter((g) => g !== grant);\r\n      if (grants.length === 0) {\r\n        await handleDelete(userPermissions[user.username][code.code]);\r\n        handleSetPermission(user, code, null);\r\n      } else {\r\n        const result = await handleUpdate({ ...userPermissions[user.username][code.code], grants });\r\n        result && handleSetPermission(user, code, result);\r\n      }\r\n    }\r\n  };\r\n\r\n  const getPermissionChecked = (user, code, grant) => {\r\n    const permission = userPermissions[user.username] && userPermissions[user.username][code.code];\r\n    if (permission) {\r\n      return permission.grants.indexOf(grant) !== -1;\r\n    }\r\n    return false;\r\n  };\r\n\r\n  const renderPermissions = () => {\r\n    if (selectedUser) {\r\n      const render = codes.filter((el) => (\r\n        el.code.toLowerCase().indexOf(filter.toLowerCase()) !== -1));\r\n      return (\r\n        <Accordion\r\n          items={render.map(\r\n            (permission) => (\r\n              {\r\n                ...permission,\r\n                text: permission.code,\r\n                isOpen: expanded.indexOf(permission.code) !== -1,\r\n              }),\r\n          )}\r\n          getKey={(code) => code.id}\r\n          headerProps={{\r\n            onRenderHeaderText: (item) => (\r\n              <div>\r\n                <Text variant=\"mediumPlus\" block>{item.code}</Text>\r\n                <Text variant=\"medium\" className={classes.secondaryText}>{item.description}</Text>\r\n              </div>\r\n            ),\r\n          }}\r\n          onRenderItem={(item) => (\r\n            <Stack\r\n              verticalAlign=\"start\"\r\n              tokens={{\r\n                childrenGap: 3,\r\n              }}\r\n            >\r\n              <Checkbox\r\n                label=\"overrule\"\r\n                checked={getPermissionChecked(selectedUser, item, 'overrule')}\r\n                onChange={handleClick(selectedUser, item, 'overrule')}\r\n              />\r\n              {\r\n                  item.grants.map((grant) => (\r\n                    <Checkbox\r\n                      label={grant}\r\n                      checked={getPermissionChecked(selectedUser, item, grant)}\r\n                      onChange={handleClick(selectedUser, item, grant)}\r\n                    />\r\n                  ))\r\n                }\r\n            </Stack>\r\n          )}\r\n          onToggle={handleExpandSingle}\r\n        />\r\n      );\r\n    }\r\n    return null;\r\n  };\r\n\r\n  return (\r\n    <Container fluid className={classes.root}>\r\n      <Row justify=\"center\">\r\n        <Col xs={12} md={4}>\r\n          <SinglePicker\r\n            className={classes.autocomplete}\r\n            options={users.map((u) => ({ key: u.id, data: u }))}\r\n            getTextFromItem={(item) => item.data.username}\r\n            selected={{ key: selectedUser.id, data: selectedUser }}\r\n            onSelect={(item) => setSelectedUser(item.data)}\r\n          />\r\n        </Col>\r\n      </Row>\r\n      <Row>\r\n        <Col xs={12}>\r\n          <CommandBar\r\n            items={[\r\n              {\r\n                key: 'expandAll',\r\n                text: `${expanded.length === codes.length ? 'Collapse' : 'Expand'} All`,\r\n                iconProps: {\r\n                  iconName: `${expanded.length === codes.length ? 'ChevronFold10' : 'ChevronUnfold10'}`,\r\n                },\r\n                onClick: handleExpandAll,\r\n                buttonStyles: {\r\n                  root: {\r\n                    minWidth: '120px',\r\n                  },\r\n                },\r\n              },\r\n              {\r\n                key: 'search',\r\n                onRender: () => (\r\n                  <SearchBox\r\n                    className={classes.searchBox}\r\n                    value={filter}\r\n                    onChange={handleFilterInputChange}\r\n                    onClear={() => setFilter('')}\r\n                  />\r\n                ),\r\n              },\r\n            ]}\r\n            styles={{\r\n              root: {\r\n                paddingLeft: 0,\r\n              },\r\n            }}\r\n          />\r\n        </Col>\r\n      </Row>\r\n      <Row>\r\n        { renderPermissions() }\r\n      </Row>\r\n    </Container>\r\n  );\r\n};\r\n\r\nSecurityDetailsUserDisplay.propTypes = {\r\n  codes: PropTypes.arrayOf(PropTypes.shape({\r\n    code: PropTypes.string,\r\n  })).isRequired,\r\n  users: PropTypes.arrayOf(PropTypes.shape({\r\n    username: PropTypes.string,\r\n  })).isRequired,\r\n  userPermissions: PropTypes.shape({}).isRequired,\r\n  setUserPermissions: PropTypes.func.isRequired,\r\n  selectedUser: PropTypes.shape({\r\n    id: PropTypes.string,\r\n    username: PropTypes.string,\r\n  }).isRequired,\r\n  setSelectedUser: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default SecurityDetailsUserDisplay;\r\n","import SecurityDetailsUserDisplay from './SecurityDetailsUserDisplay';\r\n\r\nexport default SecurityDetailsUserDisplay;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Pivot, PivotItem } from '@fluentui/react';\r\nimport { Container } from 'react-grid-system';\r\nimport SecurityInfoProvider from './components/security-info-provider';\r\nimport SecurityDetailsRoleDisplay from './components/security-details-role-display';\r\nimport SecurityDetailsUserDisplay from './components/security-details-user-display';\r\nimport PageHeader from '../../../shared/page-header';\r\n\r\nconst SecurityDetails = () => {\r\n  const [permissionCodes, setPermissionCodes] = useState([]);\r\n  const [roles, setRoles] = useState([]);\r\n  const [users, setUsers] = useState([]);\r\n  const [rolePermissions, setRolePermissions] = useState({});\r\n  const [userPermissions, setUserPermissions] = useState({});\r\n  const [selectedRole, setSelectedRole] = useState(null);\r\n  const [selectedUser, setSelectedUser] = useState(null);\r\n\r\n  const [loaded, setLoaded] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setSelectedRole((prev) => {\r\n      if (prev === null && roles.length > 0) return roles[0];\r\n      return prev;\r\n    });\r\n  }, [roles]);\r\n\r\n  useEffect(() => {\r\n    setSelectedUser((prev) => {\r\n      if (prev === null && users.length > 0) return users[0];\r\n      return prev;\r\n    });\r\n  }, [users]);\r\n\r\n  return (\r\n    <>\r\n      <SecurityInfoProvider\r\n        setLoaded={setLoaded}\r\n        setPermissionCodes={setPermissionCodes}\r\n        setRoles={setRoles}\r\n        setUsers={setUsers}\r\n        setRolePermissions={setRolePermissions}\r\n        setUserPermissions={setUserPermissions}\r\n      />\r\n      <Container lg>\r\n        <PageHeader text=\"Permissions\" />\r\n        {\r\n        loaded\r\n          ? (\r\n            <Pivot\r\n              aria-label=\"User and Roles permissions\"\r\n              styles={{\r\n                root: {\r\n                  display: 'flex',\r\n                  flexFlow: 'row nowrap',\r\n                  justifyContent: 'center',\r\n                  alignItems: 'center',\r\n                },\r\n              }}\r\n            >\r\n              <PivotItem headerText=\"Roles\" itemIcon=\"SecurityGroup\">\r\n                <SecurityDetailsRoleDisplay\r\n                  codes={permissionCodes}\r\n                  roles={roles}\r\n                  rolePermissions={rolePermissions}\r\n                  setRolePermissions={setRolePermissions}\r\n                  selectedRole={selectedRole}\r\n                  setSelectedRole={setSelectedRole}\r\n                />\r\n              </PivotItem>\r\n              <PivotItem headerText=\"Users\" itemIcon=\"Contact\">\r\n                <SecurityDetailsUserDisplay\r\n                  codes={permissionCodes}\r\n                  users={users}\r\n                  userPermissions={userPermissions}\r\n                  setUserPermissions={setUserPermissions}\r\n                  selectedUser={selectedUser}\r\n                  setSelectedUser={setSelectedUser}\r\n                />\r\n              </PivotItem>\r\n            </Pivot>\r\n          )\r\n          : null\r\n      }\r\n      </Container>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SecurityDetails;\r\n","import SettingsRolesPage from './SettingsRoles';\r\n\r\nexport default SettingsRolesPage;\r\n","import React from 'react';\r\nimport SecurityDetails from '../../components/appraisal-details/components/security-details/SecurityDetails';\r\n\r\nconst SettingsRolesPage = () => (<SecurityDetails />);\r\n\r\nexport default SettingsRolesPage;\r\n","import SettingsPage from './SettingsPage';\r\n\r\nexport default SettingsPage;\r\n","import React from 'react';\r\nimport { useRouteMatch, Switch, Route } from 'react-router-dom';\r\nimport DocumentTitle from 'react-document-title';\r\nimport { Container } from 'react-grid-system';\r\nimport SettingsGeneral from '../settings-general';\r\nimport SettingsUsers from '../settings-users';\r\nimport SettingsAppraisalPeriods from '../settings-app-periods';\r\nimport SettingsAppraisalItems from '../settings-app-items';\r\nimport SettingsRolesPage from '../settings-role-permissions';\r\nimport AuthorizationRedirectComponent from '../../components/shared/authorization-redirect-component';\r\n\r\n/*\r\n * On the settings page the navigation will be done via a\r\n */\r\nconst SettingsPage = () => {\r\n  const { path } = useRouteMatch();\r\n\r\n  return (\r\n    <>\r\n      <Container lg fluid>\r\n        <Switch>\r\n          <Route exact path={path}>\r\n            <AuthorizationRedirectComponent\r\n              code=\"SETTINGS\"\r\n              grant=\"general\"\r\n              to=\"/\"\r\n              failureNotification={{\r\n                header: 'No Access',\r\n                content: 'No permission to access this page. Please contact your administrator.',\r\n              }}\r\n            >\r\n              <SettingsGeneral />\r\n            </AuthorizationRedirectComponent>\r\n          </Route>\r\n          <Route path={`${path}/users`}>\r\n            <AuthorizationRedirectComponent\r\n              code=\"SETTINGS\"\r\n              grant=\"users\"\r\n              to=\"/\"\r\n              failureNotification={{\r\n                header: 'No Access',\r\n                content: 'No permission to access this page. Please contact your administrator.',\r\n              }}\r\n            >\r\n              <DocumentTitle title=\"Users\">\r\n                <SettingsUsers />\r\n              </DocumentTitle>\r\n            </AuthorizationRedirectComponent>\r\n          </Route>\r\n          <Route path={`${path}/appraisal-periods`}>\r\n            <AuthorizationRedirectComponent\r\n              code=\"SETTINGS\"\r\n              grant=\"appraisal-periods\"\r\n              to=\"/\"\r\n              failureNotification={{\r\n                header: 'No Access',\r\n                content: 'No permission to access this page. Please contact your administrator.',\r\n              }}\r\n            >\r\n              <DocumentTitle title=\"Settings - appraisal periods\">\r\n                <SettingsAppraisalPeriods />\r\n              </DocumentTitle>\r\n            </AuthorizationRedirectComponent>\r\n          </Route>\r\n          <Route path={`${path}/appraisal-items`}>\r\n            <AuthorizationRedirectComponent\r\n              code=\"SETTINGS\"\r\n              grant=\"appraisal-items\"\r\n              to=\"/\"\r\n              failureNotification={{\r\n                header: 'No Access',\r\n                content: 'No permission to access this page. Please contact your administrator.',\r\n              }}\r\n            >\r\n              <DocumentTitle title=\"Settings - appraisal items\">\r\n                <SettingsAppraisalItems />\r\n              </DocumentTitle>\r\n            </AuthorizationRedirectComponent>\r\n          </Route>\r\n          <Route path={`${path}/permissions`}>\r\n            <AuthorizationRedirectComponent\r\n              code=\"SETTINGS\"\r\n              grant=\"permissions\"\r\n              to=\"/\"\r\n              failureNotification={{\r\n                header: 'No Access',\r\n                content: 'No permission to access this page. Please contact your administrator.',\r\n              }}\r\n            >\r\n              <DocumentTitle title=\"Settings - Securities\">\r\n                <SettingsRolesPage />\r\n              </DocumentTitle>\r\n            </AuthorizationRedirectComponent>\r\n          </Route>\r\n        </Switch>\r\n      </Container>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SettingsPage;\r\n","import { useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ReportingService from '../../../../services/ReportingService';\r\n\r\nconst ReportsInfoProvider = ({ setReports }) => {\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    async function run() {\r\n      const reports = await ReportingService.getReports();\r\n      if (mounted) {\r\n        setReports(reports);\r\n      }\r\n    }\r\n    run();\r\n    return () => { mounted = false; };\r\n  }, [setReports]);\r\n  return null;\r\n};\r\n\r\nReportsInfoProvider.propTypes = {\r\n  setReports: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ReportsInfoProvider;\r\n","import ReportsInfoProvider from './ReportsInfoProvider';\r\n\r\nexport default ReportsInfoProvider;\r\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useHistory } from 'react-router-dom';\r\nimport {\r\n  Panel, PrimaryButton, DefaultButton, PanelType, Stack, TextField, Separator, Label, makeStyles,\r\n} from '@fluentui/react';\r\nimport { Col, Container, Row } from 'react-grid-system';\r\nimport ReportingService from '../../../../services/ReportingService';\r\nimport NotificationService from '../../../../services/NotificationService';\r\nimport SinglePicker from '../../../shared/single-picker/SinglePicker';\r\nimport Box from '../../../shared/box';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    '& > * + *': {\r\n      marginTop: '16px',\r\n    },\r\n  },\r\n  topMargin: {\r\n    marginTop: '8px',\r\n  },\r\n  box: {\r\n    border: `1px solid ${theme.palette.themeSecondary}`,\r\n    '&:not(:first-of-type)': {\r\n      borderTop: 'none',\r\n    },\r\n  },\r\n  invisibleInput: {\r\n    background: 'none',\r\n    outline: 'none',\r\n    border: 'none',\r\n    height: 0,\r\n  },\r\n}));\r\n\r\nconst ReportsNewPanel = ({ isOpen, setOpen, addReport }) => {\r\n  const classes = useStyles();\r\n  const [name, setName] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [template, setTemplate] = useState('');\r\n  const [parameter, setParameter] = useState('');\r\n  const [templates, setTemplates] = useState([]);\r\n  const [parameters, setParameters] = useState([]);\r\n  const [selectedParameters, setSelectedParameters] = useState([]);\r\n  const history = useHistory();\r\n\r\n  const handleChange = (set) => (e) => {\r\n    set(e.target.value);\r\n  };\r\n\r\n  const handleChangeTempalte = (templ) => {\r\n    setTemplate(templ.data.id);\r\n  };\r\n\r\n  const handleChangeParameter = (item) => {\r\n    setParameter(item.data);\r\n  };\r\n\r\n  const handleAddParameter = () => {\r\n    if (parameter !== '') {\r\n      setParameter('');\r\n      setSelectedParameters((prev) => {\r\n        if (selectedParameters.map((p) => p.name).indexOf(parameter) === -1) {\r\n          return prev.concat({\r\n            name: parameter,\r\n            defaultValue: '',\r\n            path: parameter,\r\n          });\r\n        }\r\n        return prev;\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleChangeParameterName = (idx) => (e) => {\r\n    e.persist();\r\n    setSelectedParameters((prev) => {\r\n      const copy = prev.slice();\r\n      copy[idx].name = e.target.value;\r\n      return copy;\r\n    });\r\n  };\r\n\r\n  const handleChangeParameterValue = (idx) => (e) => {\r\n    e.persist();\r\n    setSelectedParameters((prev) => {\r\n      const copy = prev.slice();\r\n      copy[idx].defaultValue = e.target.value;\r\n      return copy;\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.persist();\r\n    e.preventDefault();\r\n    const formData = new FormData();\r\n    formData.append('name', name);\r\n    formData.append('description', description);\r\n    formData.append('template', template);\r\n    formData.append('parameters', JSON.stringify(selectedParameters));\r\n    const result = await ReportingService.addReport(formData);\r\n    if (result) {\r\n      history.push('/reporting/reports');\r\n      NotificationService.notifySuccess('Report successfully created');\r\n      setOpen(false);\r\n      addReport(result);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    async function run() {\r\n      const t = await ReportingService.getTemplates();\r\n      if (mounted) {\r\n        setTemplates(t);\r\n      }\r\n    }\r\n    run();\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    async function run() {\r\n      if (template !== '') {\r\n        const params = await ReportingService.getTempalteParameters(template);\r\n        if (params.length && mounted) {\r\n          setParameters(params);\r\n        }\r\n      } else {\r\n        setParameters([]);\r\n      }\r\n      setSelectedParameters([]);\r\n      setParameter('');\r\n    }\r\n    run();\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, [template]);\r\n\r\n  const onRenderFooter = () => (\r\n    <Stack\r\n      horizontal\r\n      horizontalAlign=\"start\"\r\n      tokens={{\r\n        childrenGap: 10,\r\n      }}\r\n    >\r\n      <PrimaryButton form=\"new-report-form\" type=\"submit\">Create</PrimaryButton>\r\n      <DefaultButton onClick={() => setOpen(false)}>Close</DefaultButton>\r\n    </Stack>\r\n  );\r\n\r\n  return (\r\n    <Panel\r\n      isOpen={isOpen}\r\n      onDismiss={() => setOpen(false)}\r\n      headerText=\"Create Report\"\r\n      type={PanelType.large}\r\n      onRenderFooterContent={onRenderFooter}\r\n    >\r\n      <form onSubmit={handleSubmit} id=\"new-report-form\">\r\n        <Container fluid className={classes.root}>\r\n          <Separator>General</Separator>\r\n          <Row justify=\"start\">\r\n            <Col xs={12} sm={8} md={6}>\r\n              <TextField\r\n                label=\"Name\"\r\n                value={name}\r\n                onChange={handleChange(setName)}\r\n                required\r\n              />\r\n              <TextField\r\n                label=\"Description\"\r\n                value={description}\r\n                onChange={handleChange(setDescription)}\r\n                multiline\r\n              />\r\n              <Label>Select template</Label>\r\n              <SinglePicker\r\n                options={templates.map((t) => ({ key: t.id, data: t }))}\r\n                getTextFromItem={(item) => item.data.name}\r\n                onSelect={handleChangeTempalte}\r\n                onRenderItem={() => (\r\n                  <TextField\r\n                    value={template ? templates.find((temp) => temp.id === template)?.name : null}\r\n                    underlined\r\n                    readOnly\r\n                  />\r\n                )}\r\n                maxHeight=\"400px\"\r\n              />\r\n              <input value={template} className={classes.invisibleInput} required />\r\n            </Col>\r\n          </Row>\r\n          <Separator>Parameters</Separator>\r\n          <Row justify=\"start\">\r\n            <Col xs={12} sm={8} md={6}>\r\n              <Label>Select parameter</Label>\r\n              <SinglePicker\r\n                options={parameters.map((param) => param.paths.map((path) => ({\r\n                  key: `${param.name}${path}`,\r\n                  data: `${param.name}${path}`,\r\n                }))).flat()}\r\n                getTextFromItem={(item) => item.data}\r\n                onSelect={(item) => handleChangeParameter(item)}\r\n                onRenderItem={() => (\r\n                  <TextField\r\n                    value={parameter}\r\n                    underlined\r\n                    readOnly\r\n                  />\r\n                )}\r\n                maxHeight=\"400px\"\r\n              />\r\n              <DefaultButton\r\n                className={classes.topMargin}\r\n                onClick={handleAddParameter}\r\n              >\r\n                Add Parameter\r\n              </DefaultButton>\r\n            </Col>\r\n          </Row>\r\n          <Separator>Selected Paramaters</Separator>\r\n          <Row justify=\"start\">\r\n            <Col xs={12} sm={8} md={6}>\r\n              {\r\n              selectedParameters.map((sp, idx) => (\r\n                <Box className={classes.box}>\r\n                  <TextField\r\n                    label=\"Name\"\r\n                    value={sp.name}\r\n                    onChange={handleChangeParameterName(idx)}\r\n                  />\r\n                  <TextField\r\n                    label=\"Default value\"\r\n                    value={sp.defaultValue}\r\n                    onChange={handleChangeParameterValue(idx)}\r\n                  />\r\n                  <TextField\r\n                    label=\"Path\"\r\n                    value={sp.path}\r\n                    readOnly\r\n                  />\r\n                </Box>\r\n              ))\r\n            }\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </form>\r\n    </Panel>\r\n  );\r\n};\r\n\r\nReportsNewPanel.propTypes = {\r\n  isOpen: PropTypes.bool.isRequired,\r\n  setOpen: PropTypes.func.isRequired,\r\n  addReport: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ReportsNewPanel;\r\n","import ReportsNewPanel from './ReportsNewPanel';\r\n\r\nexport default ReportsNewPanel;\r\n","import React, { useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  DefaultButton, makeStyles, Panel, PanelType, Separator, Stack, TextField,\r\n} from '@fluentui/react';\r\nimport { Col, Container, Row } from 'react-grid-system';\r\nimport ReportingService from '../../../../services/ReportingService';\r\nimport Box from '../../../shared/box';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    '& > * + *': {\r\n      marginTop: '16px',\r\n    },\r\n  },\r\n  box: {\r\n    border: `1px solid ${theme.palette.themeSecondary}`,\r\n    '&:not(:first-of-type)': {\r\n      borderTop: 'none',\r\n    },\r\n  },\r\n}));\r\n\r\nconst ReportsDetailsPanel = ({ id, isOpen, setOpen }) => {\r\n  const classes = useStyles();\r\n  const [details, setDetails] = useState(null);\r\n  const [parameters, setParameters] = useState([]);\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    async function run() {\r\n      if (id && isOpen) {\r\n        const reportDetails = await ReportingService.getReport(id);\r\n        if (mounted) {\r\n          setDetails(reportDetails);\r\n          setParameters(reportDetails.parameters.map((p) => ({\r\n            name: p.name,\r\n            value: p.defaultValue,\r\n            path: p.path,\r\n          })));\r\n        }\r\n      }\r\n    }\r\n    run();\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, [id, isOpen]);\r\n\r\n  const onRenderFooter = () => (\r\n    <Stack\r\n      horizontal\r\n      horizontalAlign=\"start\"\r\n      tokens={{\r\n        childrenGap: 10,\r\n      }}\r\n    >\r\n      <DefaultButton onClick={() => setOpen(false)}>Close</DefaultButton>\r\n    </Stack>\r\n  );\r\n\r\n  return (\r\n    isOpen && details\r\n      ? (\r\n        <Panel\r\n          isOpen={isOpen}\r\n          onDismiss={() => setOpen(false)}\r\n          headerText=\"Create Report\"\r\n          type={PanelType.large}\r\n          onRenderFooterContent={onRenderFooter}\r\n          isLightDismiss\r\n        >\r\n          <Container fluid className={classes.root}>\r\n            <Separator>General</Separator>\r\n            <Row justify=\"start\">\r\n              <Col xs={12} sm={8} md={6}>\r\n                <TextField\r\n                  label=\"Name: \"\r\n                  value={details.name}\r\n                  underlined\r\n                  readOnly\r\n                />\r\n                <TextField\r\n                  label=\"Description: \"\r\n                  value={details.description}\r\n                  multiline\r\n                  underlined\r\n                  readOnly\r\n                  resizable={false}\r\n                />\r\n                <TextField\r\n                  label=\"Template: \"\r\n                  value={details.template.name}\r\n                  underlined\r\n                  readOnly\r\n                />\r\n              </Col>\r\n            </Row>\r\n            <Separator>Parameters</Separator>\r\n            <Row justify=\"start\">\r\n              <Col xs={12} sm={8} md={6}>\r\n                {\r\n                  parameters.map((parameter) => (\r\n                    <Box className={classes.box}>\r\n                      <TextField\r\n                        label=\"Name: \"\r\n                        value={parameter.name}\r\n                        underlined\r\n                        readOnly\r\n                      />\r\n                      <TextField\r\n                        label=\"Path: \"\r\n                        value={parameter.path}\r\n                        underlined\r\n                        readOnly\r\n                      />\r\n                      <TextField\r\n                        label=\"Default value: \"\r\n                        value={parameter.value}\r\n                        underlined\r\n                        readOnly\r\n                      />\r\n                    </Box>\r\n                  ))\r\n                }\r\n              </Col>\r\n            </Row>\r\n            <Separator>Aggregation</Separator>\r\n            <Row justify=\"start\">\r\n              <Col xs={12} sm={8} md={6}>\r\n                <TextField\r\n                  value={JSON.stringify(JSON.parse(details.template.aggregation), null, 4)}\r\n                  multiline\r\n                  underlined\r\n                  readOnly\r\n                  autoAdjustHeight\r\n                  resizable={false}\r\n                />\r\n              </Col>\r\n            </Row>\r\n          </Container>\r\n        </Panel>\r\n      ) : null\r\n  );\r\n};\r\n\r\nReportsDetailsPanel.propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n  isOpen: PropTypes.bool.isRequired,\r\n  setOpen: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ReportsDetailsPanel;\r\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  ActionButton,\r\n  DefaultButton, makeStyles, Panel, PanelType, PrimaryButton, Separator, Stack, TextField,\r\n} from '@fluentui/react';\r\nimport { Col, Container, Row } from 'react-grid-system';\r\nimport ReportingService from '../../../../services/ReportingService';\r\nimport Box from '../../../shared/box';\r\nimport NotificationService from '../../../../services/NotificationService';\r\nimport SinglePicker from '../../../shared/single-picker/SinglePicker';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    '& > * + *': {\r\n      marginTop: '16px',\r\n    },\r\n  },\r\n  box: {\r\n    border: `1px solid ${theme.palette.themeSecondary}`,\r\n    '&:not(:first-of-type)': {\r\n      borderTop: 'none',\r\n    },\r\n  },\r\n}));\r\n\r\nconst ReportsEditPanel = ({\r\n  id, isOpen, setOpen, setReport,\r\n}) => {\r\n  const classes = useStyles();\r\n  const [details, setDetails] = useState(null);\r\n  const [parameters, setParameters] = useState([]);\r\n  const [parametersList, setParametersList] = useState([]);\r\n  const [inputErrorMessages, setInputErrorMessages] = useState({});\r\n  const [newParameter, setNewParameter] = useState({\r\n    name: '',\r\n    path: '',\r\n    defaultValue: '',\r\n  });\r\n\r\n  const handleChangeDetails = (property) => (evt) => {\r\n    const val = evt.target.value;\r\n    setDetails((prev) => ({\r\n      ...prev,\r\n      [property]: val,\r\n    }));\r\n  };\r\n\r\n  const handleChangeParams = (property, param) => (evt) => {\r\n    const { value } = evt.target;\r\n    setParameters((prev) => prev.map(\r\n      (parameter) => {\r\n        if (parameter && parameter.path === param.path) {\r\n          return { ...parameter, [property]: value };\r\n        }\r\n        return parameter;\r\n      },\r\n    ));\r\n  };\r\n\r\n  const deleteParam = (param) => () => {\r\n    setParameters((prev) => prev.filter((p) => p.path !== param.path));\r\n  };\r\n\r\n  const handleChangeNewParam = (property) => (evt) => {\r\n    const { value } = evt.target;\r\n    setNewParameter((prev) => ({\r\n      ...prev,\r\n      [property]: value,\r\n    }));\r\n  };\r\n\r\n  const handleAdd = () => {\r\n    let error = false;\r\n    if (newParameter.name === '') {\r\n      error = true;\r\n      setInputErrorMessages((prev) => ({\r\n        ...prev,\r\n        newParamName: 'Name is required',\r\n      }));\r\n    } else {\r\n      setInputErrorMessages((prev) => ({\r\n        ...prev,\r\n        newParamName: '',\r\n      }));\r\n    }\r\n    if (newParameter.path === '') {\r\n      error = true;\r\n      setInputErrorMessages((prev) => ({\r\n        ...prev,\r\n        newParamPath: 'Path is required',\r\n      }));\r\n    } else {\r\n      setInputErrorMessages((prev) => ({\r\n        ...prev,\r\n        newParamPath: '',\r\n      }));\r\n    }\r\n    if (error) return;\r\n    setParameters((prev) => {\r\n      const item = prev.find((p) => p.path === newParameter.path);\r\n      if (!item) {\r\n        return prev.concat(newParameter);\r\n      }\r\n      setInputErrorMessages(() => ({\r\n        ...prev,\r\n        newParamPath: 'This parameter is already added.',\r\n      }));\r\n      return prev;\r\n    });\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    const result = await ReportingService.updateReport(details.id, {\r\n      description: details.description,\r\n      parameters,\r\n    });\r\n    if (result) {\r\n      setReport(result);\r\n      setOpen(false);\r\n      setDetails(null);\r\n      setParameters([]);\r\n      setNewParameter({});\r\n      NotificationService.notifySuccess('Report saved');\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    async function run() {\r\n      if (id && isOpen) {\r\n        const reportDetails = await ReportingService.getReport(id);\r\n        let params = [];\r\n        if (reportDetails?.template?.id) {\r\n          params = await ReportingService.getTempalteParameters(reportDetails.template.id);\r\n        }\r\n        if (mounted) {\r\n          setDetails(reportDetails);\r\n          setParameters(reportDetails.parameters);\r\n          setParametersList(params);\r\n        }\r\n      }\r\n    }\r\n    run();\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, [id, isOpen]);\r\n\r\n  const onRenderFooter = () => (\r\n    <Stack\r\n      horizontal\r\n      horizontalAlign=\"start\"\r\n      tokens={{\r\n        childrenGap: 10,\r\n      }}\r\n    >\r\n      <PrimaryButton onClick={handleSave}>Save</PrimaryButton>\r\n      <DefaultButton onClick={() => setOpen(false)}>Close</DefaultButton>\r\n    </Stack>\r\n  );\r\n\r\n  return (\r\n    isOpen && details\r\n      ? (\r\n        <Panel\r\n          isOpen={isOpen}\r\n          onDismiss={() => setOpen(false)}\r\n          headerText=\"Create Report\"\r\n          type={PanelType.large}\r\n          onRenderFooterContent={onRenderFooter}\r\n        >\r\n          <Container fluid className={classes.root}>\r\n            <Separator>General</Separator>\r\n            <Row justify=\"start\">\r\n              <Col xs={12} sm={8} md={6}>\r\n                <TextField\r\n                  label=\"Name: \"\r\n                  value={details.name}\r\n                  underlined\r\n                  disabled\r\n                />\r\n                <TextField\r\n                  label=\"Description: \"\r\n                  value={details.description}\r\n                  multiline\r\n                  underlined\r\n                  resizable={false}\r\n                  onChange={handleChangeDetails('description')}\r\n                />\r\n                <TextField\r\n                  label=\"Template: \"\r\n                  value={details.template.name}\r\n                  underlined\r\n                  disabled\r\n                />\r\n              </Col>\r\n            </Row>\r\n            <Separator>Parameters</Separator>\r\n            <Row justify=\"start\">\r\n              <Col xs={12} sm={8} md={6}>\r\n                {\r\n                  parameters.map((parameter) => (\r\n                    <Box className={classes.box}>\r\n                      <TextField\r\n                        label=\"Name: \"\r\n                        value={parameter.name}\r\n                        underlined\r\n                        onChange={handleChangeParams('name', parameter)}\r\n                      />\r\n                      <TextField\r\n                        label=\"Path: \"\r\n                        value={parameter.path}\r\n                        underlined\r\n                        disabled\r\n                      />\r\n                      <TextField\r\n                        label=\"Default value: \"\r\n                        value={parameter.defaultValue}\r\n                        underlined\r\n                        onChange={handleChangeParams('defaultValue', parameter)}\r\n                      />\r\n                      <ActionButton\r\n                        onClick={deleteParam(parameter)}\r\n                        iconProps={{\r\n                          iconName: 'Delete',\r\n                        }}\r\n                        text=\"Delete\"\r\n                      />\r\n                    </Box>\r\n                  ))\r\n                }\r\n                <Box className={classes.box}>\r\n                  <SinglePicker\r\n                    options={parametersList.map((param) => param.paths.map((path) => ({\r\n                      key: `${param.name}${path}`,\r\n                      data: `${param.name}${path}`,\r\n                    }))).flat()}\r\n                    getTextFromItem={(item) => item.data}\r\n                    onSelect={(item) => setNewParameter((prev) => ({\r\n                      ...prev,\r\n                      path: item.data,\r\n                    }))}\r\n                    onRenderItem={() => null}\r\n                    maxHeight=\"400px\"\r\n                  />\r\n                  <TextField\r\n                    label=\"Name: \"\r\n                    value={newParameter.name || ''}\r\n                    underlined\r\n                    onChange={handleChangeNewParam('name')}\r\n                    required\r\n                    errorMessage={inputErrorMessages.newParamName || ''}\r\n                  />\r\n                  <TextField\r\n                    label=\"Path: \"\r\n                    value={newParameter.path || ''}\r\n                    underlined\r\n                    required\r\n                    errorMessage={inputErrorMessages.newParamPath || ''}\r\n                  />\r\n                  <TextField\r\n                    label=\"Default value: \"\r\n                    value={newParameter.defaultValue || ''}\r\n                    underlined\r\n                    onChange={handleChangeNewParam('defaultValue')}\r\n                  />\r\n                  <ActionButton\r\n                    onClick={handleAdd}\r\n                    iconProps={{\r\n                      iconName: 'Add',\r\n                    }}\r\n                    text=\"Add\"\r\n                  />\r\n                </Box>\r\n              </Col>\r\n            </Row>\r\n            <Separator>Aggregation</Separator>\r\n            <Row justify=\"start\">\r\n              <Col xs={12} sm={8} md={6}>\r\n                <TextField\r\n                  value={JSON.stringify(JSON.parse(details.template.aggregation), null, 4)}\r\n                  multiline\r\n                  underlined\r\n                  disabled\r\n                  autoAdjustHeight\r\n                  resizable={false}\r\n                />\r\n              </Col>\r\n            </Row>\r\n          </Container>\r\n        </Panel>\r\n      ) : null\r\n  );\r\n};\r\n\r\nReportsEditPanel.propTypes = {\r\n  id: PropTypes.string,\r\n  isOpen: PropTypes.bool.isRequired,\r\n  setOpen: PropTypes.func.isRequired,\r\n  setReport: PropTypes.func.isRequired,\r\n};\r\n\r\nReportsEditPanel.defaultProps = {\r\n  id: null,\r\n};\r\n\r\nexport default ReportsEditPanel;\r\n","import ReportsEditPanel from './ReportsEditPanel';\r\n\r\nexport default ReportsEditPanel;\r\n","import Reports from './Reports';\r\n\r\nexport default Reports;\r\n","import React, { useState } from 'react';\r\nimport { Container, Row, Col } from 'react-grid-system';\r\nimport { DetailsListLayoutMode, SelectionMode, Separator } from '@fluentui/react';\r\nimport ReportsInfoProvider from './components/reports-info-provider';\r\nimport PageHeader from '../shared/page-header/PageHeader';\r\nimport CommandTable from '../shared/command-table/CommandTable';\r\nimport ReportsNewPanel from './components/reports-new-panel';\r\nimport ReportsDetailsPanel from './components/reports-details-panel/ReportsDetailsPanel';\r\nimport ReportsEditPanel from './components/reports-edit-panel';\r\n\r\nconst ReportsList = () => {\r\n  const [newPanelOpen, setNewPanelOpen] = useState(false);\r\n  const [detailsPanelOpen, setDetailsPanelOpen] = useState(false);\r\n  const [editPanelOpen, setEditPanelOpen] = useState(false);\r\n  const [reports, setReports] = useState([]);\r\n  const [selectionDetails, setSelectionDetails] = useState({\r\n    count: 0,\r\n    items: [],\r\n  });\r\n\r\n  const [columns] = useState([\r\n    {\r\n      key: 'name',\r\n      name: ' Name',\r\n      fieldName: 'name',\r\n      isSortable: true,\r\n      isFilterable: true,\r\n      isResizable: true,\r\n      iconName: 'FileTemplate',\r\n      minWidth: 100,\r\n      maxWidth: 300,\r\n    },\r\n    {\r\n      key: 'description',\r\n      name: ' Description',\r\n      fieldName: 'description',\r\n      isSortable: true,\r\n      isFilterable: true,\r\n      isResizable: true,\r\n      iconName: 'FileBug',\r\n      minWidth: 200,\r\n      maxWidth: 300,\r\n    },\r\n    {\r\n      key: 'createdby',\r\n      name: ' Created by',\r\n      isSortable: true,\r\n      isFilterable: true,\r\n      isResizable: true,\r\n      iconName: 'Contact',\r\n      minWidth: 100,\r\n      maxWidth: 300,\r\n      sort: (a, b) => (a.createdUser.username < b.createdUser.username ? -1 : 1),\r\n      onRender: (item) => item.createdUser.username,\r\n    },\r\n    {\r\n      key: 'createdon',\r\n      name: ' Created on',\r\n      fieldName: 'createdDate',\r\n      isSortable: true,\r\n      isFilterable: true,\r\n      isResizable: true,\r\n      iconName: 'DateTime',\r\n      minWidth: 200,\r\n      maxWidth: 300,\r\n      onRender: (item) => (new Date(item.createdDate).toLocaleString()),\r\n    },\r\n  ]);\r\n\r\n  const [sortedColumn] = useState(\r\n    {\r\n      key: 'name',\r\n      name: ' Name',\r\n      fieldName: 'name',\r\n      isSortable: true,\r\n      isFilterable: true,\r\n      isResizable: true,\r\n      iconName: 'FileTemplate',\r\n      minWidth: 100,\r\n      maxWidth: 300,\r\n      isSorted: true,\r\n      isSortedDescending: false,\r\n    },\r\n  );\r\n\r\n  return (\r\n    <Container fluid>\r\n      <ReportsInfoProvider setReports={setReports} />\r\n      <PageHeader text=\"Reports\" />\r\n      <Separator />\r\n      <Row>\r\n        <Col xs={12}>\r\n          <CommandTable\r\n            commandItems={[\r\n              {\r\n                key: 'createItem',\r\n                text: 'Create',\r\n                iconProps: { iconName: 'BoxAdditionSolid' },\r\n                onClick: () => setNewPanelOpen(true),\r\n              },\r\n              {\r\n                key: 'details',\r\n                text: 'Details',\r\n                disabled: selectionDetails.count === 0,\r\n                iconProps: { iconName: 'ProfileSearch' },\r\n                onClick: () => setDetailsPanelOpen(true),\r\n              },\r\n              {\r\n                key: 'editItem',\r\n                text: 'Edit',\r\n                disabled: selectionDetails.count === 0,\r\n                iconProps: { iconName: 'Edit' },\r\n                onClick: () => setEditPanelOpen(true),\r\n              },\r\n            ]}\r\n            tableProps={{\r\n              items: reports,\r\n              columns,\r\n              setSelectionDetails,\r\n              selectionMode: SelectionMode.single,\r\n              onItemInvoked: () => setDetailsPanelOpen(true),\r\n              layoutMode: DetailsListLayoutMode.justified,\r\n              sortedCol: sortedColumn,\r\n            }}\r\n          />\r\n        </Col>\r\n      </Row>\r\n      <ReportsNewPanel\r\n        isOpen={newPanelOpen}\r\n        setOpen={setNewPanelOpen}\r\n        addReport={(report) => setReports((prev) => prev.concat(report))}\r\n      />\r\n      <ReportsDetailsPanel\r\n        id={selectionDetails.count > 0 ? selectionDetails.items[0].id : null}\r\n        isOpen={detailsPanelOpen}\r\n        setOpen={setDetailsPanelOpen}\r\n      />\r\n      <ReportsEditPanel\r\n        id={selectionDetails.count > 0 ? selectionDetails.items[0].id : null}\r\n        isOpen={editPanelOpen}\r\n        setOpen={setEditPanelOpen}\r\n        setReport={\r\n          (report) => setReports((prev) => prev.map((r) => (r.id === report.id ? report : r)))\r\n        }\r\n      />\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default ReportsList;\r\n","import ReportsPage from './ReportsPage';\r\n\r\nexport default ReportsPage;\r\n","import React from 'react';\r\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\r\nimport Reports from '../../components/reports';\r\n\r\nconst ReportsPage = () => {\r\n  const { path } = useRouteMatch();\r\n  return (\r\n    <>\r\n      <Switch>\r\n        <Route exact path={path}>\r\n          <Reports />\r\n        </Route>\r\n        <Route exact path={`${path}/new`}>\r\n          <h1>Report</h1>\r\n        </Route>\r\n        <Route exact path={`${path}/:id`}>\r\n          <h1>Report</h1>\r\n        </Route>\r\n      </Switch>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ReportsPage;\r\n","const { default: ReportTemplates } = require('./ReportTemplates');\r\n\r\nexport default ReportTemplates;\r\n","import ReportTemplatesPage from './ReportTemplatesPage';\r\n\r\nexport default ReportTemplatesPage;\r\n","import React from 'react';\r\nimport { useRouteMatch, Switch, Route } from 'react-router-dom';\r\nimport ReportTemplates from '../../components/report-templates';\r\n\r\nconst ReportTemplatesPage = () => {\r\n  const { path } = useRouteMatch();\r\n  return (\r\n    <Switch>\r\n      <Route exact path={path}>\r\n        <ReportTemplates />\r\n      </Route>\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default ReportTemplatesPage;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Container, Row, Col } from 'react-grid-system';\r\nimport {\r\n  PrimaryButton, Separator, Dropdown, makeStyles, DatePicker,\r\n} from '@fluentui/react';\r\nimport { downloadBlob } from 'download.js';\r\nimport PageHeader from '../shared/page-header';\r\nimport AppraisalService from '../../services/AppraisalService';\r\nimport NotificationService from '../../services/NotificationService';\r\nimport ReportingService from '../../services/ReportingService';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    '& > * + *': {\r\n      marginTop: theme.spacing.m,\r\n    },\r\n  },\r\n}));\r\n\r\nconst AppraisalReport = () => {\r\n  const classes = useStyles();\r\n  const [periods, setPeriods] = useState([]);\r\n  const [dateFrom, setDateFrom] = useState(null);\r\n  const [dateTo, setDateTo] = useState(null);\r\n  const [selectedPeriods, setSelectedPeriods] = useState([]);\r\n\r\n  const handlePeriodsChange = (evt, selection) => {\r\n    if (selection) {\r\n      if (selection.selected) {\r\n        setSelectedPeriods((prev) => prev.concat(selection.key));\r\n      } else {\r\n        setSelectedPeriods((prev) => prev.filter((p) => p !== selection.key));\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleChangeDate = (setFunc) => (dt) => {\r\n    setFunc(new Date(Date.UTC(dt.getFullYear(), dt.getMonth(), dt.getDate())));\r\n  };\r\n\r\n  const handleGenerate = async () => {\r\n    if (dateFrom && dateTo && (dateTo < dateFrom)) {\r\n      return NotificationService.notifySevereWarning(\"'Date to' should be bigger than 'Date from'\");\r\n    }\r\n    // if any of the fields are set, generate the report\r\n    if (dateFrom || dateTo || selectedPeriods.length) {\r\n      const report = await ReportingService.generateAppraisalReport({\r\n        dateFrom,\r\n        dateTo,\r\n        periods: selectedPeriods,\r\n      });\r\n      if (report) {\r\n        return downloadBlob('appraisal.xlsx', report);\r\n      }\r\n      return null;\r\n    }\r\n    // otherwise, notify user\r\n    return NotificationService.notifySevereWarning('At least one field should be set');\r\n  };\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    async function run() {\r\n      const result = await AppraisalService.getPeriods();\r\n      if (result && mounted) {\r\n        setPeriods(result.map((r) => ({\r\n          key: r.id,\r\n          text: r.name,\r\n          data: r,\r\n        })));\r\n      }\r\n    }\r\n    run();\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <Container fluid className={classes.root}>\r\n      <PageHeader text=\"Appraisal Report\" />\r\n      <Separator />\r\n      {/* Select periods */}\r\n      <Row align=\"center\" justify=\"center\">\r\n        <Col md={8} sm={12}>\r\n          <Dropdown\r\n            placeholder=\"Select periods\"\r\n            label=\"Select one or multiple periods\"\r\n            multiSelect\r\n            options={periods}\r\n            onChange={handlePeriodsChange}\r\n            selectedKeys={selectedPeriods}\r\n          />\r\n        </Col>\r\n      </Row>\r\n      {/* Select Date range */}\r\n      <Row align=\"center\" justify=\"center\">\r\n        <Col md={4} sm={12}>\r\n          <Row justify=\"center\">\r\n            <DatePicker\r\n              placeholder=\"Select date from...\"\r\n              aria-label=\"Select date from\"\r\n              value={dateFrom}\r\n              label=\"Date from\"\r\n              onSelectDate={handleChangeDate(setDateFrom)}\r\n            />\r\n          </Row>\r\n        </Col>\r\n        <Col md={4} sm={12}>\r\n          <Row justify=\"center\">\r\n            <DatePicker\r\n              placeholder=\"Select date to...\"\r\n              aria-label=\"Select date to\"\r\n              value={dateTo}\r\n              label=\"Date to\"\r\n              onSelectDate={handleChangeDate(setDateTo)}\r\n            />\r\n          </Row>\r\n        </Col>\r\n      </Row>\r\n      {/* Generate button */}\r\n      <Row align=\"center\" justify=\"center\">\r\n        <Col md={4} sm={12}>\r\n          <Row justify=\"center\">\r\n            <PrimaryButton\r\n              text=\"Generate\"\r\n              type=\"submit\"\r\n              onClick={handleGenerate}\r\n            />\r\n          </Row>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default AppraisalReport;\r\n","import ReportingPage from './ReportingPage';\r\n\r\nexport default ReportingPage;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useRouteMatch, Switch, Route } from 'react-router-dom';\r\nimport DocumentTitle from 'react-document-title';\r\nimport { Container } from 'react-grid-system';\r\nimport ReportsPage from '../reporting-reports';\r\nimport ReportingTemplatesPage from '../reporting-templates';\r\nimport AuthorizationRedirectComponent from '../../components/shared/authorization-redirect-component';\r\nimport AppraisalReport from '../../components/appraisal-report/AppraisalReport';\r\n\r\nconst ReportingPage = () => {\r\n  const { path } = useRouteMatch();\r\n  return (\r\n    <Container lg>\r\n      <Switch>\r\n        <Route path={`${path}/reports`}>\r\n          <AuthorizationRedirectComponent\r\n            code=\"REPORTS\"\r\n            grant=\"read\"\r\n            to=\"/\"\r\n            failureNotification={{\r\n              header: 'No Access',\r\n              content: 'No permission to access this page. Please contact your administrator.',\r\n            }}\r\n          >\r\n            <ReportsPage />\r\n          </AuthorizationRedirectComponent>\r\n        </Route>\r\n        <Route path={`${path}/templates`}>\r\n          <AuthorizationRedirectComponent\r\n            code=\"REPORT-TEMPLATES\"\r\n            grant=\"read\"\r\n            to=\"/\"\r\n            failureNotification={{\r\n              header: 'No Access',\r\n              content: 'No permission to access this page. Please contact your administrator.',\r\n            }}\r\n          >\r\n            <DocumentTitle title=\"Reporting Templates\">\r\n              <ReportingTemplatesPage />\r\n            </DocumentTitle>\r\n          </AuthorizationRedirectComponent>\r\n        </Route>\r\n        <Route path={`${path}/appraisal-report`}>\r\n          <AuthorizationRedirectComponent\r\n            code=\"REPORTS\"\r\n            grant=\"read\"\r\n            to=\"/\"\r\n            failureNotification={{\r\n              header: 'No Access',\r\n              content: 'No permission to access this page. Please contact your administrator.',\r\n            }}\r\n          >\r\n            <DocumentTitle title=\"Appraisal Report\">\r\n              <AppraisalReport />\r\n            </DocumentTitle>\r\n          </AuthorizationRedirectComponent>\r\n        </Route>\r\n      </Switch>\r\n    </Container>\r\n  );\r\n};\r\n\r\nReportingPage.propTypes = {\r\n  ctx: PropTypes.shape({\r\n    user: PropTypes.shape({\r\n      username: PropTypes.string,\r\n    }),\r\n  }).isRequired,\r\n};\r\n\r\nexport default ReportingPage;\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"rect\", {\n  width: 750,\n  height: 750,\n  fill: \"none\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  id: \"cat_bg\",\n  d: \"M515.544 157.768C509.591 141.875 503.381 125.294 461.334 136.509C438.757 142.532 419.831 163.809 404.36 195.408C392.72 220.537 382.885 253.033 375.039 291.995C359.008 371.61 352.254 474.596 355.411 574.726L348.415 574.947L348.323 571.927C346.187 499.623 349.185 425.969 357.094 360.668C323.445 325.695 285.092 298.13 257.144 288.975C190.914 274.371 173.417 312.953 173.851 347.37C173.93 353.663 176.13 358.897 178.345 364.17C180.636 369.623 182.944 375.116 182.944 381.865C182.944 386.341 172.935 395.586 159.924 407.605C134.344 431.232 97.1624 465.577 101.625 495.466C105.749 523.087 131.903 544.06 155.976 555.336C158.333 556.44 160.9 558.491 163.989 560.958C166.185 562.714 168.646 564.68 171.482 566.666L171.7 566.817C173.928 568.352 177.605 570.517 182.732 573.312L184.313 574.17C256.838 613.294 341.009 586.936 367.238 577.207L368.77 576.633L554.767 574.562L554.743 574.417C554.692 574.114 554.609 573.664 554.502 573.082C552.753 563.607 544.542 519.099 562.027 501.163C616.632 445.15 676.509 284.851 595.099 217.679C577.108 202.835 559.256 193.811 545.546 186.88C537.219 182.671 530.42 179.234 526.045 175.734C520.658 171.425 518.125 164.661 515.544 157.768Z\",\n  fill: \"#64FCD9\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M186.151 337.183C182.052 336.471 189.296 344.599 189.296 344.599C189.296 344.599 190.25 337.896 186.151 337.183Z\",\n  fill: \"white\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M247.46 575.187C247.46 575.187 203.432 556.766 203.432 531.119C203.432 523.595 208.138 524.317 217.551 533.286C218.575 534.262 220.042 535.759 221.951 537.779C223.121 539.016 196.697 506.93 210.011 500.928C222.99 495.077 226.009 525.451 226.687 525.032C227.442 524.566 227.221 515.376 230.225 511.313C231.843 509.124 236.602 508.656 240.203 511.313C259.119 525.27 247.46 575.187 247.46 575.187Z\",\n  fill: \"white\"\n});\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M228.535 387.042C228.535 387.042 210.221 386.102 207.725 380.279C205.228 374.455 218.809 377.765 218.809 377.765L228.535 387.042Z\",\n  fill: \"white\"\n});\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M197.562 359.435C193.462 357.141 195.794 351.67 197.562 351.443C202.797 350.769 206.927 362.369 207.504 363.53C208.503 365.542 199.642 360.599 197.562 359.435Z\",\n  fill: \"white\"\n});\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M239.724 394.598C239.724 394.598 229.696 369.033 238.979 371.048C248.262 373.062 245.591 402.782 245.591 402.782L239.724 394.598Z\",\n  fill: \"white\"\n});\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M232.992 375.977C233.123 380.123 234.894 386.484 238.296 395.158C238.343 395.276 238.404 395.388 238.478 395.492L244.346 403.675C245.174 404.83 246.991 404.335 247.119 402.919L247.225 401.695C248.874 381.879 246.493 371.109 239.304 369.549C235.122 368.642 232.839 371.143 232.992 375.977ZM238.809 372.583C243.275 373.728 245.352 382.015 244.444 397.569L244.387 398.472L241.08 393.859L240.502 392.358C237.645 384.85 236.166 379.331 236.056 375.88L236.048 375.398C236.041 372.783 236.759 372.135 238.654 372.546L238.809 372.583Z\",\n  fill: \"#00160A\"\n});\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M204.313 499.378C197.853 502.29 198.301 509.636 203.231 519.642L203.61 520.399C204.512 522.172 205.541 524.004 206.68 525.883L207.072 526.524L207.023 526.492C205.179 525.265 203.588 524.547 202.22 524.337C198.585 523.779 196.732 526.457 196.732 531.119C196.732 549.068 211.889 564.239 241.804 576.755C242.774 577.161 243.876 576.597 244.115 575.573C252.027 541.699 249.537 519.776 236.212 509.945C232.124 506.928 226.213 507.116 223.858 510.302L223.653 510.59C222.652 512.062 221.954 513.999 221.436 516.408L221.413 516.515L221.346 516.25C220.978 514.808 220.589 513.448 220.148 512.085C218.688 507.568 216.942 504.02 214.751 501.646C211.868 498.521 208.284 497.588 204.313 499.378ZM218.945 520.918L219.692 524.437L219.778 524.803C219.833 525.024 219.883 525.202 219.934 525.353C220.002 525.556 220.073 525.724 220.186 525.903C220.327 526.124 220.501 526.319 220.778 526.486C221.317 526.812 222.01 526.831 222.581 526.478C223.316 526.024 223.496 525.634 223.697 524.348L223.791 523.706C223.857 523.231 224.1 521.213 224.142 520.893C224.305 519.618 224.468 518.565 224.669 517.563C225.139 515.21 225.773 513.431 226.592 512.323C227.712 510.807 231.492 510.687 234.193 512.68L234.547 512.947C245.785 521.603 248.218 541.209 241.465 571.891L241.256 572.828L240.564 572.528C213.488 560.719 200.132 546.878 200.132 531.119C200.132 528.256 200.632 527.533 201.704 527.698C203.601 527.989 206.915 530.264 211.378 534.517L211.949 535.07C212.629 535.739 213.465 536.59 214.454 537.622L215.772 539.005C215.795 539.027 215.829 539.057 215.896 539.118L215.918 539.17C215.97 539.255 216.137 539.286 217.252 539.493L217.64 539.356C218.1 539.182 218.173 539.067 218.564 538.453L218.653 538.08C218.707 537.835 218.699 537.777 218.67 537.565L218.596 537.264C218.58 537.205 218.567 537.174 218.547 537.131L218.53 537.095C218.484 536.996 218.458 536.945 218.415 536.88L217.952 536.257L216.774 534.698C216.572 534.427 216.368 534.151 216.142 533.845C214.204 531.214 212.325 528.498 210.559 525.693C208.904 523.066 207.46 520.533 206.281 518.14C202.121 509.697 201.789 504.245 205.71 502.478C210.428 500.351 214.051 504.277 216.913 513.131C217.691 515.537 218.307 517.961 218.945 520.918Z\",\n  fill: \"#00160A\"\n});\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M209.585 364.468L210.982 365.739C228.298 381.546 240.354 394.158 246.781 402.91C257.998 418.186 267.038 434.031 274.656 450.809C277.363 456.771 279.814 462.675 282.229 468.943L282.887 470.662C283.64 472.642 284.368 474.597 285.161 476.764L288.542 486.09C297.684 511.123 294.658 512.343 285.954 487.994L282.535 478.552C281.819 476.59 281.163 474.818 280.504 473.068L280.008 471.757C277.399 464.9 274.775 458.524 271.85 452.082C264.316 435.489 255.381 419.828 244.297 404.734L243.789 404.05C237.205 395.282 224.981 382.608 207.514 366.748C206.884 366.177 206.837 365.202 207.409 364.572C207.981 363.943 208.955 363.896 209.585 364.468ZM169.054 329.552L190.618 347.959C192.64 349.693 194.216 351.052 194.968 351.715C195.606 352.277 195.667 353.251 195.105 353.889C194.542 354.527 193.569 354.588 192.93 354.026L187.318 349.188C179.866 342.804 168.1 332.791 167.05 331.893C166.404 331.339 166.329 330.367 166.882 329.721C167.435 329.074 168.408 328.999 169.054 329.552Z\",\n  fill: \"#00160A\"\n});\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M208.908 375.243C206.077 375.885 205.124 378.102 206.316 380.883C208.304 385.521 215.676 387.917 228.457 388.573C229.877 388.646 230.623 386.914 229.594 385.933L219.868 376.655C219.673 376.47 219.433 376.339 219.172 376.275C214.429 375.119 211.053 374.757 208.908 375.243ZM218.048 379.158L224.39 385.206L224.009 385.17L223.051 385.069C214.887 384.155 210.243 382.261 209.134 379.674L209.018 379.397C208.679 378.546 208.802 378.412 209.587 378.234C211.034 377.905 213.742 378.164 217.602 379.054L218.048 379.158Z\",\n  fill: \"#00160A\"\n});\n\nvar _ref13 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M199.906 584.188C196.045 586.411 197.618 588.726 205.944 592.421C214.929 596.461 231.65 604.261 260.371 606.458C304.855 609.861 345.359 603.44 396.49 603.44C467.278 603.44 498.35 618.994 523.126 615.407C589.542 605.791 604.588 587.129 584.774 582.314C563.021 577.027 493.88 577.673 470.605 576.153L463.402 575.691L457.215 575.536C390.222 573.89 282.837 575.536 261.865 575.536C219.081 575.536 199.906 584.188 199.906 584.188Z\",\n  fill: \"white\"\n});\n\nvar _ref14 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M396.49 603.44C467.278 603.44 498.351 619.531 523.126 615.944C589.542 606.328 604.588 587.129 584.775 582.314C563.021 577.027 484 575.31 464.542 575.731C464.542 575.731 553.995 592.26 549.208 597.734C534.956 614.034 499.466 594.338 435.01 594.912C421.731 595.03 396.49 603.44 396.49 603.44Z\",\n  fill: \"#E7EAEE\"\n});\n\nvar _ref15 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M266.111 576.234C264.388 576.244 263.004 576.248 261.865 576.248L259.912 576.253C232.098 576.383 211.811 579.307 198.965 585.103L198.764 585.206C195.764 586.934 194.614 589.478 196.5 592.091C197.719 593.781 200.271 595.376 204.58 597.317L208.242 598.953C212.812 600.978 215.522 602.074 219.591 603.505L220.033 603.66C231.77 607.761 244.796 610.56 260.196 611.739C271.139 612.576 282.29 612.863 294.515 612.693L298.794 612.618C306.832 612.453 313.679 612.171 326.188 611.499L347.81 610.302C368.414 609.187 380.984 608.741 395.824 608.728L396.49 608.728C423.05 608.728 444.746 610.749 468.811 614.689L470.899 615.037C474.525 615.667 494.469 619.181 499.975 619.972L500.166 619.999C509.774 621.351 516.884 621.622 523.454 620.671L525.29 620.4C555.122 615.943 576.679 609.303 587.566 601.956C598.443 594.616 597.458 586.207 585.675 583.181L585.315 583.091C575.529 580.713 556.954 579.392 528.093 578.527L522.173 578.359C520.448 578.313 518.665 578.267 516.79 578.221L491.664 577.64C481.988 577.401 476.055 577.195 471.564 576.921L463.549 576.408L457.272 576.249L450.892 576.104C432.391 575.719 410.294 575.534 385 575.518L377.48 575.518C359.854 575.529 341.611 575.615 321.243 575.768L266.111 576.234ZM390.882 580.1C416.128 580.143 438.017 580.364 456.118 580.797L463.345 580.977L471.561 581.504C476.083 581.774 482.003 581.977 491.531 582.213L515.733 582.771C518.586 582.841 521.223 582.909 523.752 582.979L529.679 583.152C557.193 584.007 575.077 585.311 584.234 587.536L584.783 587.675C592.378 589.668 592.627 593.022 585.007 598.164C574.587 605.195 531.814 624.033 501.587 617.611L500.197 617.414C493.808 616.464 472.396 611.662 471.135 611.452L468.032 610.944C444.854 607.212 423.698 605.256 398.197 605.172L394.488 605.172C379.239 605.212 366.104 605.722 343.787 606.957L328.3 607.82C313.321 608.636 306.179 608.928 296.86 609.097L296.11 609.11C248.848 610.944 220.033 599.935 220.033 599.935C216.261 598.588 206.502 595.198 206.502 595.198L205.776 594.866C183.008 587.136 232.717 580.954 259.953 580.827L268.443 580.794L317.765 580.369C340.726 580.191 360.941 580.094 380.496 580.092L390.882 580.1Z\",\n  fill: \"#00160A\"\n});\n\nvar _ref16 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M495.913 543.221C495.913 543.221 495.793 550.001 497.881 553.139C499.968 556.277 505.789 565.006 511.203 567.302C512.871 568.01 519.238 568.1 523.064 570.335C530.749 574.826 532.46 582.914 523.064 584.628C504.409 588.03 497.881 578.197 497.881 578.197C497.881 578.197 490.195 567.302 482.493 560.078C474.791 552.853 468.654 550.678 468.654 550.678\",\n  fill: \"white\"\n});\n\nvar _ref17 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M560.293 245.085C557.697 244.89 556.17 246.864 556.17 249.253C556.17 257.525 569.684 268.837 578.491 268.837C581.072 268.837 583.184 266.991 582.434 264.169C582.151 263.105 581.501 262.161 580.434 260.998L580.199 260.745C579 259.472 577.761 258.335 574.981 255.943L570.723 252.294C569.679 251.39 568.017 249.948 567.515 249.519L566.911 249.005C565.747 248.024 564.847 247.309 564.044 246.741C562.623 245.737 561.523 245.177 560.293 245.085Z\",\n  fill: \"white\"\n});\n\nvar _ref18 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M473.962 407.267C473.962 407.267 468.845 392.663 455.695 388.709C451.516 387.452 469.795 415.038 453.662 425.328C448.626 428.54 439.672 430.207 428.654 431.775C379.54 438.767 364.732 420.44 334.414 411.49C322.257 407.902 263.125 392.027 254.184 472.892C248.588 523.507 290.974 539.194 328.96 547.236C405.056 563.348 521.659 556.998 558.025 503.895C601.373 440.596 534.749 385.472 525.362 379.645C523.088 378.234 529.607 396.324 530.331 405.473C531.055 414.623 525.362 417.95 525.362 417.95C525.362 417.95 523.118 408.263 503.278 406.601C483.439 404.939 473.962 407.267 473.962 407.267Z\",\n  fill: \"white\"\n});\n\nvar _ref19 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M182.065 339.878C182.76 341.518 184.378 343.689 187.007 346.64C188.743 348.588 191.965 347.615 192.332 345.031C193.172 339.129 191.415 334.986 186.676 334.162C182.967 333.518 180.572 336.358 182.065 339.878ZM189.296 344.599L188.826 344.067C184.401 339.019 183.51 336.724 186.151 337.183C188.884 337.658 189.932 340.13 189.296 344.599Z\",\n  fill: \"#00160A\"\n});\n\nvar _ref20 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M197.366 349.922C195.642 350.144 194.237 352.167 193.85 354.402C193.405 356.973 194.361 359.401 196.813 360.773L198.504 361.71C200.134 362.604 201.599 363.371 203.024 364.056L203.685 364.368C204.746 364.858 205.605 365.202 206.258 365.381C206.927 365.565 207.434 365.617 207.975 365.42C209.132 364.997 209.335 363.904 208.935 362.974L208.809 362.692C208.649 362.317 208.254 361.376 208.027 360.851L207.978 360.737C207.359 359.322 206.728 358.017 206.033 356.772C203.46 352.162 200.693 349.494 197.366 349.922ZM203.672 358.846C204.088 359.628 204.486 360.445 204.876 361.309L205.005 361.599L204.627 361.423L204.352 361.292C202.527 360.415 200.598 359.377 198.311 358.097C197.075 357.406 196.636 356.289 196.872 354.926C196.974 354.332 197.207 353.759 197.499 353.339C197.588 353.211 197.676 353.107 197.755 353.031L197.841 352.956L197.758 352.963C199.353 352.758 201.363 354.696 203.356 358.266L203.672 358.846Z\",\n  fill: \"#00160A\"\n});\n\nvar _ref21 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M223.587 376.364C223.314 375.177 208.041 347.343 218.766 348.217C229.49 349.092 226.937 380.638 226.563 380.638C226.124 380.638 223.783 377.217 223.587 376.364Z\",\n  fill: \"white\"\n});\n\nvar _ref22 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M213.419 352.363C213.419 355.026 214.308 358.552 215.901 362.835C216.38 364.121 216.916 365.457 217.505 366.844L217.865 367.681C219.28 370.943 222.117 376.815 222.093 376.708C222.245 377.371 222.882 378.477 223.723 379.693L224.031 380.136C225.059 381.595 225.57 382.123 226.437 382.168L226.803 382.178C227.843 382.232 227.842 382.59 228.082 381.077L228.169 380.523C228.205 380.297 228.242 380.001 228.279 379.648L228.301 379.43C228.398 378.447 228.484 377.163 228.542 375.76C228.694 372.133 228.651 368.251 228.354 364.63L228.273 363.711C227.315 353.558 224.529 347.149 218.89 346.689C215.287 346.395 213.418 348.65 213.419 352.363ZM218.641 349.745C222.234 350.038 224.543 355.67 225.298 364.881C225.584 368.366 225.626 372.124 225.479 375.631L225.428 376.674L225.373 376.581C225.225 376.327 225.123 376.134 225.091 376.05L225.081 376.021C225.015 375.734 221.939 369.367 220.678 366.461C219.966 364.82 219.329 363.254 218.775 361.766C217.299 357.799 216.486 354.57 216.485 352.363C216.485 350.353 217 349.662 218.479 349.735L218.641 349.745Z\",\n  fill: \"#00160A\"\n});\n\nvar _ref23 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M265.735 432.91C265.735 432.91 269.094 428.243 270.982 425.925C272.87 423.607 274.895 421.667 274.895 421.667C274.895 421.667 229.287 417.128 213.489 405.369C192.859 390.014 174.354 364.546 155.714 359.159C133.43 352.72 125.183 367.656 118.756 368.874C99.1757 372.584 63.3151 383.141 79.7128 415.028C84.7752 424.872 101.175 429.45 112.728 423.962C125.624 417.836 141.505 402.83 158.208 402.83C177.523 402.83 180.886 418.653 205.405 427.042C220.453 432.191 265.735 432.91 265.735 432.91Z\",\n  fill: \"white\"\n});\n\nvar _ref24 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M320.041 545.745C320.041 545.745 331.175 557.899 335.789 565.718C340.402 573.538 338.786 577.778 345.191 581.392C354.813 586.822 364.731 585.452 369.144 582.565C373.557 579.678 369.417 572.288 360.166 572.288C357.891 572.288 355.214 567.063 353.919 563.607C352.623 560.15 353.216 551.643 353.216 551.643L320.041 545.745Z\",\n  fill: \"white\"\n});\n\nvar _ref25 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M527.427 382.705C527.427 382.705 599.974 471.686 497.953 523.916C426.602 560.445 309.376 540.723 309.376 540.723C309.376 540.723 436.99 575.03 520.398 533.669C573.618 507.277 584.145 462.417 558.755 416.742C552.111 404.79 527.427 382.705 527.427 382.705Z\",\n  fill: \"#E7EAEE\"\n});\n\nvar _ref26 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M523.166 378.268C524.08 377.057 525.505 377.042 526.568 377.702C529.993 379.828 536.189 384.973 542.149 391.009C550.421 399.386 557.807 408.879 563.47 419.11C578.976 447.124 577.591 476.452 557.912 505.188C540.517 530.588 506.486 545.918 458.717 552.785C416.935 558.791 368.566 557.96 328.486 549.474L326.476 549.042C303.539 544.035 286.629 537.674 273.835 527.843C257.055 514.948 249.228 496.905 251.911 472.64C255.972 435.911 270.493 415.498 292.383 408.347C300.52 405.688 309.236 405.035 318.231 405.922C324.399 406.531 329.578 407.678 335.061 409.297L336.036 409.588C341.993 411.395 347.062 413.389 354.881 416.853L360.661 419.442C372.638 424.811 379.569 427.357 388.541 429.166C399.831 431.443 412.262 431.711 427.345 429.649L429.582 429.331C441.893 427.536 448.501 425.907 452.432 423.4C457.033 420.465 458.675 415.708 458.017 409.122C457.718 406.126 456.974 402.965 455.8 399.281L455.476 398.287C454.969 396.782 453.488 392.552 453.215 391.633C452.878 390.495 452.723 389.702 452.778 388.964C452.917 387.114 454.539 385.972 456.353 386.518C465.946 389.403 472.835 397.781 477.066 411.363C477.442 412.57 476.769 413.852 475.563 414.228C474.357 414.603 473.074 413.93 472.699 412.724C469.478 402.385 464.774 395.659 458.615 392.374L458.21 392.165L459.876 397.021L459.922 397.161C464.15 415.192 461.009 429.331 432.569 433.7C431.004 433.94 399.555 436.646 386.498 433.415C366.716 428.52 338.642 410.252 321.812 409.588C304.981 408.924 301.281 410.252 293.803 412.695C273.739 419.25 257.052 440.48 253.684 475.543C251.906 494.058 261.907 512.818 278.306 524.375C320.041 553.785 416.824 555.186 458.066 549.257C504.692 542.554 539.618 526.725 556.137 502.603C574.763 475.405 574.186 447.917 559.468 421.326C554.022 411.488 546.89 402.321 538.894 394.223C535.252 390.535 531.528 387.201 528.505 384.77L527.996 384.364L528.438 386.107L529.854 391.55L530.372 393.589C530.452 393.911 530.53 394.225 530.605 394.535L530.875 395.654C531.832 399.675 532.414 402.796 532.611 405.293C533.158 412.195 531.159 417.211 526.516 419.925C525.425 420.562 524.024 420.195 523.387 419.104C522.749 418.013 523.117 416.612 524.208 415.975C527.155 414.253 528.47 410.951 528.051 405.654C527.875 403.439 527.327 400.506 526.418 396.686L526.162 395.622C526.05 395.167 525.935 394.701 525.812 394.215L523.819 386.512C523.522 385.346 523.299 384.429 523.121 383.63L523.068 383.394C522.764 382.007 522.605 381.013 522.596 380.265C522.587 379.5 522.696 378.89 523.166 378.268Z\",\n  fill: \"#00160A\"\n});\n\nvar _ref27 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M473.779 404.746L475.414 404.471C486.204 402.691 494.912 402.048 501.567 402.552C508.588 403.083 516.031 404.981 523.895 408.236C524.933 408.665 525.426 409.855 524.996 410.892C524.567 411.93 523.378 412.423 522.34 411.993C514.856 408.896 507.829 407.104 501.26 406.606C494.658 406.106 485.717 406.818 474.469 408.754C473.363 408.944 472.311 408.202 472.121 407.095C471.93 405.988 472.673 404.937 473.779 404.746Z\",\n  fill: \"#00160A\"\n});\n\nvar _ref28 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M486.784 395.624C491.654 394.623 496.102 395.141 500.071 397.19C503.87 399.153 507.161 401.621 509.938 404.593C510.519 405.215 510.486 406.19 509.864 406.771C509.243 407.352 508.268 407.318 507.687 406.697C505.154 403.986 502.147 401.73 498.657 399.928C495.336 398.213 491.605 397.779 487.404 398.641C486.571 398.813 485.756 398.276 485.585 397.442C485.414 396.609 485.951 395.795 486.784 395.624Z\",\n  fill: \"#00160A\"\n});\n\nvar _ref29 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M496.631 387.556C497.068 386.826 498.014 386.588 498.744 387.025C502.65 389.361 505.884 391.975 508.439 394.87C511.019 397.793 513.137 401.53 514.804 406.07C515.097 406.869 514.687 407.754 513.888 408.047C513.089 408.34 512.204 407.93 511.911 407.132C510.37 402.932 508.44 399.527 506.129 396.909C503.794 394.263 500.807 391.849 497.163 389.669C496.432 389.232 496.195 388.287 496.631 387.556Z\",\n  fill: \"#00160A\"\n});\n\nvar _ref30 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M451.997 424.162C452.641 423.242 453.909 423.019 454.828 423.663C455.748 424.307 436.118 452.263 436.118 457.687C436.118 463.569 439.007 467.505 446.704 473.714L449.965 476.307L450.914 477.068C455.684 480.922 458.463 483.626 460.825 487.06C464.126 491.858 465.68 497.216 465.284 503.57C464.796 511.407 462.431 516.823 457.746 523.073L457.321 523.632C456.795 524.312 454.476 527.274 453.841 528.142C451.574 531.237 450.507 533.568 450.313 536.304C449.458 548.361 455.131 562.921 467.452 579.928C468.11 580.838 467.907 582.109 466.998 582.768C466.089 583.426 464.817 583.223 464.159 582.314C451.329 564.604 445.322 549.189 446.257 536.016C446.505 532.523 447.778 529.627 450.256 526.158L450.56 525.739C451.289 524.743 453.949 521.349 454.173 521.055C458.637 515.2 465.089 506.633 459.923 490.331C457.321 482.123 432.622 476.307 431.81 458.836C431.619 454.72 438.481 443.455 451.997 424.162Z\",\n  fill: \"#00160A\"\n});\n\nvar _ref31 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M459.472 508.689L456.635 508.72C439.838 508.935 429.621 509.781 426.465 511.135L426.35 511.186C421.709 513.314 418.059 516.2 415.268 519.659C413.101 522.345 411.57 525.224 410.569 528.099C410.271 528.955 410.039 529.756 409.867 530.485L409.75 531.002L414.608 537.228C414.657 537.29 414.701 537.354 414.741 537.42L414.789 537.487L414.942 537.711C415.991 539.233 417.183 540.721 418.716 542.456L419.422 543.242C420.681 544.616 424.688 548.935 426.049 550.49C428.962 553.816 431.415 557.015 433.764 560.689C437.345 566.289 440.504 572.756 443.34 580.587L443.544 581.159L443.747 581.747C443.995 582.472 444.237 583.217 444.501 584.057L445.698 587.983C447.465 593.771 448.7 596.429 450.658 598.039L450.987 598.302C453.553 600.301 455.944 600.794 462.593 601.005L464.536 601.059C473.374 601.301 477.984 594.282 472.927 589.182C471.341 587.583 466.11 586.343 457.555 585.824C456.434 585.756 457.486 582.868 457.555 581.747C457.623 580.626 458.586 579.773 459.707 579.841C460.698 579.901 461.65 579.97 462.563 580.048C451.232 563.626 445.701 549.631 446.58 537.228C446.828 533.734 446.453 532.367 448.932 528.898L449.405 528.249C450.308 527.044 452.64 524.069 452.849 523.795C454.757 521.292 456.086 519.241 457.153 517.003L457.362 516.553L457.433 516.391L457.551 516.13C458.112 514.846 458.706 512.634 459.311 509.534L459.472 508.689Z\",\n  fill: \"white\"\n});\n\nvar _ref32 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M411.72 528.643C413.322 533.317 416.117 536.169 420.008 540.584L420.555 541.198C421.527 542.267 425.933 547.01 427.374 548.656C430.287 551.982 432.74 555.181 435.089 558.855C438.67 564.455 441.829 570.922 444.664 578.753C444.801 579.13 444.936 579.516 445.072 579.913L445.443 581.025C445.526 581.279 445.61 581.54 445.695 581.81L446.18 583.371C446.428 584.183 446.93 585.845 447.023 586.149L447.29 587.015C448.919 592.207 450.126 594.678 451.983 596.205L452.312 596.468C454.769 598.382 457.065 598.915 463.092 599.142L465.861 599.225C474.699 599.467 479.309 592.449 474.251 587.349C472.665 585.749 467.435 584.509 458.879 583.99C457.758 583.922 456.905 582.958 456.973 581.837C457.041 580.716 458.005 579.863 459.126 579.931L460.193 580C469.127 580.619 474.681 582.007 477.139 584.485C485.055 592.469 478.006 603.4 466.111 603.297L464.68 603.261C456.188 603.032 453.143 602.424 449.4 599.346C446.73 597.15 445.28 594.199 443.416 588.251L442.209 584.291L441.822 583.047C441.656 582.526 441.499 582.043 441.342 581.575L441.224 581.228C441.096 580.853 440.969 580.491 440.841 580.138C438.106 572.585 435.08 566.388 431.663 561.046C429.604 557.825 427.459 554.987 424.95 552.067L424.315 551.335C422.847 549.659 418.065 544.516 417.4 543.772C413.064 538.925 410.473 535.01 408.624 529.85L408.436 529.312C404.84 518.821 400.223 515.241 394.192 517.477C393.139 517.868 381.355 523.52 392.768 515.932C404.18 508.343 411.72 528.643 411.72 528.643Z\",\n  fill: \"#00160A\"\n});\n\nvar _ref33 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M482.672 456.41C480.456 456.41 477.277 450.047 477.277 446.937C477.277 443.828 485.232 444.88 485.232 444.88C485.232 444.88 493.587 446 492.435 449.127C491.284 452.255 483.903 456.41 482.672 456.41Z\",\n  fill: \"#FFB61D\"\n});\n\nvar _ref34 = /*#__PURE__*/React.createElement(\"ellipse\", {\n  cx: 469.575,\n  cy: 433.517,\n  rx: 4.38775,\n  ry: 8.1971,\n  fill: \"#00160A\"\n});\n\nvar _ref35 = /*#__PURE__*/React.createElement(\"ellipse\", {\n  cx: 511.538,\n  cy: 435.371,\n  rx: 4.80869,\n  ry: 8.0687,\n  fill: \"#00160A\"\n});\n\nvar _ref36 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M508.4 448.917C512.063 447.344 516.116 447.046 520.517 448.007C524.821 448.947 537.786 457.062 537.333 457.781C536.88 458.501 523.751 451.867 519.86 451.017C516.065 450.189 512.665 450.438 509.616 451.748C508.834 452.084 507.928 451.722 507.592 450.941C507.256 450.159 507.618 449.253 508.4 448.917Z\",\n  fill: \"#00160A\"\n});\n\nvar _ref37 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M510.733 454.242C514.578 454.445 515.58 453.568 520.847 456.987C526.114 460.406 530.05 468.458 529.329 468.911C528.609 469.363 524.406 462.182 519.582 458.566C514.758 454.95 509.069 456.548 509.114 455.699C509.156 454.896 509.805 454.27 510.593 454.241L510.733 454.242Z\",\n  fill: \"#00160A\"\n});\n\nvar _ref38 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M484.032 459.748C482.963 466.387 483.232 470.614 483.632 475.329C484.032 480.045 487.802 486.835 488.18 489.673C488.558 492.511 481.049 480.808 480.595 475.846C480.14 470.885 476.922 457.399 482.544 458.026C482.544 458.026 484.151 459.01 484.032 459.748Z\",\n  fill: \"#00160A\"\n});\n\nvar _ref39 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M456.051 449.729C459.465 449.729 460.849 449.813 464.173 450.468C465.008 450.632 465.552 451.442 465.388 452.276C465.223 453.111 464.413 453.655 463.579 453.491C462.395 453.258 460.126 452.268 456.363 452.308C451.22 452.362 446.744 455.216 446.52 454.744C446.155 453.975 452.637 449.729 456.051 449.729Z\",\n  fill: \"#00160A\"\n});\n\nvar _ref40 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M461.635 443.115C462.463 443.31 462.976 444.14 462.781 444.968C462.586 445.796 461.756 446.309 460.928 446.113C453.531 444.369 447.597 444.416 443.411 444.252C439.294 444.091 430.059 444.736 429.788 443.93C429.518 443.123 454.063 441.329 461.635 443.115Z\",\n  fill: \"#00160A\"\n});\n\nvar _ref41 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M495.949 541.188C497.072 541.207 497.966 542.134 497.946 543.256C497.873 547.402 498.453 550.329 499.574 552.013C504.273 559.079 508.259 563.845 511.997 565.431C512.099 565.474 512.342 565.536 512.72 565.609L513.281 565.71C513.701 565.78 515.476 566.048 515.786 566.097C516.955 566.282 517.918 566.459 518.858 566.672C520.934 567.143 522.66 567.745 524.09 568.58C528.386 571.09 531.221 574.76 531.497 578.368C531.816 582.538 528.785 585.651 523.429 586.628C510.276 589.027 501.069 586.676 496.219 579.369C491.171 572.213 486.13 566.277 481.102 561.561C476.155 556.92 471.762 553.937 467.974 552.594C466.916 552.219 466.362 551.057 466.738 549.998C467.113 548.94 468.275 548.386 469.333 548.761C473.728 550.319 478.562 553.603 483.884 558.595C489.126 563.512 494.343 569.655 499.575 577.072C503.396 582.829 510.979 584.765 522.699 582.628C526.175 581.994 527.585 580.545 527.442 578.678C527.281 576.575 525.281 573.986 522.038 572.091C521.025 571.499 519.665 571.025 517.959 570.638C517.225 570.471 516.458 570.327 515.549 570.178L512.611 569.721L512.043 569.621C511.339 569.488 510.838 569.356 510.409 569.174C507.614 567.988 504.742 565.437 501.734 561.841C499.752 559.47 498.23 557.335 496.188 554.265C494.525 551.765 493.794 548.08 493.88 543.185C493.9 542.062 494.826 541.168 495.949 541.188Z\",\n  fill: \"#00160A\"\n});\n\nvar _ref42 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M512.371 578.698C512.572 578.025 513.28 577.643 513.953 577.844C516.046 578.469 517.528 579.16 518.432 579.982C519.289 580.761 520.135 581.956 521.003 583.579C521.334 584.198 521.101 584.968 520.482 585.299C519.863 585.63 519.093 585.396 518.762 584.778C518.019 583.389 517.329 582.414 516.723 581.863C516.163 581.354 514.985 580.805 513.225 580.279C512.553 580.078 512.171 579.37 512.371 578.698Z\",\n  fill: \"#00160A\"\n});\n\nvar _ref43 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M519.001 576.008C519.223 575.343 519.942 574.982 520.608 575.204C522.401 575.8 523.734 576.481 524.619 577.285C525.497 578.083 526.34 579.372 527.193 581.168C527.494 581.802 527.224 582.56 526.59 582.861C525.956 583.162 525.198 582.892 524.897 582.258C524.173 580.735 523.496 579.698 522.91 579.166C522.331 578.64 521.292 578.11 519.806 577.615C519.14 577.394 518.78 576.674 519.001 576.008Z\",\n  fill: \"#00160A\"\n});\n\nvar _ref44 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M464.6 593.52C464.821 592.854 465.541 592.494 466.206 592.716C467.999 593.312 469.332 593.993 470.217 594.797C471.095 595.595 471.938 596.884 472.791 598.68C473.092 599.314 472.822 600.072 472.188 600.373C471.554 600.674 470.796 600.404 470.495 599.77C469.771 598.247 469.094 597.21 468.508 596.678C467.93 596.152 466.891 595.622 465.404 595.127C464.738 594.906 464.378 594.186 464.6 593.52Z\",\n  fill: \"#00160A\"\n});\n\nvar _ref45 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M468.296 589.207C468.518 588.541 469.237 588.181 469.903 588.403C471.696 588.999 473.029 589.679 473.914 590.484C474.792 591.281 475.634 592.57 476.487 594.367C476.788 595.001 476.518 595.759 475.884 596.06C475.25 596.361 474.493 596.091 474.192 595.457C473.468 593.933 472.791 592.897 472.205 592.365C471.626 591.839 470.587 591.309 469.101 590.814C468.435 590.592 468.075 589.873 468.296 589.207Z\",\n  fill: \"#00160A\"\n});\n\nvar _ref46 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M318.668 544.246C319.496 543.488 333.53 559.584 336.54 564.685C337.51 566.329 338.276 567.912 338.957 569.605C339.166 570.127 339.362 570.643 339.573 571.226L340.371 573.48C341.555 576.771 343.522 578.116 346.19 579.622C354.017 584.038 363.26 583.985 368.03 580.864C370.676 579.133 367.103 574.321 360.166 574.321C356.924 574.321 354.135 569.975 352.015 564.32C351.022 561.672 350.773 557.443 351.187 551.502C351.266 550.382 352.237 549.537 353.357 549.615C354.477 549.693 355.322 550.664 355.244 551.785C354.867 557.186 355.088 560.933 355.822 562.893L356.036 563.446C357.464 567.027 359.565 570.255 360.166 570.255C365.054 570.255 369.188 572.138 371.411 575.132C373.763 578.299 373.453 582.176 370.257 584.266C364.178 588.244 353.307 588.307 344.192 583.163C340.669 581.175 339.125 579.115 337.68 575.226L336.904 573.041C336.645 572.311 336.423 571.717 336.184 571.122C335.576 569.611 334.899 568.211 334.038 566.752C331.047 561.683 325.877 555.126 318.542 547.119C317.783 546.291 317.84 545.005 318.668 544.246Z\",\n  fill: \"#00160A\"\n});\n\nvar _ref47 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M356.318 578.698C356.519 578.025 357.227 577.643 357.899 577.844C359.993 578.469 361.474 579.16 362.378 579.982C363.235 580.761 364.082 581.956 364.95 583.579C365.281 584.198 365.048 584.968 364.429 585.299C363.81 585.63 363.04 585.396 362.709 584.778C361.966 583.389 361.276 582.414 360.669 581.863C360.109 581.354 358.932 580.805 357.172 580.279C356.5 580.078 356.117 579.37 356.318 578.698Z\",\n  fill: \"#00160A\"\n});\n\nvar _ref48 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M361.1 576.625C361.321 575.959 362.041 575.599 362.706 575.82C364.499 576.417 365.832 577.097 366.717 577.901C367.595 578.699 368.438 579.988 369.291 581.785C369.592 582.419 369.322 583.177 368.688 583.478C368.054 583.779 367.296 583.509 366.995 582.875C366.271 581.351 365.594 580.315 365.008 579.782C364.43 579.257 363.391 578.726 361.904 578.232C361.238 578.01 360.878 577.291 361.1 576.625Z\",\n  fill: \"#00160A\"\n});\n\nvar _ref49 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M126.717 361.57L126.287 361.866C124.927 362.817 122.307 364.728 121.73 365.134L121.671 365.175C120.176 366.205 119.166 366.727 118.377 366.876C104.437 369.517 92.3974 372.473 84.1561 378.713C72.6325 387.438 66.4077 402.695 74.3035 418.049C79.922 428.974 101.163 431.707 113.6 425.798C115.728 424.787 117.995 423.522 120.73 421.849L121.867 421.147C122.26 420.902 122.664 420.648 123.095 420.376L126.073 418.475L129.329 416.39L130.52 415.637C142.491 408.116 150.097 404.863 158.208 404.863C164.912 404.863 169.631 406.704 175.558 411.052L176.005 411.383C177.034 412.152 183.713 417.48 185.969 419.122C191.812 423.377 197.582 426.515 204.746 428.966L205.376 429.175C215.86 432.568 235.914 434.47 265.702 434.943C266.368 434.954 266.996 434.638 267.385 434.098L268.546 432.495C270.214 430.206 271.553 428.443 272.558 427.209C273.765 425.727 275.013 424.37 276.301 423.135C277.555 421.934 276.823 419.816 275.096 419.644L273.304 419.462C244.228 416.437 224.656 411.147 214.703 403.738L213.977 403.194C208.669 399.18 203.599 394.65 195.872 387.236L185.885 377.643C181.937 373.881 180.549 372.658 177.783 370.308L177.35 369.941C170.883 364.457 165.272 360.697 159.83 358.454C158.635 357.962 157.452 357.545 156.279 357.206C144.159 353.704 135.459 355.65 126.717 361.57ZM155.15 361.113C156.178 361.41 157.22 361.777 158.28 362.214C163.103 364.201 168.208 367.582 174.125 372.541L176.441 374.509C178.99 376.701 180.755 378.341 186.629 383.986L193.595 390.687C201.485 398.24 206.652 402.815 212.275 407L212.605 407.243C222.819 414.663 241.373 419.878 268.364 423.009L270.572 423.258L270.541 423.293C270.286 423.585 270.033 423.883 269.782 424.184L269.227 424.861L268.803 425.393C267.997 426.412 267.039 427.677 265.927 429.189L264.706 430.859L262.235 430.814C234.216 430.245 215.44 428.327 206.063 425.118C199.57 422.897 194.313 420.089 189 416.295L188.362 415.835C186.197 414.259 179.544 408.952 178.438 408.126C171.651 403.056 166.062 400.797 158.208 400.797C149.103 400.797 140.963 404.274 128.378 412.18L126.444 413.407L122.296 416.066C121.065 416.851 120.092 417.465 119.147 418.049L118.096 418.691C115.703 420.141 113.705 421.247 111.855 422.125C101.312 427.134 86.0832 422.97 81.5209 414.098C74.5426 400.528 76.998 390.555 86.9699 383.005C94.5877 377.238 105.761 373.405 119.134 370.871C120.534 370.606 121.883 369.936 123.643 368.752L123.978 368.524C124.499 368.164 127.664 365.853 128.871 365.023L128.997 364.937C136.805 359.649 144.292 357.975 155.15 361.113Z\",\n  fill: \"#00160A\"\n});\n\nvar _ref50 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M642.085 416.371L641.893 416.837L641.507 417.799C636.506 430.486 632.092 449.925 628.237 476.161L628.013 477.702L628 477.627C626.507 468.829 624.622 461.993 622.328 457.096C618.342 448.589 612.664 445.378 605.953 448.43C584.176 458.337 585.476 498.621 608.538 569.413C608.844 570.355 609.722 570.992 610.713 570.992H635.749C636.421 570.992 637.059 570.697 637.494 570.184C668.758 533.309 682.758 508.518 679.336 494.898L679.225 494.466C676.11 482.748 668.321 480.238 657.215 486.534L656.82 486.76L657.373 485.486C676.642 440.849 680.178 413.364 667.158 402.652C657.599 394.788 648.877 399.991 642.085 416.371ZM664.624 404.419C676.086 413.849 672.012 444.729 650.27 492.59C649.276 494.779 674.899 477.627 674.899 496.012L674.981 496.362C677.448 507.679 664.716 530.525 636.644 564.091L634.687 566.417L610.713 568.126C610.713 568.126 578.391 461.405 607.848 452.594C616.324 450.059 622.578 462.369 625.68 495.667C625.934 498.394 629.894 498.452 630.228 495.734L630.499 493.54C634.955 457.927 640.242 432.758 646.311 418.123L646.658 417.298C652.326 404.027 658.22 399.15 664.624 404.419Z\",\n  fill: \"#00160A\"\n});\n\nvar _ref51 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M664.251 406.185C675.713 415.615 671.069 444.49 649.327 492.351C648.332 494.539 650.954 496.584 652.834 495.086L653.598 494.484C665.951 484.869 672.284 485.604 674.899 496.012L674.981 496.362C677.448 507.679 664.716 530.525 636.644 564.091L634.687 566.417H612.375L611.574 563.924C590.54 497.997 589.71 460.846 607.848 452.594C616.215 448.788 622.578 462.369 625.68 495.667C625.934 498.394 629.894 498.452 630.228 495.734L630.499 493.54C634.955 457.927 640.242 432.758 646.311 418.123L646.658 417.298C652.326 404.027 657.847 400.916 664.251 406.185Z\",\n  fill: \"white\"\n});\n\nvar _ref52 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 604.647,\n  cy: 481.759,\n  r: 8.13278,\n  fill: \"#E7EAEE\"\n});\n\nvar _ref53 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 655.477,\n  cy: 428.896,\n  r: 8.13278,\n  fill: \"#E7EAEE\"\n});\n\nvar _ref54 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 659.543,\n  cy: 507.174,\n  r: 8.13278,\n  fill: \"#E7EAEE\"\n});\n\nvar _ref55 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M228.485 576.642C214.13 576.869 164.762 580.527 163.909 578.695C162.818 576.352 216.653 573.271 228.388 573.085L232.064 573.035C242.734 572.92 228.485 576.642 228.485 576.642ZM439.654 571.883C440.917 571.85 441.968 572.847 442.001 574.11C442.034 575.372 441.038 576.423 439.775 576.457L419.342 576.961C406.625 577.253 391.885 577.556 370.103 577.985C368.84 578.01 367.796 577.006 367.771 575.743C367.747 574.48 368.75 573.436 370.013 573.411L408.583 572.625C420.293 572.372 429.7 572.146 439.654 571.883ZM492.355 570.818C493.618 570.798 494.658 571.805 494.678 573.069C494.698 574.332 493.69 575.372 492.427 575.392L487.067 575.457L470.668 575.571C467.234 575.606 464.546 575.653 461.377 575.73C460.115 575.761 459.066 574.763 459.035 573.5C459.004 572.237 460.003 571.188 461.265 571.157L465.299 571.07C467.94 571.022 470.624 570.992 474.19 570.966L487.827 570.875C489.412 570.86 490.848 570.841 492.355 570.818ZM640.594 566.417C640.594 566.417 644.701 565.709 674.684 567.953C675.943 568.048 676.888 569.145 676.794 570.405C676.699 571.665 661.873 571.028 641.604 570.993L636.03 571.002C621.147 571.068 607.321 571.471 584.374 572.415L555.411 573.639C543.052 574.145 535.678 574.391 526.712 574.603C525.449 574.633 524.401 573.633 524.371 572.37C524.341 571.107 525.341 570.059 526.604 570.03L533.804 569.841C542.369 569.594 551.171 569.249 566.776 568.583L583.324 567.88C609.197 566.81 623.585 566.417 640.594 566.417Z\",\n  fill: \"#00160A\"\n});\n\nvar _ref56 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M571.287 237.158L571.811 236.194C575.913 228.766 579.486 225.077 583.652 226.281C583.99 226.378 584.321 226.511 584.645 226.679C587.199 228.003 587.812 230.464 587.095 233.823L587.049 234.03L587.169 233.857C588.379 232.139 589.533 230.811 590.729 229.826L590.986 229.621C593.646 227.55 596.467 227.358 599.023 229.515C603.102 232.959 602.64 238.736 599.309 242.291L599.124 242.483C598.661 242.951 598.382 243.964 598.071 246.348L597.802 248.437C597.479 250.847 597.262 251.904 596.754 253.537C595.794 256.621 594.219 259.193 591.768 261.294C588.687 263.935 583.486 263.566 576.161 260.556C575.374 260.233 574.999 259.333 575.322 258.546C575.645 257.759 565.048 248.413 564.727 248.822L564.624 248.942C564.034 249.555 563.059 249.575 562.446 248.985L560.957 247.551C560.06 246.686 560.507 245.17 561.729 244.93C563.968 244.491 565.705 244.006 566.926 243.489C567.951 243.054 568.51 242.638 568.644 242.369C568.644 242.369 570.869 237.937 571.287 237.158Z\",\n  fill: \"white\"\n});\n\nvar _ref57 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M560.293 245.085C557.697 244.89 556.17 246.864 556.17 249.253C556.17 257.525 569.684 268.837 578.49 268.837C581.071 268.837 583.183 266.991 582.434 264.169C582.151 263.105 581.5 262.161 580.434 260.998L580.199 260.745C579 259.472 577.76 258.335 574.981 255.943L570.723 252.294C569.678 251.39 568.017 249.948 567.515 249.519L566.91 249.005C565.747 248.024 564.847 247.309 564.043 246.741C562.623 245.737 561.522 245.177 560.293 245.085ZM559.251 249.253C559.251 246.019 563.884 250.49 569.461 255.275L573.166 258.445C577.701 262.355 583.237 266.423 580.434 266.721C571.552 267.667 559.251 255.889 559.251 249.253Z\",\n  fill: \"#00160A\"\n});\n\nvar _ref58 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M561.005 223.407C561.641 222.843 564.821 220.623 563.179 223.538C561.537 226.454 552.042 230.152 561.537 244.896C561.898 245.456 561.458 246.582 560.666 246.893C559.874 247.204 558.98 246.814 558.669 246.022C556.269 239.908 555.158 235.482 555.371 232.604C555.596 229.555 557.51 226.505 561.005 223.407Z\",\n  fill: \"#00160A\"\n});\n\nvar _ref59 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M549.142 228.54C549.309 227.706 550.955 225.642 550.955 227.333C550.955 229.024 548.536 233.313 551.941 238.146C555.345 242.979 561.203 246.256 560.702 246.944C560.201 247.632 559.237 247.783 558.55 247.282C553.621 243.691 550.628 240.882 549.5 238.681C548.324 236.383 548.243 233.021 549.142 228.54Z\",\n  fill: \"#00160A\"\n});\n\nvar _ref60 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M571.287 237.158L571.811 236.194C575.913 228.766 579.486 225.077 583.652 226.281C583.99 226.378 584.321 226.511 584.645 226.679C587.199 228.003 587.812 230.464 587.095 233.823L587.049 234.03L587.169 233.857C588.379 232.139 589.533 230.811 590.729 229.826L590.986 229.621C593.646 227.55 596.467 227.358 599.023 229.515C603.102 232.959 602.64 238.736 599.309 242.291L599.124 242.483C598.661 242.951 598.382 243.964 598.071 246.348L597.802 248.437C597.479 250.847 597.262 251.904 596.754 253.537C595.794 256.621 594.219 259.193 591.768 261.294C588.687 263.935 583.486 263.566 576.161 260.556C575.374 260.233 574.999 259.333 575.322 258.546C575.645 257.759 586.736 264.203 590.986 259.193C595.236 254.183 595.695 243.82 596.92 240.679L597.217 240.131C599.567 237.755 599.646 234.073 597.035 231.869C595.688 230.732 594.467 230.815 592.878 232.052C591.431 233.178 589.923 235.113 588.183 237.928L587.674 238.767C586.818 240.211 585.103 243.204 584.876 243.585L584.563 244.103C583.508 245.827 582.163 246.907 581.963 246.953C581.764 247 581.48 246.839 581.41 245.381C581.387 244.901 581.509 244.419 581.764 243.762L581.866 243.508C582.175 242.756 583.877 239.22 583.994 238.966C584.51 237.853 584.925 236.882 585.269 235.967C586.654 232.277 584.593 230.122 583.228 229.415C583.081 229.339 582.938 229.281 582.797 229.241C580.681 228.629 577.737 231.77 574.3 238.063L573.555 239.456C573.005 240.506 572.466 241.586 571.406 243.732C570.636 245.293 568.58 246.412 565.152 247.314L564.964 247.361L564.981 247.406C565.131 247.88 565.048 248.413 564.727 248.822L564.624 248.942C564.034 249.555 563.059 249.575 562.446 248.985L560.957 247.551C560.06 246.686 560.507 245.17 561.729 244.93C563.968 244.491 565.705 244.006 566.926 243.489C567.951 243.054 568.51 242.638 568.644 242.369L570.084 239.472C570.526 238.596 570.869 237.937 571.287 237.158Z\",\n  fill: \"#00160A\"\n});\n\nvar _ref61 = /*#__PURE__*/React.createElement(\"ellipse\", {\n  cx: 591.5,\n  cy: 241.869,\n  rx: 3.5,\n  ry: 2.86947,\n  fill: \"#FFB61D\"\n});\n\nvar _ref62 = /*#__PURE__*/React.createElement(\"ellipse\", {\n  cx: 581.5,\n  cy: 233.869,\n  rx: 3.5,\n  ry: 2.86947,\n  fill: \"#FFB61D\"\n});\n\nvar _ref63 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M559.984 253.996C559.495 253.562 558.885 252.781 558.347 251.935L557.654 252.243L556.835 252.594C556.67 252.67 556.564 252.728 556.531 252.776C556.437 252.952 556.219 253.019 556.041 252.926C555.868 252.833 555.798 252.615 555.893 252.439C555.958 252.272 556.418 251.749 557.273 251.238C557.427 251.145 557.598 251.059 557.782 250.974C557.467 250.385 557.219 249.815 557.103 249.359C556.927 248.685 557.068 248.208 557.299 248.04C557.525 247.874 558.094 247.843 558.959 248.562C559.118 248.683 559.143 248.909 559.022 249.067C558.902 249.224 558.676 249.253 558.517 249.132C558.352 249.01 558.186 248.941 558.052 248.892L558.117 249.149C558.143 249.242 558.175 249.338 558.219 249.431C558.374 249.771 558.571 250.158 558.792 250.556C559.469 250.3 560.239 250.068 561.07 249.957C561.476 249.902 561.889 249.891 562.318 249.895C562.564 249.879 562.779 250.066 562.795 250.313C562.811 250.56 562.623 250.774 562.377 250.79C561.376 250.887 560.452 251.139 559.635 251.424L559.368 251.52C559.809 252.21 560.282 252.838 560.688 253.192C560.908 253.386 560.93 253.724 560.738 253.946C560.54 254.169 560.204 254.191 559.984 253.996Z\",\n  fill: \"#FFB61D\"\n});\n\nvar _ref64 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M324.826 529.117C322.297 541.032 310.092 544.412 310.224 554.004C310.292 558.966 311.662 563.082 312.787 566.247C315.074 572.683 321.034 579.312 323.794 585.449C326.153 590.694 337.989 587.146 338.934 595.298C339.449 599.738 331.076 602.296 328.797 602.469C325.527 602.717 321.381 601.594 316.36 599.099C310.253 596.133 305.351 593.794 301.802 589.519C301.111 588.686 300.676 586.332 299.91 582.631C299.073 578.581 296.212 568.285 288.737 551.662C287.67 549.288 283.584 539.572 279.039 529.634C275.289 521.433 290.788 505.004 297.66 505.579C314.542 506.99 326.612 520.7 324.826 529.117Z\",\n  fill: \"white\"\n});\n\nvar _ref65 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M312.99 599.275C308.788 596.773 305.331 593.89 302.621 590.625C301.929 589.791 301.42 586.72 300.655 583.019C300.254 581.079 285.664 546.076 280.851 532.902C279.953 530.443 282.133 532.164 282.645 532.902C285.437 536.925 302.621 563.465 310.831 588.053\",\n  fill: \"#E7EAEE\"\n});\n\nvar _ref66 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M316.265 598.229L316.89 598.537C321.612 600.884 325.424 601.916 328.269 601.701C331.326 601.469 336.315 598.713 336.535 596.367C336.889 592.6 335.869 591.531 330.83 589.628C329.368 589.076 325.416 589.196 319.326 590.118C318.216 590.286 317.179 589.523 317.011 588.412C316.843 587.302 317.607 586.266 318.717 586.098L319.719 585.95C325.949 585.058 330.031 584.979 332.267 585.824L332.93 586.08C338.978 588.472 341.129 590.945 340.584 596.747C340.121 601.664 333.373 605.392 328.577 605.756C324.999 606.027 320.688 604.899 315.607 602.438L315.097 602.187C308.741 599.1 303.682 595.305 299.938 590.794C299.444 590.2 299.129 589.409 298.805 588.195L298.73 587.907C298.61 587.435 298.491 586.912 298.351 586.257L297.545 582.302L297.421 581.725C296.094 575.786 292.254 564.826 286.434 551.806L285.547 549.847C285 548.655 277.196 536.007 276.613 533.043C274.435 521.962 283.341 516.472 283.341 516.472C283.341 516.472 278.722 526.218 280.024 531.01C281.036 534.735 289.577 547.552 292.615 557.379C295.759 567.548 299.05 578.399 303.857 587.27C307.486 593.968 310.084 597.002 316.265 598.229Z\",\n  fill: \"#00160A\"\n});\n\nvar _ref67 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M326.126 595.951C326.327 595.278 327.035 594.896 327.707 595.097C329.801 595.722 331.282 596.413 332.186 597.235C333.043 598.014 333.89 599.209 334.758 600.832C335.089 601.451 334.855 602.221 334.236 602.552C333.617 602.883 332.847 602.649 332.517 602.031C331.774 600.642 331.084 599.667 330.477 599.116C329.917 598.607 328.74 598.058 326.98 597.532C326.307 597.331 325.925 596.623 326.126 595.951Z\",\n  fill: \"#00160A\"\n});\n\nvar _ref68 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M329.675 592.029C329.896 591.363 330.616 591.003 331.282 591.225C333.075 591.821 334.407 592.501 335.292 593.306C336.17 594.103 337.013 595.392 337.866 597.189C338.167 597.823 337.897 598.581 337.263 598.882C336.629 599.183 335.871 598.913 335.57 598.279C334.847 596.755 334.169 595.719 333.583 595.187C333.005 594.661 331.966 594.131 330.479 593.636C329.813 593.414 329.453 592.695 329.675 592.029Z\",\n  fill: \"#00160A\"\n});\n\nvar _ref69 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M316.951 510.131C321.422 511.929 330.214 521.898 328.854 527.496C327.448 533.285 325.385 535.598 322.103 539.436L321.759 539.832C320.758 540.971 316.624 545.171 316.46 545.348L316.068 545.78C312.384 549.937 310.878 554.534 313.875 563.007C316.071 569.213 319.682 576.267 324.666 582.995C325.324 583.882 326.96 586.489 326.072 587.146C325.185 587.804 323.084 585.679 322.427 584.791C317.218 577.761 313.441 570.946 311.104 564.341C307.574 554.362 308.426 550.25 313.298 544.878L313.608 544.543C314.13 544 317.712 540.357 318.66 539.299L318.755 539.191C321.816 535.709 323.834 532.021 325.129 526.691C326.024 523.007 322.262 516.465 314.312 511.157C309.035 507.633 312.481 508.332 316.951 510.131Z\",\n  fill: \"#00160A\"\n});\n\nfunction SvgBored(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 750,\n    height: 350,\n    viewBox: \"0 0 750 750\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17, _ref18, _ref19, _ref20, _ref21, _ref22, _ref23, _ref24, _ref25, _ref26, _ref27, _ref28, _ref29, _ref30, _ref31, _ref32, _ref33, _ref34, _ref35, _ref36, _ref37, _ref38, _ref39, _ref40, _ref41, _ref42, _ref43, _ref44, _ref45, _ref46, _ref47, _ref48, _ref49, _ref50, _ref51, _ref52, _ref53, _ref54, _ref55, _ref56, _ref57, _ref58, _ref59, _ref60, _ref61, _ref62, _ref63, _ref64, _ref65, _ref66, _ref67, _ref68, _ref69);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgBored);\nexport default __webpack_public_path__ + \"static/media/bored.412fe8f1.svg\";\nexport { ForwardRef as ReactComponent };","import {\r\n  makeStyles, Text, Stack, PrimaryButton,\r\n} from '@fluentui/react';\r\nimport React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Container } from 'react-grid-system';\r\nimport { ReactComponent as BoredImage } from './assets/bored.svg';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    '& #cat_bg': {\r\n      fill: theme.palette.themePrimary,\r\n    },\r\n  },\r\n  image: {\r\n    width: '35%',\r\n    height: '400px',\r\n    '@media (max-width: 768px)': {\r\n      width: '80%',\r\n      height: '200px',\r\n    },\r\n  },\r\n  loginBtn: {\r\n    marginTop: '10px !important',\r\n  },\r\n}));\r\n\r\nconst LoginPage = () => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Container md className={classes.root}>\r\n      <Stack verticalAlign=\"center\" horizontalAlign=\"center\">\r\n        <BoredImage className={classes.image} />\r\n        <Text block variant=\"xLarge\">You are not logged in</Text>\r\n        <Link className={classes.loginBtn} to=\"/auth/login\" component={PrimaryButton}>Log In</Link>\r\n      </Stack>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default LoginPage;\r\n","import LoginPage from './LoginPage';\r\n\r\nexport default LoginPage;\r\n","import { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst useFetch = (url, options = null, initialData = [], dependencies = [], cb = null) => {\r\n  const [data, setData] = useState(initialData);\r\n\r\n  useEffect(() => {\r\n    async function run() {\r\n      setData(initialData);\r\n      const result = await axios.get(url, options);\r\n      if (result.status === 200) {\r\n        setData(cb ? cb(result.data) : result.data);\r\n      }\r\n    }\r\n    if (url) {\r\n      run();\r\n    }\r\n  }, [url, ...dependencies]);\r\n\r\n  return [data, setData];\r\n};\r\n\r\nexport default useFetch;\r\n","import { DateTime } from 'luxon';\r\nimport axios from 'axios';\r\nimport NotificationService from '../NotificationService';\r\n\r\nconst TaskService = {\r\n  baseUrl: '/api/tasks',\r\n  taskPath: (id) => `/api/tasks/${id}`,\r\n  taskStatusPath: (id) => `/api/tasks/${id}/status`,\r\n  tasksCheckConflictsPath: '/api/tasks/check-busy',\r\n\r\n  async getTasks(params = {}) {\r\n    try {\r\n      const response = await axios.get(this.baseUrl, {\r\n        params,\r\n      });\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.data} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async getBusyTasks({ user }) {\r\n    try {\r\n      const response = await axios.get(this.tasksCheckConflictsPath, {\r\n        params: { user },\r\n      });\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.data} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async getTask() {\r\n    try {\r\n      // pass\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async createTask(data) {\r\n    try {\r\n      const response = await axios.post(this.baseUrl, data);\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.data} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async updateTask(id, data) {\r\n    try {\r\n      const response = await axios.put(this.taskPath(id), data);\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.data} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async updateTaskStatus(id, data) {\r\n    try {\r\n      const response = await axios.put(this.taskStatusPath(id), data);\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.data} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async deleteTask() {\r\n    try {\r\n      // pass\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  createTaskObject(task) {\r\n    const copy = { ...task };\r\n    const startRaw = DateTime\r\n      .fromISO(task.expectedStartDate).toUTC();\r\n    const endRaw = startRaw.plus({ minute: task.duration })\r\n    copy.expectedStartDate = DateTime.fromObject({\r\n      year: startRaw.year,\r\n      month: startRaw.month,\r\n      day: startRaw.day,\r\n      hour: startRaw.hour,\r\n      minute: startRaw.minute,\r\n      second: 0,\r\n      zone: task.zone,\r\n    }).toISO();\r\n    copy.expectedFinishDate = DateTime.fromObject({\r\n      year: endRaw.year,\r\n      month: endRaw.month,\r\n      day: endRaw.day,\r\n      hour: endRaw.hour,\r\n      minute: endRaw.minute,\r\n      second: 0,\r\n      zone: task.zone,\r\n    }).toISO();\r\n    return copy;\r\n  },\r\n};\r\n\r\nexport default TaskService;\r\n","import { DateTime } from 'luxon';\r\n\r\nexport default {\r\n  getHoursFromText(text) {\r\n    const [hours, minutes, seconds] = text.split(':').map((t) => +t);\r\n    return {\r\n      h: hours,\r\n      m: minutes,\r\n      s: seconds ?? 0,\r\n    };\r\n  },\r\n\r\n  combineDateHours(date, hours) {\r\n    return new Date(date.getFullYear(), date.getMonth(), date.getDate(), hours.h, hours.m, hours.s);\r\n  },\r\n\r\n  makeUTC(date) {\r\n    if (Number.isNaN(+new Date(date)) || date === null) return null;\r\n    return new Date(Date.UTC(\r\n      date.getFullYear(),\r\n      date.getMonth(),\r\n      date.getDate(),\r\n      date.getHours(),\r\n      date.getMinutes(),\r\n      date.getSeconds(),\r\n    ));\r\n  },\r\n\r\n  // Return an array containing all days from the same week as date\r\n  // By default first day is monday\r\n  getWeekFromDate(date, firstDay = 1) {\r\n    const result = [];\r\n    // Get first day of the week, take into account firstDay parameter\r\n    const firstDayUTC = this.makeUTCDateOnly(date);\r\n    let day = firstDayUTC.getDay();\r\n    if (day === 0 && firstDay === 1) day = 7;\r\n    firstDayUTC.setDate(firstDayUTC.getDate() - day + firstDay);\r\n    for (let i = 0; i < 7; i += 1) {\r\n      const dt = new Date(firstDayUTC);\r\n      dt.setDate(dt.getDate() + i);\r\n      result.push(dt);\r\n    }\r\n    return result;\r\n  },\r\n\r\n  makeUTCDateOnly(date) {\r\n    if (Number.isNaN(+new Date(date)) || date === null) return null;\r\n    return new Date(Date.UTC(\r\n      date.getFullYear(),\r\n      date.getMonth(),\r\n      date.getDate(),\r\n      0,\r\n      0,\r\n      0,\r\n    ));\r\n  },\r\n\r\n  /**\r\n   * Given a Time, return the nearest time rounded to 10 minutes\r\n   * Ex: 10:59 -> 11:00\r\n   *     11:12 -> 11:10\r\n   * @param {Date} date\r\n   * @returns Date\r\n   */\r\n  getNearestTimeUTC(date) {\r\n    const dt = DateTime.fromJSDate(date).toUTC();\r\n    const minutes = Math.ceil(dt.minute / 10) * 10;\r\n    return dt.set({ minute: minutes });\r\n  },\r\n\r\n  getTimeText(date) {\r\n    return DateTime.fromJSDate(date).toUTC().toFormat('HH:mm');\r\n  },\r\n\r\n  /**\r\n   * Receives a text string of form hh:mm and checks if it's valid\r\n   * @param {String} string\r\n   * @param {Date} baseDate\r\n   * @returns {Date} the adjusted valid utc date, with time set\r\n   */\r\n  getValidTimeStringUTC(string, baseDate = null) {\r\n    const pattern = /\\d{2}:\\d{2}/;\r\n    const dt = baseDate ? DateTime.fromJSDate(baseDate) : DateTime.now();\r\n    if (!pattern.test(string)) {\r\n      return dt.toUTC().set({\r\n        hour: 0,\r\n        minute: 0,\r\n        second: 0,\r\n        millisecond: 0,\r\n      }).toISO();\r\n    }\r\n    // Split and convert to numbers, regex passed so this shouldn't give any issues\r\n    let [hour, minute] = string.split(':');\r\n    // Check if hour is valid\r\n    if (+hour < 0 || +hour > 23) {\r\n      const temp = hour;\r\n      hour = hour.slice(0, 1);\r\n      minute = `${temp.slice(1)}${minute}`.slice(0, 2);\r\n    }\r\n    // Check if minutes are valid\r\n    if (+minute < 0 || +minute > 59) {\r\n      minute = `0${minute}`.slice(0, 2);\r\n    }\r\n    // return the validated date as utc iso string\r\n    return dt.toUTC().set({\r\n      hour,\r\n      minute,\r\n      second: 0,\r\n      millisecond: 0,\r\n    }).toISO();\r\n  },\r\n\r\n  /**\r\n   * Given start time and duration, return end time in format hh:mm\r\n   * @param {Date} startTime\r\n   * @param {Number} duration\r\n   */\r\n  getEndTimeTextUTC(startTime, duration) {\r\n    return DateTime.fromJSDate(startTime).plus({\r\n      minute: duration,\r\n    }).toUTC().toFormat('HH:mm');\r\n  },\r\n\r\n  /**\r\n   * Transform the date to UTC, keeping the same time\r\n   * Example: i have 2021-01-01 10:10 UTC+03:00\r\n   * I want to return 2021-01-01 10:10 UTC+00:00\r\n   * @param {Date} date\r\n   * @returns {Date} the transformed date\r\n   */\r\n  transform2UTCDate(date) {\r\n    const exp = DateTime.fromJSDate(date);\r\n    return DateTime.utc(exp.year, exp.month, exp.day, exp.hour, exp.minute, 0, 0).toJSDate();\r\n  },\r\n\r\n  /**\r\n   * Get's date @from and assigns is to @to\r\n   * @param {Date} from\r\n   * @param {Date} to\r\n   */\r\n  setDateFromTo(from, to) {\r\n    const fromDT = DateTime.fromJSDate(from);\r\n    const toDT = DateTime.fromJSDate(to);\r\n    return toDT.set({\r\n      year: fromDT.year,\r\n      month: fromDT.month,\r\n      day: fromDT.day,\r\n    }).toJSDate();\r\n  },\r\n};\r\n","import React, { useState, createContext, useRef } from 'react';\r\nimport {\r\n  Panel, PanelType,\r\n} from '@fluentui/react';\r\n\r\nconst PanelContext = createContext({\r\n  isPanel: false,\r\n  isOpen: null,\r\n  setOpen: null,\r\n  onRenderFooter: null,\r\n  setOnRenderFooter: null,\r\n});\r\n\r\n/**\r\n * @param {Object} onRenderComponent\r\n * @param {Object} options\r\n * @param {Function} options.onDismiss\r\n * @param {Number} options.type\r\n * @param {String} options.headerText\r\n * @param {Boolean} options.isLightDismiss\r\n * @param {Function} options.onRenderFooterContent\r\n * @param {Boolean} options.isFooterAtBottom\r\n * @param {String} options.id\r\n */\r\nconst usePanel = (Component, options = {}, componentProps = {}) => {\r\n  const [isOpen, setOpen] = useState(false);\r\n  const [onRenderFooter, setOnRenderFooter] = useState(() => options.onRenderFooterContent);\r\n  const componentRef = useRef(null);\r\n  const [ctx] = useState({\r\n    isPanel: true,\r\n    isOpen,\r\n    setOpen,\r\n    onRenderFooter,\r\n    setOnRenderFooter,\r\n  });\r\n\r\n  const render = (\r\n    <PanelContext.Provider value={ctx}>\r\n      <Panel\r\n        id={options.id ?? 'use-panel'}\r\n        componentRef={componentRef}\r\n        isOpen={isOpen}\r\n        onDismiss={(options?.onDismiss && options.onDismiss(isOpen, setOpen))\r\n        ?? (() => setOpen(false))}\r\n        type={options.type ?? PanelType.smallFixedFar}\r\n        headerText={options.headerText ?? 'Panel'}\r\n        isLightDismiss={options.isLightDismiss ?? false}\r\n        onRenderFooterContent={onRenderFooter}\r\n        isFooterAtBottom={options.isFooterAtBottom ?? false}\r\n      >\r\n        {\r\n        isOpen\r\n          // eslint-disable-next-line react/jsx-props-no-spreading\r\n          ? <Component isOpen={isOpen} setOpen={setOpen} {...componentProps} />\r\n          : null\r\n      }\r\n      </Panel>\r\n    </PanelContext.Provider>\r\n  );\r\n\r\n  return {\r\n    isOpen, setOpen, render, componentRef,\r\n  };\r\n};\r\n\r\nexport default usePanel;\r\n\r\nexport {\r\n  PanelContext,\r\n};\r\n","/* eslint-disable react/jsx-props-no-spreading */\r\nimport React, { useMemo } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  BasePickerListBelow, Checkbox, Label, makeStyles, Persona, PersonaSize, Stack, Text,\r\n} from '@fluentui/react';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {},\r\n  picker: {\r\n    '& input': {\r\n      backgroundColor: theme.palette.white,\r\n      color: theme.palette.neutralPrimary,\r\n    },\r\n  },\r\n  suggestionRoot: {\r\n    padding: theme.spacing.s2,\r\n  },\r\n  suggestionCheck: {\r\n    marginRight: theme.spacing.s2,\r\n    padding: theme.spacing.s2,\r\n    outline: 'none',\r\n  },\r\n  suggestionText: {\r\n    textTransform: 'capitalize',\r\n  },\r\n  itemRoot: {\r\n    marginTop: 4,\r\n    '&:first-child': {\r\n      marginTop: 8,\r\n    },\r\n  },\r\n}));\r\n\r\nconst PeoplePicker = ({\r\n  label, options, onSelect, onRemove, selected, ...props\r\n}) => {\r\n  const classes = useStyles();\r\n  const selectedSet = useMemo(() => new Set(selected.map((s) => s.key)), [selected]);\r\n\r\n  const handleCheckboxClick = (item) => (ev) => {\r\n    ev.preventDefault();\r\n    ev.stopPropagation();\r\n    if (selectedSet.has(item.key)) {\r\n      return onRemove(item);\r\n    }\r\n    return onSelect(item);\r\n  };\r\n\r\n  const renderSuggestionsItem = (item) => (\r\n    <Stack\r\n      key={item.key}\r\n      className={classes.suggestionRoot}\r\n      horizontalAlign=\"start\"\r\n      verticalAlign=\"center\"\r\n      horizontal\r\n    >\r\n      <span\r\n        className={classes.suggestionCheck}\r\n        role=\"button\"\r\n        tabIndex={-1}\r\n        onKeyDown={(evt) => (evt.key === 'Space'\r\n          ? renderSuggestionsItem(item)()\r\n          : null)}\r\n        onClick={handleCheckboxClick(item)}\r\n      >\r\n        <Checkbox\r\n          checked={selectedSet.has(item.key)}\r\n        />\r\n      </span>\r\n      <Text className={classes.suggestionText} variant=\"mediumPlus\">{item.data.username}</Text>\r\n    </Stack>\r\n  );\r\n\r\n  const renderItem = (details) => (\r\n    <Stack\r\n      className={classes.itemRoot}\r\n      key={details.item.id}\r\n      horizontalAlign=\"start\"\r\n      verticalAlign=\"center\"\r\n      horizontal\r\n    >\r\n      <Persona text={details.item.data.username} size={PersonaSize.size24} />\r\n    </Stack>\r\n  );\r\n\r\n  const handleSelect = (item) => {\r\n    if (selectedSet.has(item.key)) {\r\n      return onRemove(item);\r\n    }\r\n    return onSelect(item);\r\n  };\r\n\r\n  return (\r\n    <div {...props}>\r\n      { label && (<Label>{label}</Label>) }\r\n      <BasePickerListBelow\r\n        inputProps={{\r\n          placeholder: 'Select...',\r\n        }}\r\n        className={classes.picker}\r\n        onRenderSuggestionsItem={renderSuggestionsItem}\r\n        onResolveSuggestions={(filter) => options\r\n          .filter((o) => o.data.username.toLowerCase().indexOf(filter.toLowerCase()) !== -1)}\r\n        resolveDelay={300}\r\n        onRenderItem={renderItem}\r\n        selectedItems={selected}\r\n        onEmptyResolveSuggestions={() => options}\r\n        onItemSelected={handleSelect}\r\n        pickerCalloutProps={{\r\n          preventDismissOnScroll: true,\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nPeoplePicker.propTypes = {\r\n  label: PropTypes.string,\r\n  options: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\r\n  selected: PropTypes.arrayOf(String).isRequired,\r\n  onSelect: PropTypes.func.isRequired,\r\n  onRemove: PropTypes.func.isRequired,\r\n  props: PropTypes.shape({\r\n    style: PropTypes.shape({}),\r\n  }),\r\n};\r\n\r\nPeoplePicker.defaultProps = {\r\n  label: null,\r\n  props: null,\r\n};\r\n\r\nexport default PeoplePicker;\r\n","import {\r\n  Position,\r\n  SpinButton,\r\n  TextField,\r\n  DatePicker,\r\n  MaskedTextField,\r\n} from '@fluentui/react';\r\nimport PropTypes from 'prop-types';\r\nimport React, { useState } from 'react';\r\nimport { DateTime } from 'luxon';\r\nimport DateUtils from '../../../../utils/date';\r\nimport TaskService from '../../../../services/tasks/TaskService';\r\nimport UserService from '../../../../services/UserService';\r\nimport { useFetch } from '../../../../services/hooks';\r\nimport PeoplePicker from '../../../shared/people-picker/PeoplePicker';\r\n\r\nconst AddTask = ({ setOpen, handleAdd }) => {\r\n  const [users] = useFetch(UserService.teamUsersPath,\r\n    null, [], [],\r\n    (dt) => dt.map((user) => ({\r\n      key: user.id,\r\n      data: user,\r\n    })));\r\n  const [data, setData] = useState({\r\n    title: '',\r\n    description: '',\r\n    remarks: '',\r\n    expectedStartDate: DateUtils.getNearestTimeUTC(\r\n      DateUtils.transform2UTCDate(new Date()),\r\n    ).toJSDate(),\r\n    duration: 60,\r\n    isBackgroundTask: false,\r\n    assignedTo: [],\r\n  });\r\n\r\n  const handleDataChange = (field, func = (args) => args[0].target.value) => (...args) => {\r\n    setData((prev) => ({\r\n      ...prev,\r\n      [field]: func(args),\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async (evt) => {\r\n    evt.persist();\r\n    evt.preventDefault();\r\n    const expDate = DateTime.fromJSDate(data.expectedStartDate);\r\n    const result = await TaskService.createTask({\r\n      title: data.title,\r\n      description: data.description,\r\n      remarks: data.remarks,\r\n      expectedStartDate: data.expectedStartDate,\r\n      expectedFinishDate: expDate.plus({ minute: data.duration }).toJSDate(),\r\n      assignedTo: data.assignedTo.map((u) => u.id),\r\n      isBackgroundTask: data.isBackgroundTask,\r\n      zone: DateTime.local().zoneName,\r\n    });\r\n    if (result) {\r\n      handleAdd(result);\r\n    }\r\n    if (setOpen) {\r\n      setOpen(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <form id=\"create-task-form\" onSubmit={handleSubmit}>\r\n        <TextField\r\n          required\r\n          label=\"Title\"\r\n          value={data.title}\r\n          onChange={handleDataChange('title')}\r\n        />\r\n        <TextField\r\n          label=\"Description\"\r\n          value={data.description}\r\n          onChange={handleDataChange('description')}\r\n        />\r\n        <TextField\r\n          label=\"Remarks\"\r\n          value={data.remarks}\r\n          multiline\r\n          onChange={handleDataChange('remarks')}\r\n        />\r\n        <DatePicker\r\n          label=\"Start date\"\r\n          value={data.expectedStartDate}\r\n          onSelectDate={\r\n            (date) => setData(\r\n              (prev) => (\r\n                {\r\n                  ...prev,\r\n                  expectedStartDate: DateUtils.setDateFromTo(date, prev.expectedStartDate),\r\n                }),\r\n            )\r\n          }\r\n        />\r\n        <MaskedTextField\r\n          label=\"Start time\"\r\n          mask=\"99:99\"\r\n          maskChar=\"0\"\r\n          value={DateTime.fromJSDate(data.expectedStartDate).toUTC().toFormat('HH:mm')}\r\n          onChange={handleDataChange('expectedStartDate', (args) => DateTime.fromISO(DateUtils.getValidTimeStringUTC(args[1], data.expectedStartDate)).toJSDate())}\r\n        />\r\n        <MaskedTextField\r\n          label=\"End time\"\r\n          mask=\"99:99\"\r\n          maskChar=\"0\"\r\n          value={DateUtils.getEndTimeTextUTC(\r\n            data.expectedStartDate,\r\n            data.duration,\r\n          )}\r\n          onChange={\r\n              handleDataChange('duration', (args) => {\r\n                const validTime = DateUtils.getValidTimeStringUTC(args[1]);\r\n                // Check if end time is after start time\r\n                const startDT = DateTime.fromJSDate(data.expectedStartDate);\r\n                const endDT = DateTime.fromISO(validTime);\r\n                if (endDT < startDT) return 0;\r\n                return endDT.diff(startDT, 'minute')?.values?.minutes ?? 0;\r\n              })\r\n        }\r\n        />\r\n        <SpinButton\r\n          label=\"Duration (min)\"\r\n          value={data.duration}\r\n          onChange={(evt) => {\r\n            let val = +evt.target.value;\r\n            if (Number.isNaN(val)) val = 0;\r\n            setData((prev) => ({ ...prev, duration: val }));\r\n          }}\r\n          onIncrement={(val) => setData((prev) => ({ ...prev, duration: (+val + 10) }))}\r\n          onDecrement={(val) => {\r\n            if (val > 10) setData((prev) => ({ ...prev, duration: (+val - 10) }));\r\n          }}\r\n          min={0}\r\n          step={10}\r\n          incrementButtonAriaLabel=\"Increase value by 10\"\r\n          decrementButtonAriaLabel=\"Decrease value by 10\"\r\n          labelPosition={Position.top}\r\n        />\r\n        <PeoplePicker\r\n          label=\"Assigned to\"\r\n          options={users}\r\n          onSelect={(u) => setData((prev) => ({\r\n            ...prev,\r\n            assignedTo: prev.assignedTo.concat(u.data),\r\n          }))}\r\n          onRemove={(u) => setData((prev) => ({\r\n            ...prev,\r\n            assignedTo: prev.assignedTo.filter((user) => user.id !== u.data.id),\r\n          }))}\r\n          selected={data.assignedTo?.map((u) => ({ key: u.id, data: u }))}\r\n        />\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n\r\nAddTask.propTypes = {\r\n  setOpen: PropTypes.func,\r\n  handleAdd: PropTypes.func.isRequired,\r\n};\r\n\r\nAddTask.defaultProps = {\r\n  setOpen: null,\r\n};\r\n\r\nexport default AddTask;\r\n","import AddTask from './AddTask';\r\n\r\nexport default AddTask;\r\n","import { DateTime } from 'luxon';\r\nimport { ActionButton, DatePicker, Stack } from '@fluentui/react';\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\n\r\nconst CurrentDate = ({ currentDate, setCurrentDate }) => (\r\n  <>\r\n    <Stack horizontal verticalAlign=\"center\" horizontalAlign=\"center\">\r\n      <ActionButton\r\n        onClick={() => setCurrentDate((prev) => {\r\n          const from = DateTime.fromJSDate(prev);\r\n          return DateTime.fromObject({\r\n            year: from.year,\r\n            month: from.month,\r\n            day: from.day,\r\n            hour: 0,\r\n            minute: 0,\r\n            second: 0,\r\n            millisecond: 0,\r\n            zone: 'utc',\r\n          }).minus({ day: 1 }).toJSDate();\r\n        })}\r\n        iconProps={{\r\n          iconName: 'Previous',\r\n        }}\r\n      />\r\n      <DatePicker\r\n        value={currentDate}\r\n        onSelectDate={(date) => {\r\n          const from = DateTime.fromJSDate(date);\r\n          const result = DateTime.fromObject({\r\n            year: from.year,\r\n            month: from.month,\r\n            day: from.day,\r\n            hour: 0,\r\n            minute: 0,\r\n            second: 0,\r\n            millisecond: 0,\r\n            zone: 'utc',\r\n          }).toJSDate();\r\n          return setCurrentDate(result);\r\n        }}\r\n        firstDayOfWeek={1}\r\n      />\r\n      <ActionButton\r\n        onClick={() => setCurrentDate((prev) => {\r\n          const from = DateTime.fromJSDate(prev);\r\n          return DateTime.fromObject({\r\n            year: from.year,\r\n            month: from.month,\r\n            day: from.day,\r\n            hour: 0,\r\n            minute: 0,\r\n            second: 0,\r\n            millisecond: 0,\r\n            zone: 'utc',\r\n          }).plus({ day: 1 }).toJSDate();\r\n        })}\r\n        iconProps={{\r\n          iconName: 'Next',\r\n        }}\r\n      />\r\n    </Stack>\r\n  </>\r\n);\r\n\r\nCurrentDate.propTypes = {\r\n  currentDate: PropTypes.instanceOf(Date).isRequired,\r\n  setCurrentDate: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default CurrentDate;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  Facepile, makeStyles, OverflowButtonType, PersonaSize,\r\n} from '@fluentui/react';\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  root: {\r\n    display: 'inline-block',\r\n  },\r\n  container: {\r\n    textAlign: 'center',\r\n  },\r\n}));\r\n\r\nconst TaskPersonas = ({ task }) => {\r\n  const classes = useStyles();\r\n  return (\r\n    <div className={classes.container}>\r\n      <Facepile\r\n        className={classes.root}\r\n        personaSize={PersonaSize.size24}\r\n        maxDisplayablePersonas={1}\r\n        overflowButtonType={OverflowButtonType.descriptive}\r\n        overflowButtonProps={{\r\n          ariaDescription: 'More users',\r\n        }}\r\n        personas={task.assignedTo.map((u) => ({\r\n          personaName: u.username,\r\n        }))}\r\n        // onRenderPersona={(persona) => (\r\n        //   <Persona\r\n        //     size={PersonaSize.size24}\r\n        //     text={persona.personaName}\r\n        //     hidePersonaDetails\r\n        //     imageAlt={persona.personaName}\r\n        //   />\r\n        // )}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nTaskPersonas.propTypes = {\r\n  task: PropTypes.shape({\r\n    assignedTo: PropTypes.arrayOf(PropTypes.shape({\r\n      id: PropTypes.string,\r\n      username: PropTypes.string,\r\n    })),\r\n  }).isRequired,\r\n};\r\n\r\nexport default TaskPersonas;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Collapse } from 'react-collapse';\r\nimport {\r\n  ButtonGrid, DefaultButton, makeStyles, Separator, Text,\r\n} from '@fluentui/react';\r\nimport TaskPersonas from '../task-personas/TaskPersonas';\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  root: {\r\n    '& table': {\r\n      margin: 'auto',\r\n      borderCollapse: 'unset',\r\n    },\r\n  },\r\n  statusText: {\r\n    textAlign: 'center',\r\n  },\r\n}));\r\n\r\nconst TaskCollapsed = ({\r\n  task, collapsed, setCollapsed, handleStatusChange,\r\n}) => {\r\n  const classes = useStyles();\r\n\r\n  const handleChange = (item) => async () => {\r\n    await handleStatusChange(task, item.status);\r\n    setCollapsed(true);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Collapse isOpened={!collapsed}>\r\n        <Separator />\r\n        <TaskPersonas task={task} />\r\n        <Separator>\r\n          <Text variant=\"smallPlus\">Status</Text>\r\n        </Separator>\r\n        <ButtonGrid\r\n          columnCount={2}\r\n          onRenderItem={(item) => (\r\n            <DefaultButton\r\n              onClick={handleChange(item)}\r\n              disabled={item.disabled}\r\n              style={{\r\n                width: 115,\r\n                margin: 3,\r\n                fontSize: 8,\r\n                height: 18,\r\n              }}\r\n            >\r\n              <Text variant=\"small\">{item.text}</Text>\r\n            </DefaultButton>\r\n          )}\r\n          items={[\r\n            {\r\n              key: 'inprogress',\r\n              text: 'In progress',\r\n              status: 'InProgress',\r\n              disabled: task.status === 'InProgress',\r\n            },\r\n            {\r\n              key: 'paused',\r\n              text: 'Paused',\r\n              status: 'Paused',\r\n              disabled: task.status !== 'InProgress',\r\n            },\r\n            {\r\n              key: 'finished',\r\n              text: 'Finished',\r\n              status: 'Finished',\r\n              disabled: task.status === 'Finished',\r\n            },\r\n            {\r\n              key: 'cancelled',\r\n              text: 'Cancelled',\r\n              status: 'Cancelled',\r\n              disabled: task.status === 'Cancelled',\r\n            },\r\n          ]}\r\n        />\r\n      </Collapse>\r\n    </div>\r\n  );\r\n};\r\n\r\nTaskCollapsed.propTypes = {\r\n  handleStatusChange: PropTypes.func.isRequired,\r\n  task: PropTypes.shape({\r\n    id: PropTypes.string,\r\n    status: PropTypes.string,\r\n  }).isRequired,\r\n  collapsed: PropTypes.bool.isRequired,\r\n  setCollapsed: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default TaskCollapsed;\r\n","import React, { useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport clsx from 'clsx';\r\nimport {\r\n  ActionButton, makeStyles, Separator, Text,\r\n} from '@fluentui/react';\r\nimport { DateTime } from 'luxon';\r\nimport TaskCollapsed from '../task-collapsed/TaskCollapsed';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    minHeight: '75px',\r\n    position: 'relative',\r\n    '& .task-new': {\r\n      minHeight: 'inherit',\r\n      border: '1px solid #87D7A1',\r\n      borderLeft: '10px solid #87D7A1',\r\n      '& .task-new-status': {\r\n        backgroundColor: '#87D7A1',\r\n      },\r\n    },\r\n    '& .task-inprogress': {\r\n      minHeight: 'inherit',\r\n      border: '1px solid #F4C884',\r\n      borderLeft: '10px solid #F4C884',\r\n      '& .task-inprogress-status': {\r\n        backgroundColor: '#F4C884',\r\n      },\r\n    },\r\n    '& .task-finished': {\r\n      minHeight: 'inherit',\r\n      border: '1px solid #C4C4C4',\r\n      borderLeft: '10px solid #C4C4C4',\r\n      '& .task-finished-status': {\r\n        backgroundColor: '#C4C4C4',\r\n      },\r\n    },\r\n    '& .task-cancelled': {\r\n      minHeight: 'inherit',\r\n      border: '1px solid #FF6B59',\r\n      borderLeft: '10px solid #FF6B59',\r\n      '& .task-cancelled-status': {\r\n        backgroundColor: '#FF6B59',\r\n      },\r\n    },\r\n    '& .task-paused': {\r\n      minHeight: 'inherit',\r\n      border: `1px solid ${theme.palette.neutralLight}`,\r\n      borderLeft: `10px solid ${theme.palette.neutralLight}`,\r\n      '& .task-paused-status': {\r\n        backgroundColor: theme.palette.neutralLight,\r\n      },\r\n    },\r\n  },\r\n  status: {\r\n    alignSelf: 'center',\r\n    display: 'inline',\r\n    minWidth: '80px',\r\n    position: 'absolute',\r\n    textAlign: 'center',\r\n    color: theme.palette.neutralLighterAlt,\r\n    padding: '2px 0',\r\n  },\r\n  collapse: {\r\n    width: '100%',\r\n    textAlign: 'center',\r\n    cursor: 'pointer',\r\n    outline: 'none',\r\n    marginBottom: theme.spacing.s2,\r\n  },\r\n  chevron: {\r\n    height: '100%',\r\n  },\r\n  chevronIcon: {\r\n    color: `${theme.palette.black} !important`,\r\n  },\r\n  rows: {\r\n    display: 'flex',\r\n    flexFlow: 'column nowrap',\r\n    flexGrow: '1',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    minHeight: 'inherit',\r\n    maxWidth: '75%',\r\n  },\r\n  taskDescription: {\r\n    display: 'flex',\r\n    flexFlow: 'column nowrap',\r\n    justifyContent: 'space-between',\r\n    width: '100%',\r\n    margin: '25px 0',\r\n  },\r\n  nowrap: {\r\n    whiteSpace: 'nowrap',\r\n    overflow: 'hidden',\r\n    textOverflow: 'ellipsis',\r\n  },\r\n  prewrap: {\r\n    whiteSpace: 'pre-wrap',\r\n  },\r\n  title: {\r\n    paddingLeft: theme.spacing.s1,\r\n  },\r\n  description: {\r\n    color: theme.palette.neutralSecondaryAlt,\r\n    paddingLeft: theme.spacing.s1,\r\n  },\r\n  time: {\r\n    paddingRight: theme.spacing.s1,\r\n    lineHeight: '10px',\r\n  },\r\n  column: {\r\n    display: 'flex',\r\n    flexFlow: 'column nowrap',\r\n  },\r\n}));\r\n\r\nconst TaskItem = ({ task, setTasks, handleStatusChange }) => {\r\n  const classes = useStyles();\r\n  const [time, setTime] = useState({\r\n    from: '00:00',\r\n    to: '00:00',\r\n  });\r\n  const [collapsed, setCollapsed] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (task) {\r\n      const startDate = DateTime.fromISO(task.expectedStartDate);\r\n      const finishDate = DateTime.fromISO(task.expectedFinishDate);\r\n      setTime(() => ({\r\n        from: startDate.toFormat('HH:mm'),\r\n        to: finishDate.toFormat('HH:mm'),\r\n      }));\r\n    }\r\n  }, [task]);\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <div className={clsx(`task-${task.status.toLowerCase()}`, classes.column)}>\r\n        <span className={clsx([`task-${task.status.toLowerCase()}-status`, classes.status])}>\r\n          {task.status}\r\n        </span>\r\n        <div style={{\r\n          display: 'flex',\r\n          flexFlow: 'row nowrap',\r\n          justifyContent: 'space-between',\r\n          minHeight: 'inherit',\r\n          alignItems: 'center',\r\n        }}\r\n        >\r\n          <div className={classes.rows}>\r\n            <div className={classes.taskDescription}>\r\n              <Text variant=\"medium\" className={clsx([classes.title, collapsed && classes.nowrap])}>{task.title}</Text>\r\n              <Text variant=\"smallPlus\" className={clsx([classes.description, collapsed ? classes.nowrap : classes.prewrap])}>{task.description}</Text>\r\n            </div>\r\n          </div>\r\n          <div className={classes.time}>\r\n            <Text variant=\"smallPlus\">{time.from}</Text>\r\n            <Separator styles={{\r\n              root: {\r\n                padding: 0,\r\n              },\r\n            }}\r\n            />\r\n            <Text variant=\"smallPlus\">{time.to}</Text>\r\n          </div>\r\n        </div>\r\n        <TaskCollapsed\r\n          task={task}\r\n          setTasks={setTasks}\r\n          collapsed={collapsed}\r\n          setCollapsed={setCollapsed}\r\n          handleStatusChange={handleStatusChange}\r\n        />\r\n        <div\r\n          tabIndex=\"-1\"\r\n          role=\"button\"\r\n          onKeyDown={(evt) => evt.key === 'Enter' && setCollapsed((prev) => !prev)}\r\n          className={clsx(classes.collapse)}\r\n          onClick={() => setCollapsed((prev) => !prev)}\r\n        >\r\n          <ActionButton\r\n            className={classes.chevron}\r\n            iconProps={{\r\n              iconName: collapsed ? 'ChevronDown' : 'ChevronUp',\r\n              className: classes.chevronIcon,\r\n            }}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nTaskItem.propTypes = {\r\n  handleStatusChange: PropTypes.func.isRequired,\r\n  task: PropTypes.shape({\r\n    status: PropTypes.string,\r\n    title: PropTypes.string,\r\n    description: PropTypes.string,\r\n    duration: PropTypes.number,\r\n    expectedStartDate: PropTypes.oneOfType([PropTypes.string, PropTypes.instanceOf(Date)]),\r\n    expectedFinishDate: PropTypes.oneOfType([PropTypes.string, PropTypes.instanceOf(Date)]),\r\n  }).isRequired,\r\n  setTasks: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default TaskItem;\r\n","import TaskItem from './TaskItem';\r\n\r\nexport default TaskItem;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  makeStyles,\r\n  Persona, PersonaSize, Separator, Stack, StackItem,\r\n} from '@fluentui/react';\r\nimport TaskItem from '../task-item';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    flexFlow: 'column nowrap',\r\n    alignContent: 'center',\r\n    width: '300px',\r\n    minWidth: '300px',\r\n    minHeight: '400px',\r\n    maxHeight: '600px',\r\n    padding: '5px',\r\n    overflow: 'auto',\r\n    backgroundColor: theme.semanticColors.bodyBackground,\r\n    border: `2px solid ${theme.palette.neutralLight}`,\r\n    '& > * + *': {\r\n      marginTop: '2px',\r\n    },\r\n    marginTop: theme.spacing.l1,\r\n  },\r\n}));\r\n\r\nconst TaskContainer = ({\r\n  tasks,\r\n  setTasks,\r\n  handleStatusChange,\r\n  user,\r\n}) => {\r\n  const classes = useStyles();\r\n  return (\r\n    <div className={classes.root}>\r\n      <Stack horizontalAlign=\"stretch\" verticalAlign=\"stretch\">\r\n        <StackItem align=\"center\">\r\n          <Persona size={PersonaSize.size32} text={user?.username} />\r\n        </StackItem>\r\n        <Separator />\r\n        {\r\n          tasks.map((task) => (\r\n            <TaskItem\r\n              key={task.id}\r\n              task={task}\r\n              setTasks={setTasks}\r\n              handleStatusChange={handleStatusChange}\r\n            />\r\n          ))\r\n        }\r\n      </Stack>\r\n    </div>\r\n  );\r\n};\r\n\r\nTaskContainer.propTypes = {\r\n  user: PropTypes.shape({\r\n    username: PropTypes.string,\r\n  }),\r\n  handleStatusChange: PropTypes.func.isRequired,\r\n  tasks: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\r\n  setTasks: PropTypes.func.isRequired,\r\n};\r\n\r\nTaskContainer.defaultProps = {\r\n  user: null,\r\n};\r\n\r\nexport default TaskContainer;\r\n","import {\r\n  ComboBox, makeStyles, Stack, Text,\r\n} from '@fluentui/react';\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport constants from '../../../../utils/constants';\r\nimport DateUtils from '../../../../utils/date';\r\n\r\nconst hourOptions = [\r\n  { key: '00:00', text: '00:00' },\r\n  { key: '01:00', text: '01:00' },\r\n  { key: '02:00', text: '02:00' },\r\n  { key: '03:00', text: '03:00' },\r\n  { key: '04:00', text: '04:00' },\r\n  { key: '05:00', text: '05:00' },\r\n  { key: '06:00', text: '06:00' },\r\n  { key: '07:00', text: '07:00' },\r\n  { key: '08:00', text: '08:00' },\r\n  { key: '09:00', text: '09:00' },\r\n  { key: '10:00', text: '10:00' },\r\n  { key: '11:00', text: '11:00' },\r\n  { key: '12:00', text: '12:00' },\r\n  { key: '13:00', text: '13:00' },\r\n  { key: '14:00', text: '14:00' },\r\n  { key: '15:00', text: '15:00' },\r\n  { key: '16:00', text: '16:00' },\r\n  { key: '17:00', text: '17:00' },\r\n  { key: '18:00', text: '18:00' },\r\n  { key: '19:00', text: '19:00' },\r\n  { key: '20:00', text: '20:00' },\r\n  { key: '21:00', text: '21:00' },\r\n  { key: '22:00', text: '22:00' },\r\n  { key: '23:00', text: '23:00' },\r\n];\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  combo: {\r\n    width: 100,\r\n  },\r\n  space: {\r\n    padding: '0px 10px',\r\n  },\r\n  text: {\r\n    padding: '10px',\r\n  },\r\n}));\r\n\r\nconst WorkingHours = ({ hours, setHours }) => {\r\n  const classes = useStyles();\r\n\r\n  const handleChange = (type) => (evt, option) => {\r\n    const [hour, minute] = option.key.split(':').map((o) => +o);\r\n    setHours((prev) => ({\r\n      ...prev,\r\n      [type]: prev[type].set({ hour, minute }),\r\n    }));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Stack horizontalAlign=\"center\">\r\n        <Text className={classes.text} variant=\"medium\">Working hours</Text>\r\n        <Stack horizontalAlign=\"center\" horizontal verticalAlign=\"center\">\r\n          <ComboBox\r\n            className={classes.combo}\r\n            options={constants.timeOptions}\r\n            selectedKey={DateUtils.getNearestTimeUTC(hours.from.toJSDate()).toFormat('HH:mm')}\r\n            autoComplete=\"on\"\r\n            useComboBoxAsMenuWidth\r\n            calloutProps={{\r\n              calloutMaxHeight: 500,\r\n            }}\r\n            onChange={handleChange('from')}\r\n          />\r\n          <span className={classes.space}>-</span>\r\n          <ComboBox\r\n            className={classes.combo}\r\n            options={hourOptions}\r\n            selectedKey={DateUtils.getNearestTimeUTC(hours.to.toJSDate()).toFormat('HH:mm')}\r\n            autoComplete=\"on\"\r\n            useComboBoxAsMenuWidth\r\n            calloutProps={{\r\n              calloutMaxHeight: 500,\r\n            }}\r\n            onChange={handleChange('to')}\r\n          />\r\n        </Stack>\r\n      </Stack>\r\n    </>\r\n  );\r\n};\r\n\r\nWorkingHours.propTypes = {\r\n  hours: PropTypes.shape({\r\n    from: PropTypes.string,\r\n    to: PropTypes.string,\r\n  }).isRequired,\r\n  setHours: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default WorkingHours;\r\n","/* eslint-disable react/jsx-props-no-spreading */\r\nimport React, { createContext, useEffect, useState } from 'react';\r\nimport {\r\n  Dialog, DialogFooter, DialogType,\r\n} from '@fluentui/react';\r\nimport constants from '../../utils/constants';\r\n\r\nconst DialogContext = createContext({\r\n  isDialog: false,\r\n  isVisible: false,\r\n  setVisible: null,\r\n  show: null,\r\n  accept: null,\r\n  cancel: null,\r\n  resolve: null,\r\n  setResolve: null,\r\n  dialogFooter: null,\r\n  setDialogFooter: null,\r\n});\r\n\r\n/**\r\n * @param {Object} Component\r\n * @param {Object} options\r\n * @param {Function} options.onDismiss\r\n * @param {Boolean} options.isBlocking\r\n * @param {Number} options.type\r\n * @param {String} options.title\r\n * @param {String} options.subText\r\n * @param {Function} options.dialogFooter\r\n * @param {Object} componentProps\r\n */\r\nconst useDialog = (Component, options = {}, componentProps = {}) => {\r\n  const [visible, setVisible] = useState(false);\r\n  const [resolve, setResolve] = useState(null);\r\n  const [dialogFooter, setDialogFooter] = useState(() => options.dialogFooter);\r\n\r\n  useEffect(() => {\r\n    if (resolve && !visible) {\r\n      resolve(constants.dialogAnswers.No);\r\n    }\r\n  }, [resolve]);\r\n\r\n  const show = async () => {\r\n    setVisible(true);\r\n    return new Promise((res) => {\r\n      setResolve(() => (res));\r\n    });\r\n  };\r\n\r\n  const accept = () => {\r\n    if (resolve !== null) resolve(constants.dialogAnswers.Yes);\r\n    setVisible(false);\r\n  };\r\n\r\n  const cancel = () => {\r\n    if (resolve !== null) resolve(constants.dialogAnswers.No);\r\n    setVisible(false);\r\n  };\r\n\r\n  const [ctx] = useState({\r\n    isDialog: true,\r\n    isVisible: visible,\r\n    setVisible,\r\n    show,\r\n    accept,\r\n    cancel,\r\n    resolve,\r\n    setResolve,\r\n    dialogFooter,\r\n    setDialogFooter,\r\n  });\r\n\r\n  const render = (\r\n    visible\r\n      ? (\r\n        <DialogContext.Provider value={ctx}>\r\n          <Dialog\r\n            hidden={!visible}\r\n            onDismiss={options.onDismiss ?? (() => setVisible(false))}\r\n            modalProps={{\r\n              isBlocking: options.isBlocking ?? false,\r\n            }}\r\n            dialogContentProps={{\r\n              type: options.type ?? DialogType.normal,\r\n              title: options.title ?? 'Title',\r\n              subText: options.subText ?? '',\r\n            }}\r\n          >\r\n            <Component accept={accept} cancel={cancel} {...componentProps} />\r\n            {\r\n              dialogFooter\r\n                ? (\r\n                  <DialogFooter>\r\n                    { dialogFooter(accept, cancel) }\r\n                  </DialogFooter>\r\n                )\r\n                : null\r\n            }\r\n          </Dialog>\r\n        </DialogContext.Provider>\r\n      )\r\n      : null\r\n  );\r\n\r\n  return {\r\n    visible, setVisible, render, show,\r\n  };\r\n};\r\n\r\nexport default useDialog;\r\n\r\nexport {\r\n  DialogContext,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link, Separator, Text } from '@fluentui/react';\r\nimport { Link as RLink } from 'react-router-dom';\r\nimport TaskService from '../../../../services/tasks/TaskService';\r\nimport constants from '../../../../utils/constants';\r\n\r\nconst TaskBusyConflict = ({\r\n  accept, setTasks, conflictTasks = [],\r\n}) => {\r\n  const handleSubmit = async (e) => {\r\n    try {\r\n      e.preventDefault();\r\n      const paused = conflictTasks.map(\r\n        (ctask) => TaskService\r\n          .updateTaskStatus(\r\n            ctask.id,\r\n            { status: constants.tasks.status.Paused },\r\n          ),\r\n      );\r\n      // Update paused tasks\r\n      (await Promise.all(paused)).map(\r\n        (task) => setTasks((prev) => prev.map((t) => (t.id === task.result.id ? task.result : t))),\r\n      );\r\n    } finally {\r\n      accept();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form id=\"task-busy-resolve\" onSubmit={handleSubmit}>\r\n      <Text block variant=\"medium\">Following tasks are still busy:</Text>\r\n      <Separator />\r\n      { conflictTasks.map((ctask, idx) => (\r\n        <RLink to={`/tasks/${ctask.id}`} target=\"_blank\" component={Link}>\r\n          <Text variant=\"medium\">\r\n            {idx + 1}\r\n            .\r\n            {' '}\r\n            {ctask.title}\r\n            {` (${new Date(ctask.actualStartDate).toLocaleString()})`}\r\n          </Text>\r\n        </RLink>\r\n      )) }\r\n      <Separator />\r\n      <Text block variant=\"medium\">If you continue, above tasks will be paused.</Text>\r\n    </form>\r\n  );\r\n};\r\n\r\nTaskBusyConflict.propTypes = {\r\n  accept: PropTypes.func.isRequired,\r\n  setTasks: PropTypes.func.isRequired,\r\n  currentTask: PropTypes.shape({\r\n    id: PropTypes.string,\r\n  }).isRequired,\r\n  conflictTasks: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\r\n};\r\n\r\nexport default TaskBusyConflict;\r\n","import { useEffect, useState } from 'react';\r\n\r\nconst useLocalStorageState = (label, initialValue = [], transform = (d) => d) => {\r\n  const [data, setData] = useState(\r\n    transform(JSON.parse(localStorage.getItem(label))) ?? initialValue,\r\n  );\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(label, JSON.stringify(data));\r\n  }, [data]);\r\n\r\n  return [data, setData];\r\n};\r\n\r\nexport default useLocalStorageState;\r\n","import axios from 'axios';\r\nimport NotificationService from './NotificationService';\r\n\r\nconst ConnectionService = {\r\n  baseUrl: '/stream',\r\n  subscribePath: '/stream/subscribe',\r\n\r\n  async connectSSE() {\r\n    try {\r\n      const es = new EventSource(this.baseUrl);\r\n      return es;\r\n    } catch (err) {\r\n      return null;\r\n    }\r\n  },\r\n\r\n  async subscribe(data) {\r\n    try {\r\n      const response = await axios.post(this.subscribePath, data);\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService\r\n        .notifyError((err.response.data && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n};\r\n\r\nexport default ConnectionService;\r\n","import { useContext, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport GlobalContext from '../../../../services/GlobalContext';\r\nimport constants from '../../../../utils/constants';\r\n\r\nconst TaskLiveUpdate = ({ setTasks }) => {\r\n  const global = useContext(GlobalContext);\r\n\r\n  const handleMessage = async (evt) => {\r\n    const info = JSON.parse(evt.data);\r\n    if (info) {\r\n      if (info.action === constants.connections.actions.INSERT) {\r\n        // Insert\r\n      } else if (info.action === constants.connections.actions.UPDATE) {\r\n        if (info.initiator !== global.user.id) {\r\n          setTasks((prev) => prev.map((task) => (task.id === info.data.id ? info.data : task)));\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (global.connection) {\r\n      global.connection.addEventListener('message', handleMessage);\r\n    }\r\n    return () => {\r\n      if (global.connection) {\r\n        global.connection.removeEventListener('message', handleMessage);\r\n      }\r\n    };\r\n  }, [global.connection]);\r\n\r\n  return null;\r\n};\r\n\r\nTaskLiveUpdate.propTypes = {\r\n  setTasks: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default TaskLiveUpdate;\r\n","import {\r\n  ComboBox,\r\n  CommandBar, DefaultButton, Icon, makeStyles, PrimaryButton, Separator, Stack,\r\n} from '@fluentui/react';\r\nimport React, { useState, useContext, useEffect } from 'react';\r\nimport { Col, Container, Row } from 'react-grid-system';\r\nimport { DateTime } from 'luxon';\r\nimport { useFetch } from '../../services/hooks';\r\nimport DateUtils from '../../utils/date';\r\nimport TaskService from '../../services/tasks/TaskService';\r\nimport PageHeader from '../shared/page-header';\r\nimport usePanel from '../ui-hooks/usePanel';\r\nimport AddTask from './components/add-task';\r\nimport CurrentDate from './components/current-date/CurrentDate';\r\nimport TaskContainer from './components/task-container/TaskContainer';\r\nimport WorkingHours from './components/working-hours/WorkingHours';\r\nimport GlobalContext from '../../services/GlobalContext';\r\nimport useDialog from '../ui-hooks/useDialog';\r\nimport constants from '../../utils/constants';\r\nimport TaskBusyConflict from './components/task-busy-conflict/TaskBusyConflict';\r\nimport UserService from '../../services/UserService';\r\nimport useLocalStorageState from '../ui-hooks/useLocalStorage';\r\nimport ConnectionService from '../../services/ConnectionService';\r\nimport TaskLiveUpdate from './components/task-live-update/TaskLiveUpdate';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  searchIcon: {\r\n    color: theme.palette.themePrimary,\r\n    marginLeft: theme.spacing.s1,\r\n    marginRight: theme.spacing.s1,\r\n  },\r\n}));\r\n\r\nconst TaskDashboard = () => {\r\n  const classes = useStyles();\r\n  const global = useContext(GlobalContext);\r\n  const [users] = useFetch(UserService.teamUsersPath);\r\n  const [userOptions, setUserOptions] = useState([]);\r\n  const [selectedUsers, setSelectedUsers] = useLocalStorageState('DTSelectedUsers', [global.user.id]);\r\n  const [currentDate, setCurrentDate] = useState(new Date());\r\n  const [hours, setHours] = useLocalStorageState('DTWorkingHours', {\r\n    from: DateTime.utc().set({\r\n      hour: 9, minute: 0, second: 0, millisecond: 0,\r\n    }).toISO(),\r\n    to: DateTime.utc().set({\r\n      hour: 18, minute: 0, second: 0, millisecond: 0,\r\n    }).toISO(),\r\n  }, (h) => ({\r\n    from: DateTime.fromISO(h.from).toUTC(),\r\n    to: DateTime.fromISO(h.to).toUTC(),\r\n  }));\r\n  const options = {\r\n    params: {\r\n      fromDate: DateTime.fromJSDate(currentDate).toUTC().set({\r\n        hour: hours.from.hour,\r\n        minute: hours.from.minute,\r\n        second: 0,\r\n        millisecond: 0,\r\n      }).toJSDate(),\r\n      toDate: DateTime.fromJSDate(currentDate).toUTC().set({\r\n        hour: hours.to.hour,\r\n        minute: hours.to.minute,\r\n        second: 0,\r\n        millisecond: 0,\r\n      }).toJSDate(),\r\n      users: selectedUsers,\r\n    },\r\n  };\r\n  const [tasks, setTasks] = useFetch(\r\n    TaskService.baseUrl,\r\n    options,\r\n    [],\r\n    [currentDate, hours, selectedUsers],\r\n    (data) => data.map((task) => TaskService.createTaskObject(task)),\r\n  );\r\n\r\n  const handleTaskAdd = (task) => {\r\n    const expectedStart = DateTime.fromISO(task.expectedStartDate);\r\n    if (expectedStart >= hours.from && expectedStart <= hours.to) {\r\n      setTasks((prev) => prev.concat(TaskService.createTaskObject(task)));\r\n    }\r\n  };\r\n\r\n  const newPanel = usePanel(\r\n    AddTask, {\r\n      headerText: 'Create new task',\r\n      onRenderFooterContent: () => (\r\n        <PrimaryButton text=\"Create\" type=\"submit\" form=\"create-task-form\" />\r\n      ),\r\n    }, {\r\n      handleAdd: handleTaskAdd,\r\n    },\r\n  );\r\n  const [dialogProps, setDialogProps] = useState({});\r\n  const resolveBusyConflictDialog = useDialog(\r\n    TaskBusyConflict,\r\n    {\r\n      isBlocking: true,\r\n      title: 'Busy task found',\r\n      dialogFooter: (_accept, cancel) => (\r\n        <>\r\n          <DefaultButton onClick={cancel}>Cancel</DefaultButton>\r\n          <PrimaryButton style={{ marginLeft: '5px' }} form=\"task-busy-resolve\" type=\"submit\">Continue</PrimaryButton>\r\n        </>\r\n      ),\r\n    }, dialogProps,\r\n  );\r\n\r\n  useEffect(() => {\r\n    async function run() {\r\n      if (global.connectionId) {\r\n        await ConnectionService.subscribe({ to: selectedUsers, connectionId: global.connectionId });\r\n      }\r\n    }\r\n    run();\r\n  }, [selectedUsers, global.connectionId]);\r\n\r\n  // Update working hours when date is updated\r\n  useEffect(() => {\r\n    setHours((prev) => ({\r\n      from: DateTime.fromJSDate(DateUtils.setDateFromTo(currentDate, prev.from.toJSDate())).toUTC(),\r\n      to: DateTime.fromJSDate(DateUtils.setDateFromTo(currentDate, prev.to.toJSDate())).toUTC(),\r\n    }));\r\n  }, [currentDate]);\r\n\r\n  /**\r\n   * Update user options\r\n   */\r\n  useEffect(() => {\r\n    setUserOptions(users.map((user) => ({\r\n      key: user.id,\r\n      text: user.username,\r\n      data: user,\r\n    })));\r\n  }, [users]);\r\n\r\n  const handleUserSelect = (ev, option) => {\r\n    if (option.selected) {\r\n      setSelectedUsers((prev) => prev.concat(option.key));\r\n    } else {\r\n      setSelectedUsers((prev) => prev.filter((user) => user !== option.key));\r\n    }\r\n  };\r\n\r\n  const handleStatusChange = async (task, status) => {\r\n    if (status === constants.tasks.status.InProgress && !task.isBackgroundTask) {\r\n      // If status to be updated is in progress:\r\n      // 1. Check for conflicts first,\r\n      const conflicts = await TaskService.getBusyTasks({ user: global.user.id });\r\n      // if found, show the dialog\r\n      if (conflicts.length > 0) {\r\n        setDialogProps({\r\n          setTasks,\r\n          conflictTasks: conflicts,\r\n        });\r\n        const answer = await resolveBusyConflictDialog.show();\r\n        if (answer === constants.dialogAnswers.No) return;\r\n      }\r\n    }\r\n    const updated = await TaskService.updateTaskStatus(task.id, { status });\r\n    setTasks((ts) => (ts.map((t) => (t.id === task.id\r\n      ? TaskService.createTaskObject(updated.result)\r\n      : t))));\r\n    // if task was unpaused, update it too\r\n    if (updated.unpaused?.id) {\r\n      setTasks((ts) => (ts.map((t) => (t.id === updated.unpaused.id\r\n        ? TaskService.createTaskObject(updated.unpaused)\r\n        : t))));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <TaskLiveUpdate setTasks={setTasks} />\r\n      <Container lg>\r\n        <PageHeader text=\"Daily tasks\" />\r\n        <Row>\r\n          <Col xs={12}>\r\n            <CurrentDate currentDate={currentDate} setCurrentDate={setCurrentDate} />\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n            <WorkingHours hours={hours} date={currentDate} setHours={setHours} />\r\n          </Col>\r\n        </Row>\r\n        <Separator />\r\n        <Row>\r\n          <Col>\r\n            <CommandBar\r\n              items={[\r\n                {\r\n                  key: 'new',\r\n                  text: 'New',\r\n                  iconProps: {\r\n                    iconName: 'Add',\r\n                  },\r\n                  onClick: () => { newPanel.setOpen(true); },\r\n                },\r\n                {\r\n                  key: 'users',\r\n                  text: 'Users',\r\n                  iconProps: {\r\n                    iconName: 'ProfileSearch',\r\n                  },\r\n                  onRender: () => (\r\n                    <Stack horizontal horizontalAlign=\"center\" verticalAlign=\"center\">\r\n                      <Icon className={classes.searchIcon} iconName=\"ProfileSearch\" />\r\n                      <ComboBox\r\n                        autoComplete=\"on\"\r\n                        options={userOptions}\r\n                        multiSelect\r\n                        selectedKey={selectedUsers}\r\n                        openOnKeyboardFocus\r\n                        onChange={handleUserSelect}\r\n                        calloutProps={{\r\n                          calloutMaxHeight: 500,\r\n                        }}\r\n                      />\r\n                    </Stack>\r\n                  ),\r\n                },\r\n              ]}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Separator />\r\n        <Row justify=\"around\">\r\n          {\r\n              selectedUsers.map((selUser) => (\r\n                <TaskContainer\r\n                  key={selUser}\r\n                  tasks={\r\n                    tasks\r\n                      .filter((task) => task\r\n                        .assignedTo\r\n                        .find((user) => user.id === selUser) !== undefined)\r\n                      .sort((t1, t2) => (t1.expectedStartDate < t2.expectedStartDate ? -1 : 1))\r\n                    }\r\n                  user={users.find((u) => u.id === selUser)}\r\n                  setTasks={setTasks}\r\n                  handleStatusChange={handleStatusChange}\r\n                />\r\n              ))\r\n            }\r\n        </Row>\r\n      </Container>\r\n      {newPanel.render}\r\n      {resolveBusyConflictDialog.render}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TaskDashboard;\r\n","import NotificationService from '../services/NotificationService';\r\n\r\n/**\r\n * Wrapper around servise axios request\r\n * Does the call to the backend, checks for successfull return and returns data\r\n * if Failed, notifies the user\r\n * @param {Function} requestFunc\r\n * @returns Object\r\n */\r\nconst serviceRequestWrapper = async (\r\n  requestFunc,\r\n  successStatusCode = 200,\r\n  showNotification = true,\r\n) => {\r\n  try {\r\n    const response = await requestFunc();\r\n    if (response.status === successStatusCode) {\r\n      return response.data;\r\n    }\r\n    throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n  } catch (err) {\r\n    if (showNotification) {\r\n      NotificationService\r\n        .notifyError((err.response.data && err.response.data.error) || err.message);\r\n    }\r\n    throw err;\r\n  }\r\n};\r\n\r\nexport default serviceRequestWrapper;\r\n","import axios from 'axios';\r\nimport serviceRequestWrapper from '../../utils/serviceRequestWrapper';\r\n\r\nconst TaskFlowService = {\r\n  baseUrl: '/api/task-flows',\r\n  singleUrl: (id) => `/api/task-flows/${id}`,\r\n\r\n  async getTaskFlow(id) {\r\n    return serviceRequestWrapper(() => axios.get(this.singleUrl(id)));\r\n  },\r\n\r\n  async createTaskFlow(data) {\r\n    return serviceRequestWrapper(() => axios.post(this.baseUrl, data));\r\n  },\r\n\r\n  async updateTaskFlow(id, data) {\r\n    return serviceRequestWrapper(() => axios.put(this.singleUrl(id), data));\r\n  },\r\n};\r\n\r\nexport default TaskFlowService;\r\n","import React, { useContext, useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  DefaultButton, Dropdown, Label, PrimaryButton, Stack, SwatchColorPicker, TextField,\r\n} from '@fluentui/react';\r\nimport { PanelContext } from '../../../ui-hooks/usePanel';\r\nimport { useFetch } from '../../../../services/hooks';\r\nimport TeamService from '../../../../services/TeamService';\r\nimport NotificationService from '../../../../services/NotificationService';\r\nimport TaskFlowService from '../../../../services/tasks/TaskFlowService';\r\nimport constants from '../../../../utils/constants';\r\n\r\nconst AddFlow = ({ setFlows }) => {\r\n  const [teams] = useFetch(TeamService.baseUrl);\r\n  const [data, setData] = useState({\r\n    name: '',\r\n    teams: [],\r\n    color: '',\r\n  });\r\n  const panel = useContext(PanelContext);\r\n\r\n  const handleDataChange = (field, func = (args) => args[0].target.value) => (...args) => {\r\n    setData((prev) => ({\r\n      ...prev,\r\n      [field]: func(args),\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async (evt) => {\r\n    evt.preventDefault();\r\n    if (!data.name) {\r\n      return NotificationService.notifyError('Flow Name is missing');\r\n    } if (data.teams.length === 0) {\r\n      return NotificationService.notifyError('Please choose at least one team');\r\n    } if (!data.color) {\r\n      return NotificationService.notifyError('Color must be provided');\r\n    }\r\n    const createdFlow = await TaskFlowService.createTaskFlow(data);\r\n    if (createdFlow) {\r\n      setFlows((prev) => prev.concat(createdFlow));\r\n    }\r\n    if (panel.isPanel) panel.setOpen(false);\r\n    return null;\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (panel.isPanel) {\r\n      panel.setOnRenderFooter(() => (() => (\r\n        <Stack horizontal tokens={{ childrenGap: 2 }}>\r\n          <PrimaryButton text=\"Create\" type=\"submit\" form=\"add-flow-form\" />\r\n          <DefaultButton text=\"Close\" onClick={() => panel.setOpen(false)} />\r\n        </Stack>\r\n      )));\r\n    }\r\n  }, [panel]);\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} id=\"add-flow-form\">\r\n      <TextField\r\n        label=\"Name\"\r\n        value={data.name}\r\n        onChange={handleDataChange('name')}\r\n        placeholder=\"Flow name\"\r\n      />\r\n      <Dropdown\r\n        placeholder=\"Flow teams\"\r\n        label=\"Teams\"\r\n        selectedKeys={data.teams}\r\n        multiSelect\r\n        options={teams.map((team) => ({\r\n          key: team.id,\r\n          text: team.name,\r\n        }))}\r\n        // eslint-disable-next-line no-unused-vars\r\n        onChange={handleDataChange('teams', ([evt, option]) => {\r\n          if (option.selected) return data.teams.concat(option.key);\r\n          return data.teams.filter((team) => team !== option.key);\r\n        })}\r\n      />\r\n      <Label htmlFor=\"add-flow-color-picker\">Color</Label>\r\n      <SwatchColorPicker\r\n        id=\"add-flow-color-picker\"\r\n        columnCount={6}\r\n        cellHeight={35}\r\n        cellWidth={35}\r\n        cellShape=\"square\"\r\n        colorCells={constants.colors.map((color) => ({\r\n          id: color,\r\n          color,\r\n        }))}\r\n        selectedId={data.color}\r\n        onColorChanged={handleDataChange('color', ([id]) => id)}\r\n      />\r\n    </form>\r\n  );\r\n};\r\n\r\nAddFlow.propTypes = {\r\n  setFlows: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default AddFlow;\r\n","import React, { useContext, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  Checkbox,\r\n  DefaultButton, Dropdown, Label, PrimaryButton, Stack, SwatchColorPicker, TextField,\r\n} from '@fluentui/react';\r\nimport { useFetch } from '../../../../services/hooks';\r\nimport TaskFlowService from '../../../../services/tasks/TaskFlowService';\r\nimport TeamService from '../../../../services/TeamService';\r\nimport { PanelContext } from '../../../ui-hooks/usePanel';\r\nimport constants from '../../../../utils/constants';\r\n\r\nconst EditFlow = ({ id, setFlows }) => {\r\n  const [flow, setFlow] = useFetch(TaskFlowService.singleUrl(id), null, null, [], (data) => ({\r\n    name: data.name,\r\n    color: data.color,\r\n    isActive: data.isActive,\r\n    teams: data.teams.map((team) => team.id),\r\n  }));\r\n  const [teams] = useFetch(TeamService.baseUrl);\r\n  const panel = useContext(PanelContext);\r\n\r\n  const handleSubmit = async (evt) => {\r\n    evt.preventDefault();\r\n    const result = await TaskFlowService.updateTaskFlow(id, flow);\r\n    if (result) {\r\n      setFlows((prev) => (prev.map((fl) => (fl.id === result.id ? result : fl))));\r\n    }\r\n    if (panel.isPanel) panel.setOpen(false);\r\n  };\r\n\r\n  const handleDataChange = (field, func = (args) => args[0].target.value) => (...args) => {\r\n    setFlow((prev) => ({\r\n      ...prev,\r\n      [field]: func(args),\r\n    }));\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (panel.isPanel) {\r\n      panel.setOnRenderFooter(() => (() => (\r\n        <Stack horizontal tokens={{ childrenGap: 2 }}>\r\n          <PrimaryButton text=\"Update\" type=\"submit\" form=\"edit-flow-form\" />\r\n          <DefaultButton text=\"Close\" onClick={() => panel.setOpen(false)} />\r\n        </Stack>\r\n      )));\r\n    }\r\n  }, [panel]);\r\n\r\n  return flow !== null && (\r\n    <form onSubmit={handleSubmit} id=\"edit-flow-form\">\r\n      <TextField\r\n        label=\"Name\"\r\n        value={flow?.name}\r\n        onChange={handleDataChange('name')}\r\n        placeholder=\"Flow name\"\r\n      />\r\n      <Dropdown\r\n        placeholder=\"Flow teams\"\r\n        label=\"Teams\"\r\n        selectedKeys={flow?.teams}\r\n        multiSelect\r\n        options={teams.map((team) => ({\r\n          key: team.id,\r\n          text: team.name,\r\n        }))}\r\n        // eslint-disable-next-line no-unused-vars\r\n        onChange={handleDataChange('teams', ([evt, option]) => {\r\n          if (option.selected) return flow?.teams.concat(option.key);\r\n          return flow?.teams?.filter((team) => team !== option.key);\r\n        })}\r\n      />\r\n      <Label htmlFor=\"edit-flow-color-picker\">Color</Label>\r\n      <SwatchColorPicker\r\n        id=\"edit-flow-color-picker\"\r\n        columnCount={6}\r\n        cellHeight={35}\r\n        cellWidth={35}\r\n        cellShape=\"square\"\r\n        colorCells={constants.colors.map((color) => ({\r\n          id: color,\r\n          color,\r\n        }))}\r\n        selectedId={flow?.color}\r\n        onColorChanged={handleDataChange('color', ([colorId]) => colorId)}\r\n      />\r\n      <Checkbox\r\n        label=\"Active\"\r\n        checked={flow?.isActive}\r\n        // eslint-disable-next-line no-unused-vars\r\n        onChange={handleDataChange('isActive', ([ev, checked]) => checked)}\r\n      />\r\n    </form>\r\n  );\r\n};\r\n\r\nEditFlow.propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n  setFlows: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default EditFlow;\r\n","import TaskFlows from './TaskFlows';\r\n\r\nexport default TaskFlows;\r\n","import React, { useState } from 'react';\r\nimport { Col, Container, Row } from 'react-grid-system';\r\nimport {\r\n  DetailsListLayoutMode, PanelType, SelectionMode, Separator,\r\n} from '@fluentui/react';\r\nimport PageHeader from '../shared/page-header';\r\nimport CommandTable from '../shared/command-table/CommandTable';\r\nimport usePanel from '../ui-hooks/usePanel';\r\nimport AddFlow from './components/add-flow/AddFlow';\r\nimport { useFetch } from '../../services/hooks';\r\nimport TaskFlowService from '../../services/tasks/TaskFlowService';\r\nimport EditFlow from './components/edit-flow/EditFlow';\r\n\r\nconst TaskFlows = () => {\r\n  const [flows, setFlows] = useFetch(TaskFlowService.baseUrl);\r\n  const [selectionDetails, setSelectionDetails] = useState({\r\n    count: 0,\r\n    items: [],\r\n    indices: [],\r\n  });\r\n  const addFlowPanel = usePanel(AddFlow, {\r\n    id: 'add-flow-panel',\r\n    headerText: 'Create new flow',\r\n    isFooterAtBottom: true,\r\n    type: PanelType.smallFixedFar,\r\n    isLightDismiss: false,\r\n    onDismiss: (isOpen, setOpen) => (ev) => {\r\n      const panel = document.getElementById('add-flow-panel');\r\n      if (panel) {\r\n        if (panel.contains(ev.target)) {\r\n          setOpen(false);\r\n        }\r\n      }\r\n    },\r\n  }, { setFlows });\r\n\r\n  const editFlowPanel = usePanel(EditFlow, {\r\n    id: 'edit-flow-panel',\r\n    headerText: 'Update flow',\r\n    isFooterAtBottom: true,\r\n    type: PanelType.smallFixedFar,\r\n    isLightDismiss: false,\r\n  }, { id: selectionDetails.items[0]?.id, setFlows });\r\n\r\n  const [columns] = useState([\r\n    {\r\n      key: 'color',\r\n      name: ' Color',\r\n      fieldName: 'color',\r\n      isSortable: true,\r\n      isFilterable: true,\r\n      isResizable: false,\r\n      maxWidth: 50,\r\n      onRender: (item) => (\r\n        <div style={{\r\n          backgroundColor: item.color,\r\n          width: 20,\r\n          height: 20,\r\n        }}\r\n        />\r\n      ),\r\n    },\r\n    {\r\n      key: 'name',\r\n      name: ' Name',\r\n      fieldName: 'name',\r\n      isSortable: true,\r\n      isFilterable: true,\r\n      isResizable: true,\r\n      minWidth: 100,\r\n      maxWidth: 300,\r\n    },\r\n    {\r\n      key: 'status',\r\n      name: ' Status',\r\n      fieldName: 'isActive',\r\n      isSortable: true,\r\n      isFilterable: true,\r\n      isResizable: true,\r\n      onRender: (item) => (item.isActive ? 'Active' : 'Disabled'),\r\n      filterValueAccessor: (item) => (item.isActive ? 'Active' : 'Disabled'),\r\n      minWidth: 100,\r\n      maxWidth: 150,\r\n    },\r\n    {\r\n      key: 'teams',\r\n      name: ' Teams',\r\n      fieldName: 'teams',\r\n      isSortable: true,\r\n      isFilterable: true,\r\n      isResizable: true,\r\n      minWidth: 100,\r\n      maxWidth: 300,\r\n      onRender: (item) => item.teams.map((team) => team.name).join(', '),\r\n    },\r\n  ]);\r\n\r\n  return (\r\n    <Container md>\r\n      <Row>\r\n        <Col>\r\n          <PageHeader text=\"Task Flows\" />\r\n        </Col>\r\n      </Row>\r\n      <Separator />\r\n      <Row>\r\n        <Col>\r\n          <CommandTable\r\n            commandItems={[\r\n              {\r\n                key: 'add',\r\n                text: 'Add',\r\n                iconProps: { iconName: 'Add' },\r\n                onClick: () => addFlowPanel.setOpen(true),\r\n              },\r\n              {\r\n                key: 'edit',\r\n                text: 'Edit',\r\n                iconProps: { iconName: 'Edit' },\r\n                disabled: selectionDetails.items.length === 0,\r\n                onClick: () => editFlowPanel.setOpen(true),\r\n              },\r\n            ]}\r\n            tableProps={{\r\n              items: flows,\r\n              columns,\r\n              selectionMode: SelectionMode.single,\r\n              onItemInvoked: () => editFlowPanel.setOpen(true),\r\n              layoutMode: DetailsListLayoutMode.justified,\r\n              setSelectionDetails,\r\n            }}\r\n          />\r\n        </Col>\r\n      </Row>\r\n      {addFlowPanel.render}\r\n      {editFlowPanel.render}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default TaskFlows;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles, Text } from '@fluentui/react';\r\nimport clsx from 'clsx';\r\nimport Chip from '../../../shared/chip/Chip';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    backgroundColor: theme.palette.neutralLighter,\r\n    height: '100%',\r\n    textAlign: 'center',\r\n    display: 'flex',\r\n    flexFlow: 'column nowrap',\r\n    justifyContent: 'center',\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: theme.palette.themePrimary,\r\n    },\r\n  },\r\n  selected: {\r\n    backgroundColor: theme.palette.themeDark,\r\n  },\r\n  flowItem: {\r\n    padding: 3,\r\n  },\r\n  noSelect: {\r\n    userSelect: 'none',\r\n  },\r\n}));\r\n\r\nconst PlanningCell = ({\r\n  userFlows, handleClick, handleInvoke, isSelected,\r\n}) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div\r\n      role=\"button\"\r\n      tabIndex={0}\r\n      className={clsx([classes.root, isSelected && classes.selected])}\r\n      onClick={handleClick}\r\n      onKeyDown={(evt) => evt.code === 'Enter' && handleClick()}\r\n      onDoubleClick={handleInvoke}\r\n    >\r\n      {\r\n        !userFlows?.flows || userFlows?.flows?.length === 0\r\n          ? <Text className={classes.noSelect} variant=\"medium\">-</Text>\r\n          : (\r\n            <ul>\r\n              {Array.from(userFlows?.flows)?.map((f) => (\r\n                <li className={classes.flowItem} key={f.id}>\r\n                  <Chip\r\n                    className={classes.noSelect}\r\n                    style={{\r\n                      backgroundColor: f.color ?? 'transparent',\r\n                      padding: 3,\r\n                      whiteSpace: 'pre-wrap',\r\n                    }}\r\n                  >\r\n                    <Text variant=\"medium\">{f.name}</Text>\r\n                  </Chip>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          )\r\n      }\r\n    </div>\r\n  );\r\n};\r\n\r\nPlanningCell.propTypes = {\r\n  userFlows: PropTypes.shape({\r\n    flows: PropTypes.arrayOf(PropTypes.shape({})),\r\n  }),\r\n  handleClick: PropTypes.func.isRequired,\r\n  handleInvoke: PropTypes.func.isRequired,\r\n  isSelected: PropTypes.bool.isRequired,\r\n};\r\n\r\nPlanningCell.defaultProps = {\r\n  userFlows: null,\r\n};\r\n\r\nexport default PlanningCell;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Container } from 'react-grid-system';\r\nimport {\r\n  DetailsList,\r\n  DetailsListLayoutMode,\r\n  DetailsRow,\r\n  makeStyles,\r\n  Persona,\r\n  PersonaSize,\r\n  SelectionMode,\r\n  useTheme,\r\n} from '@fluentui/react';\r\nimport { DateTime } from 'luxon';\r\nimport PlanningCell from '../planning-cell/PlanningCell';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  row: {\r\n    color: theme.palette.black,\r\n  },\r\n}));\r\n\r\nconst PlanningMatrix = ({\r\n  userFlowMap, dates, users, selectedCell, setSelectedCell, handleInvoke,\r\n}) => {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const today = DateTime.now().toISODate();\r\n  const userCol = {\r\n    key: 'username',\r\n    name: 'Username',\r\n    fieldName: 'username',\r\n    maxWidth: 300,\r\n    onRender: (item) => (<Persona size={PersonaSize.size24} text={item.username} />),\r\n    isResizable: true,\r\n  };\r\n\r\n  const isSelected = (date, userId) => Boolean(selectedCell?.date\r\n      && selectedCell.date === date\r\n      && selectedCell?.user\r\n      && selectedCell.user === userId);\r\n\r\n  const handleSelectCell = (date, user) => () => {\r\n    setSelectedCell({\r\n      date, user,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Container fluid>\r\n      <DetailsList\r\n        layoutMode={DetailsListLayoutMode.fixedColumns}\r\n        onRenderRow={(props) => (\r\n          <DetailsRow\r\n            className={classes.row}\r\n            // eslint-disable-next-line react/jsx-props-no-spreading\r\n            {...props}\r\n            styles={{\r\n              root: {\r\n                '&:hover': {\r\n                  backgroundColor: 'transparent',\r\n                },\r\n              },\r\n            }}\r\n          />\r\n        )}\r\n        columns={[userCol].concat(dates.map((date) => ({\r\n          key: DateTime.fromJSDate(date).toISODate(),\r\n          name: DateTime.fromJSDate(date).toISODate(),\r\n          minWidth: 100,\r\n          styles: {\r\n            root: {\r\n              border: `1px solid ${DateTime.fromJSDate(date).toISODate() === today ? theme.palette.themePrimary : 'transparent'}`,\r\n            },\r\n          },\r\n          onRender: (item, idx, col) => (\r\n            <PlanningCell\r\n              // eslint-disable-next-line react/prop-types\r\n              userFlows={userFlowMap.get(item.id)?.get(col.key)}\r\n              handleClick={handleSelectCell(col.key, item.id)}\r\n              handleInvoke={handleInvoke}\r\n              isSelected={isSelected(col.key, item.id)}\r\n            />\r\n          ),\r\n        })))}\r\n        items={users}\r\n        selectionMode={SelectionMode.none}\r\n      />\r\n    </Container>\r\n  );\r\n};\r\n\r\nPlanningMatrix.propTypes = {\r\n  userFlowMap: PropTypes.instanceOf(Map).isRequired,\r\n  dates: PropTypes.arrayOf(PropTypes.instanceOf(Date)).isRequired,\r\n  users: PropTypes.arrayOf(PropTypes.shape({\r\n    id: PropTypes.string,\r\n    username: PropTypes.string,\r\n  })).isRequired,\r\n  selectedCell: PropTypes.shape({\r\n    date: PropTypes.string,\r\n    user: PropTypes.string,\r\n  }),\r\n  setSelectedCell: PropTypes.func.isRequired,\r\n  handleInvoke: PropTypes.func.isRequired,\r\n};\r\n\r\nPlanningMatrix.defaultProps = {\r\n  selectedCell: null,\r\n};\r\n\r\nexport default PlanningMatrix;\r\n","import axios from 'axios';\r\nimport serviceRequestWrapper from '../../utils/serviceRequestWrapper';\r\n\r\nconst TaskPlanningService = {\r\n  baseUrl: '/api/task-planning',\r\n  addFlowUrl: (planningId, flowId) => `/api/task-planning/${planningId}/add-flow/${flowId}`,\r\n  removeFlowUrl: (planningId, flowId) => `/api/task-planning/${planningId}/remove-flow/${flowId}`,\r\n\r\n  async createPlanning(date, user, flows) {\r\n    return serviceRequestWrapper(() => axios.post(this.baseUrl, {\r\n      date,\r\n      user,\r\n      flows: flows.map((f) => f.id),\r\n    }));\r\n  },\r\n\r\n  async addFlowToPlanning(planningId, flowId) {\r\n    return serviceRequestWrapper(() => axios.put(this.addFlowUrl(planningId, flowId)));\r\n  },\r\n\r\n  async removeFromFromPlanning(planningId, flowId) {\r\n    return serviceRequestWrapper(() => axios.delete(this.removeFlowUrl(planningId, flowId)));\r\n  },\r\n};\r\n\r\nexport default TaskPlanningService;\r\n","/* eslint-disable react/jsx-props-no-spreading */\r\nimport React, { useMemo } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  BasePickerListBelow, Checkbox, IconButton, Label, makeStyles, Stack, Text,\r\n} from '@fluentui/react';\r\nimport Chip from '../../../shared/chip';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {},\r\n  suggestionRoot: {\r\n    padding: theme.spacing.s2,\r\n  },\r\n  suggestionCheck: {\r\n    marginRight: theme.spacing.s2,\r\n    padding: theme.spacing.s2,\r\n    outline: 'none',\r\n  },\r\n  picker: {\r\n    '& input': {\r\n      backgroundColor: theme.palette.white,\r\n      color: theme.palette.neutralPrimary,\r\n    },\r\n  },\r\n  suggestion: {\r\n    padding: theme.spacing.s1,\r\n  },\r\n  colorBox: {\r\n    width: 20,\r\n    height: 20,\r\n    marginRight: theme.spacing.s1,\r\n  },\r\n  secondaryText: {\r\n    color: theme.palette.neutralSecondaryAlt,\r\n  },\r\n  item: {\r\n    marginTop: 4,\r\n    '&:first-child': {\r\n      marginTop: 8,\r\n    },\r\n  },\r\n  removeIcon: {\r\n    width: 32,\r\n    height: 32,\r\n  },\r\n}));\r\n\r\nconst FlowPicker = ({\r\n  label, options, onSelect, onRemove, selected, showDeleteIcon, showCheckboxes, ...props\r\n}) => {\r\n  const classes = useStyles();\r\n  const selectedSet = useMemo(() => new Set(selected.map((s) => s.key)), [selected]);\r\n\r\n  const handleCheckboxClick = (item) => (ev) => {\r\n    ev.preventDefault();\r\n    ev.stopPropagation();\r\n    if (selectedSet.has(item.key)) {\r\n      return onRemove(item);\r\n    }\r\n    return onSelect(item);\r\n  };\r\n\r\n  const renderSuggestionsItem = (item) => (\r\n    <Stack\r\n      className={classes.suggestionRoot}\r\n      key={item.key}\r\n      horizontalAlign=\"start\"\r\n      verticalAlign=\"center\"\r\n      horizontal\r\n    >\r\n      {\r\n        showCheckboxes\r\n        && (\r\n        <span\r\n          className={classes.suggestionCheck}\r\n          role=\"button\"\r\n          tabIndex={-1}\r\n          onKeyDown={(evt) => (evt.key === 'Space'\r\n            ? renderSuggestionsItem(item)()\r\n            : null)}\r\n          onClick={handleCheckboxClick(item)}\r\n        >\r\n          <Checkbox\r\n            checked={selectedSet.has(item.key)}\r\n          />\r\n        </span>\r\n        )\r\n      }\r\n      <div\r\n        className={classes.colorBox}\r\n        style={{\r\n          backgroundColor: item?.data?.color ?? 'transparent',\r\n        }}\r\n      />\r\n      <Stack horizontalAlign=\"start\">\r\n        <Text variant=\"mediumPlus\">{item.data.name}</Text>\r\n        <Text className={classes.secondaryText} variant=\"xSmall\">{item.data.teams.map((t) => t.name).join(', ')}</Text>\r\n      </Stack>\r\n    </Stack>\r\n  );\r\n\r\n  const renderItem = (details) => (\r\n    <Stack\r\n      key={details.item?.data?.id}\r\n      className={classes.item}\r\n      horizontalAlign=\"center\"\r\n      verticalAlign=\"center\"\r\n      horizontal\r\n    >\r\n      <Chip\r\n        style={{\r\n          backgroundColor: details.item?.data?.color ?? 'transparent',\r\n          padding: 3,\r\n          whiteSpace: 'pre-wrap',\r\n          width: '50%',\r\n          marginLeft: showDeleteIcon ? 32 : 0,\r\n        }}\r\n      >\r\n        <Text variant=\"medium\">{details.item?.data?.name}</Text>\r\n      </Chip>\r\n      {\r\n        showDeleteIcon\r\n      && (\r\n      <IconButton\r\n        className={classes.removeIcon}\r\n        iconProps={{\r\n          iconName: 'Delete',\r\n        }}\r\n        onClick={() => onRemove(details.item)}\r\n      />\r\n      )\r\n      }\r\n    </Stack>\r\n  );\r\n\r\n  const handleSelect = (item) => {\r\n    if (selectedSet.has(item.key)) {\r\n      return onRemove(item);\r\n    }\r\n    return onSelect(item);\r\n  };\r\n\r\n  return (\r\n    <div {...props}>\r\n      { label && (<Label>{label}</Label>) }\r\n      <BasePickerListBelow\r\n        inputProps={{\r\n          placeholder: 'Select...',\r\n        }}\r\n        className={classes.picker}\r\n        onRenderSuggestionsItem={renderSuggestionsItem}\r\n        onResolveSuggestions={(filter) => options\r\n          .filter((o) => o.data.name.toLowerCase().indexOf(filter.toLowerCase()) !== -1)}\r\n        resolveDelay={300}\r\n        onRenderItem={renderItem}\r\n        selectedItems={selected}\r\n        onEmptyResolveSuggestions={() => options}\r\n        onItemSelected={handleSelect}\r\n        pickerCalloutProps={{\r\n          preventDismissOnScroll: true,\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nFlowPicker.propTypes = {\r\n  label: PropTypes.string,\r\n  options: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\r\n  selected: PropTypes.arrayOf(String).isRequired,\r\n  onSelect: PropTypes.func.isRequired,\r\n  onRemove: PropTypes.func.isRequired,\r\n  showDeleteIcon: PropTypes.bool,\r\n  showCheckboxes: PropTypes.bool,\r\n  props: PropTypes.shape({\r\n    style: PropTypes.shape({}),\r\n  }),\r\n};\r\n\r\nFlowPicker.defaultProps = {\r\n  label: null,\r\n  props: null,\r\n  showCheckboxes: true,\r\n  showDeleteIcon: false,\r\n};\r\n\r\nexport default FlowPicker;\r\n","import FlowPicker from './FlowPicker';\r\n\r\nexport default FlowPicker;\r\n","import React, { useMemo } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@fluentui/react';\r\nimport FlowPicker from '../flow-picker';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    minWidth: 300,\r\n    minHeight: 200,\r\n  },\r\n  picker: {\r\n    '& input': {\r\n      backgroundColor: theme.palette.neutralLight,\r\n      color: theme.palette.neutralPrimary,\r\n    },\r\n  },\r\n  secondaryText: {\r\n    color: theme.palette.neutralSecondaryAlt,\r\n  },\r\n  suggestion: {\r\n    padding: theme.spacing.s1,\r\n  },\r\n  item: {\r\n    marginTop: theme.spacing.s1,\r\n  },\r\n  colorBox: {\r\n    width: 20,\r\n    height: 20,\r\n    marginRight: theme.spacing.s1,\r\n  },\r\n  focusPoint: {\r\n    visibility: 'hidden',\r\n    height: 0,\r\n    width: 0,\r\n    margin: 0,\r\n    padding: 0,\r\n    border: 'none',\r\n  },\r\n  removeIcon: {\r\n    width: 32,\r\n    height: 32,\r\n  },\r\n}));\r\n\r\nconst PlanningFlowsDialog = ({\r\n  planning, options, addFlow, removeFlow, users, user,\r\n}) => {\r\n  const classes = useStyles();\r\n\r\n  const validOptions = useMemo(() => {\r\n    const selected = new Set(planning?.flows?.map((f) => f.id));\r\n    const userTeams = new Set(\r\n      users.find((u) => u.id === user)?.teams?.map((t) => t.id),\r\n    );\r\n    const active = options.filter((o) => o.data.isActive);\r\n    const teamFlows = active.filter(\r\n      (o) => o.data.teams.filter((t) => userTeams.has(t.id)).length > 0,\r\n    );\r\n    return teamFlows.filter((o) => !selected.has(o.data.id));\r\n  }, [options, planning, users, user]);\r\n\r\n  const handleSelect = (item) => {\r\n    addFlow(planning, item.data);\r\n  };\r\n\r\n  const handleRemove = (item) => {\r\n    removeFlow(planning, item.data);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <input className={classes.focusPoint} />\r\n      <FlowPicker\r\n        options={validOptions}\r\n        showCheckboxes={false}\r\n        showDeleteIcon\r\n        onSelect={handleSelect}\r\n        onRemove={handleRemove}\r\n        selected={planning ? planning?.flows?.map((f) => ({ key: f.id, data: f })) : []}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nPlanningFlowsDialog.propTypes = {\r\n  planning: PropTypes.shape({\r\n    flows: PropTypes.arrayOf(PropTypes.shape({})),\r\n    user: PropTypes.shape({\r\n      id: PropTypes.string,\r\n    }).isRequired,\r\n  }).isRequired,\r\n  options: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\r\n  addFlow: PropTypes.func.isRequired,\r\n  removeFlow: PropTypes.func.isRequired,\r\n  users: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\r\n  user: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default PlanningFlowsDialog;\r\n","import PlanningFlowsDialog from './PlanningFlowsDialog';\r\n\r\nexport default PlanningFlowsDialog;\r\n","import React, { useMemo, useState } from 'react';\r\nimport { Col, Container, Row } from 'react-grid-system';\r\nimport {\r\n  Calendar,\r\n  ComboBox,\r\n  CommandBar,\r\n  DateRangeType,\r\n  DialogType,\r\n  Icon,\r\n  makeStyles,\r\n  PrimaryButton,\r\n  Separator,\r\n  Stack,\r\n} from '@fluentui/react';\r\nimport { DateTime } from 'luxon';\r\nimport PageHeader from '../shared/page-header';\r\nimport PlanningMatrix from './components/planning-matrix/PlanningMatrix';\r\nimport { useFetch } from '../../services/hooks';\r\nimport TeamService from '../../services/TeamService';\r\nimport TaskPlanningService from '../../services/tasks/TaskPlanningService';\r\nimport useLocalStorageState from '../ui-hooks/useLocalStorage';\r\nimport UserService from '../../services/UserService';\r\nimport DateUtils from '../../utils/date';\r\nimport useDialog from '../ui-hooks/useDialog';\r\nimport PlanningFlowsDialog from './components/planning-flows-dialog';\r\nimport TaskFlowService from '../../services/tasks/TaskFlowService';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  searchIcon: {\r\n    color: theme.palette.themePrimary,\r\n    marginLeft: theme.spacing.s1,\r\n    marginRight: theme.spacing.s1,\r\n  },\r\n}));\r\n\r\nconst TaskPlanning = () => {\r\n  const classes = useStyles();\r\n  const [date, setDate] = useState(new Date());\r\n  const [dates, setDates] = useState(DateUtils.getWeekFromDate(date, 1));\r\n  const [flows] = useFetch(TaskFlowService.baseUrl);\r\n  const [selectedCell, setSelectedCell] = useState(null);\r\n  const [teams] = useFetch(\r\n    TeamService.baseUrl,\r\n    null, [], [],\r\n    (data) => data.map((team) => ({\r\n      key: team.id,\r\n      text: team.name,\r\n      data: team,\r\n    })),\r\n  );\r\n  const [selectedTeam, setSelectedTeam] = useLocalStorageState('TaskPlanningSelectedTeam', null);\r\n  const [users] = useFetch(\r\n    UserService.baseUrl,\r\n    {\r\n      params: {\r\n        teams: [selectedTeam],\r\n      },\r\n    }, [], [selectedTeam],\r\n  );\r\n  const [data, setData] = useFetch(\r\n    TaskPlanningService.baseUrl,\r\n    {\r\n      params: {\r\n        dateFrom: DateUtils.makeUTCDateOnly(dates[0]),\r\n        dateTo: DateUtils.makeUTCDateOnly(dates[dates.length - 1]),\r\n        teams: [selectedTeam],\r\n      },\r\n    },\r\n    [],\r\n    [selectedTeam, dates],\r\n  );\r\n\r\n  const userFlowMap = useMemo(() => {\r\n    const result = new Map();\r\n    // Insert all users in the map\r\n    users.forEach((user) => result.set(user.id, new Map()));\r\n    // For each planning item, assign info to the appropriate user\r\n    data.forEach((item) => {\r\n      if (result.has(item.user?.id)) {\r\n        result.get(item.user.id).set(DateTime.fromISO(item.date).toUTC().toISODate(), item);\r\n      }\r\n    });\r\n    return result;\r\n  }, [data, users]);\r\n\r\n  const handleAddFlow = async (planning, flow) => {\r\n    if (!planning) {\r\n      const result = await TaskPlanningService\r\n        .createPlanning(selectedCell.date, selectedCell.user, [flow]);\r\n      setData((prev) => prev.concat(result));\r\n    } else {\r\n      const result = await TaskPlanningService\r\n        .addFlowToPlanning(planning.id, flow.id);\r\n      setData((prev) => prev.map((plan) => (plan.id === result.id ? result : plan)));\r\n    }\r\n  };\r\n\r\n  const handleRemoveFlow = async (planning, flow) => {\r\n    if (planning?.id) {\r\n      const result = await TaskPlanningService.removeFromFromPlanning(planning.id, flow.id);\r\n      setData((prev) => prev.map((plan) => (plan.id === result.id ? result : plan)));\r\n    }\r\n  };\r\n\r\n  const flowsDialog = useDialog(\r\n    PlanningFlowsDialog,\r\n    {\r\n      title: 'Details',\r\n      type: DialogType.largeHeader,\r\n      dialogFooter: () => (\r\n        // eslint-disable-next-line jsx-a11y/tabindex-no-positive\r\n        <PrimaryButton tabIndex={1} onClick={() => flowsDialog.setVisible(false)} text=\"Close\" />\r\n      ),\r\n    }, {\r\n      planning: userFlowMap.get(selectedCell?.user)?.get(selectedCell?.date),\r\n      options: flows.map((f) => ({\r\n        key: f.id,\r\n        data: f,\r\n      })),\r\n      addFlow: handleAddFlow,\r\n      removeFlow: handleRemoveFlow,\r\n      users,\r\n      user: selectedCell?.user,\r\n    },\r\n  );\r\n\r\n  const handleInvoke = () => {\r\n    flowsDialog.setVisible(true);\r\n  };\r\n\r\n  const handleSelectWeek = (selDate, selDates) => {\r\n    setDate(selDate);\r\n    setDates(selDates);\r\n  };\r\n\r\n  return (\r\n    <Container md>\r\n      <Row>\r\n        <Col>\r\n          <PageHeader text=\"Task Planning\" />\r\n        </Col>\r\n      </Row>\r\n      <Separator />\r\n      <CommandBar\r\n        items={[\r\n          {\r\n            key: 'add',\r\n            text: 'Add',\r\n            iconProps: {\r\n              iconName: 'Add',\r\n            },\r\n            disabled: selectedCell === null,\r\n          },\r\n          {\r\n            key: 'copy',\r\n            text: 'Copy',\r\n            iconProps: {\r\n              iconName: 'Copy',\r\n            },\r\n            disabled: selectedCell === null,\r\n          },\r\n          {\r\n            key: 'paste',\r\n            text: 'Paste',\r\n            iconProps: {\r\n              iconName: 'Paste',\r\n            },\r\n            disabled: selectedCell === null,\r\n          },\r\n          {\r\n            key: 'copymult',\r\n            text: 'Copy mult.',\r\n            iconProps: {\r\n              iconName: 'Copy',\r\n            },\r\n            disabled: selectedCell === null,\r\n          },\r\n          {\r\n            key: 'teams',\r\n            text: 'Teams',\r\n            iconProps: {\r\n              iconName: 'Search',\r\n            },\r\n            onRender: () => (\r\n              <Stack horizontal horizontalAlign=\"center\" verticalAlign=\"center\">\r\n                <Icon className={classes.searchIcon} iconName=\"ProfileSearch\" />\r\n                <ComboBox\r\n                  placeholder=\"Teams\"\r\n                  autoComplete=\"on\"\r\n                  options={teams}\r\n                  selectedKey={selectedTeam}\r\n                  openOnKeyboardFocus\r\n                  onChange={(evt, option) => setSelectedTeam(option.key)}\r\n                  calloutProps={{\r\n                    calloutMaxHeight: 500,\r\n                  }}\r\n                  useComboBoxAsMenuWidth\r\n                />\r\n              </Stack>\r\n            ),\r\n          },\r\n        ]}\r\n      />\r\n      <Separator />\r\n      <Row>\r\n        <Calendar\r\n          isMonthPickerVisible={false}\r\n          dateRangeType={DateRangeType.Week}\r\n          showWeekNumbers\r\n          showSixWeeksByDefault\r\n          showGoToToday\r\n          value={date}\r\n          onSelectDate={handleSelectWeek}\r\n          firstDayOfWeek={1}\r\n        />\r\n        <Col>\r\n          <PlanningMatrix\r\n            userFlowMap={userFlowMap}\r\n            users={users}\r\n            dates={dates}\r\n            selectedCell={selectedCell}\r\n            setSelectedCell={setSelectedCell}\r\n            handleInvoke={handleInvoke}\r\n          />\r\n        </Col>\r\n      </Row>\r\n      {flowsDialog.render}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default TaskPlanning;\r\n","import axios from 'axios';\r\nimport NotificationService from '../NotificationService';\r\n\r\nconst TaskRuleService = {\r\n  baseUrl: '/api/task-rules',\r\n  taskRulePath: (id) => `/api/task-rules/${id}`,\r\n\r\n  async getTaskRules(params = {}) {\r\n    try {\r\n      const response = await axios.get(this.baseUrl, {\r\n        params,\r\n      });\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.data} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async getTaskRule() {\r\n    try {\r\n      // pass\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async createTaskRule(data) {\r\n    try {\r\n      const response = await axios.post(this.baseUrl, data);\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.data} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async updateTaskRule(id, data) {\r\n    try {\r\n      const response = await axios.put(this.taskRulePath(id), data);\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.data} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async deleteTaskRule() {\r\n    try {\r\n      // pass\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n};\r\n\r\nexport default TaskRuleService;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  Checkbox, ChoiceGroup, Stack, makeStyles, Dropdown, SpinButton, Position,\r\n} from '@fluentui/react';\r\nimport constants from '../../../../utils/constants';\r\n\r\nconst monthlyOptions = [\r\n  {\r\n    key: constants.tasks.MonthlyOnType.Day,\r\n    text: 'Callendar day',\r\n  },\r\n  {\r\n    key: constants.tasks.MonthlyOnType.Workday,\r\n    text: 'Workday',\r\n  },\r\n  {\r\n    key: constants.tasks.MonthlyOnType.Monday,\r\n    text: 'Monday',\r\n  },\r\n  {\r\n    key: constants.tasks.MonthlyOnType.Tuesday,\r\n    text: 'Tuesday',\r\n  },\r\n  {\r\n    key: constants.tasks.MonthlyOnType.Wednesday,\r\n    text: 'Wednesday',\r\n  },\r\n  {\r\n    key: constants.tasks.MonthlyOnType.Thursday,\r\n    text: 'Thursday',\r\n  },\r\n  {\r\n    key: constants.tasks.MonthlyOnType.Friday,\r\n    text: 'Friday',\r\n  },\r\n  {\r\n    key: constants.tasks.MonthlyOnType.Saturday,\r\n    text: 'Saturday',\r\n  },\r\n  {\r\n    key: constants.tasks.MonthlyOnType.Sunday,\r\n    text: 'Sunday',\r\n  },\r\n];\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  weeklyCheck: {\r\n    '& > * + *': {\r\n      marginTop: `${theme.spacing.s2} !important`,\r\n    },\r\n  },\r\n  monthlyCheck: {\r\n    '& > * + *': {\r\n      marginTop: `${theme.spacing.s2} !important`,\r\n    },\r\n  },\r\n  monthlyDropdown: {\r\n    marginBottom: theme.spacing.m,\r\n  },\r\n}));\r\n\r\nconst AddRuleType = ({ data, setData }) => {\r\n  const classes = useStyles();\r\n  const options = [\r\n    { key: 'Work', text: 'Workday' },\r\n    { key: 'Calendar', text: 'Calendar day' },\r\n  ];\r\n\r\n  const handleSetWeeklyData = (day) => (evt, checked) => {\r\n    const dt = data.weeklyDays ?? [];\r\n    if (checked) {\r\n      return setData((prev) => ({\r\n        ...prev,\r\n        weeklyDays: dt.concat(day).sort(),\r\n      }));\r\n    }\r\n    return setData((prev) => ({\r\n      ...prev,\r\n      weeklyDays: dt.filter((d) => d !== day).sort(),\r\n    }));\r\n  };\r\n\r\n  const handleSetMonths = (month) => (evt, checked) => {\r\n    const dt = data.monthlyMonths ?? [];\r\n    if (checked) {\r\n      return setData((prev) => ({\r\n        ...prev,\r\n        monthlyMonths: dt.concat(month).sort(),\r\n      }));\r\n    }\r\n    return setData((prev) => ({\r\n      ...prev,\r\n      monthlyMonths: dt.filter((d) => d !== month).sort(),\r\n    }));\r\n  };\r\n\r\n  const isDaySelected = (day) => {\r\n    if (!data.weeklyDays) return false;\r\n    return data.weeklyDays.indexOf(day) !== -1;\r\n  };\r\n\r\n  let render;\r\n\r\n  switch (data.type) {\r\n    case constants.tasks.types.Daily:\r\n      render = (\r\n        <>\r\n          <ChoiceGroup\r\n            label=\"Day type\"\r\n            defaultSelectedKey={data.dailyType}\r\n            options={options}\r\n            onChange={(ev, option) => setData((prev) => ({\r\n              ...prev,\r\n              dailyType: option.key,\r\n            }))}\r\n          />\r\n        </>\r\n      );\r\n      break;\r\n    case constants.tasks.types.Weekly:\r\n      render = (\r\n        <Stack className={classes.weeklyCheck} verticalFill verticalAlign=\"start\">\r\n          <Checkbox onChange={handleSetWeeklyData(1)} checked={isDaySelected(1)} label=\"Monday\" />\r\n          <Checkbox onChange={handleSetWeeklyData(2)} checked={isDaySelected(2)} label=\"Tuesday\" />\r\n          <Checkbox onChange={handleSetWeeklyData(3)} checked={isDaySelected(3)} label=\"Wednesday\" />\r\n          <Checkbox onChange={handleSetWeeklyData(4)} checked={isDaySelected(4)} label=\"Thursday\" />\r\n          <Checkbox onChange={handleSetWeeklyData(5)} checked={isDaySelected(5)} label=\"Friday\" />\r\n          <Checkbox onChange={handleSetWeeklyData(6)} checked={isDaySelected(6)} label=\"Saturday\" />\r\n          <Checkbox onChange={handleSetWeeklyData(7)} checked={isDaySelected(7)} label=\"Sunday\" />\r\n        </Stack>\r\n      );\r\n      break;\r\n    case constants.tasks.types.Monthly:\r\n      render = (\r\n        <Stack verticalAlign=\"start\" verticalFill>\r\n          <SpinButton\r\n            value={data.monthlyOn}\r\n            onChange={(evt, newVal) => {\r\n              if (newVal && !Number.isNaN(+newVal)) {\r\n                setData((prev) => ({\r\n                  ...prev,\r\n                  monthlyOn: +newVal,\r\n                }));\r\n              }\r\n            }}\r\n            min={1}\r\n            max={31}\r\n            label=\"On\"\r\n            incrementButtonAriaLabel=\"Increase value by 1\"\r\n            decrementButtonAriaLabel=\"Decrease value by 1\"\r\n            labelPosition={Position.top}\r\n          />\r\n          <Dropdown\r\n            className={classes.monthlyDropdown}\r\n            options={monthlyOptions}\r\n            placeHolder=\"Select\"\r\n            onChange={(evt, option) => setData((prev) => ({\r\n              ...prev,\r\n              monthlyOnType: option.key,\r\n            }))}\r\n            label=\"Type\"\r\n          />\r\n          <Checkbox className={classes.monthlyCheck} onChange={handleSetMonths(0)} label=\"January\" />\r\n          <Checkbox className={classes.monthlyCheck} onChange={handleSetMonths(1)} label=\"February\" />\r\n          <Checkbox className={classes.monthlyCheck} onChange={handleSetMonths(2)} label=\"March\" />\r\n          <Checkbox className={classes.monthlyCheck} onChange={handleSetMonths(3)} label=\"April\" />\r\n          <Checkbox className={classes.monthlyCheck} onChange={handleSetMonths(4)} label=\"May\" />\r\n          <Checkbox className={classes.monthlyCheck} onChange={handleSetMonths(5)} label=\"June\" />\r\n          <Checkbox className={classes.monthlyCheck} onChange={handleSetMonths(6)} label=\"July\" />\r\n          <Checkbox className={classes.monthlyCheck} onChange={handleSetMonths(7)} label=\"August\" />\r\n          <Checkbox className={classes.monthlyCheck} onChange={handleSetMonths(8)} label=\"September\" />\r\n          <Checkbox className={classes.monthlyCheck} onChange={handleSetMonths(9)} label=\"October\" />\r\n          <Checkbox className={classes.monthlyCheck} onChange={handleSetMonths(10)} label=\"November\" />\r\n          <Checkbox className={classes.monthlyCheck} onChange={handleSetMonths(11)} label=\"December\" />\r\n        </Stack>\r\n      );\r\n      break;\r\n    default:\r\n      render = null;\r\n      break;\r\n  }\r\n\r\n  return render;\r\n};\r\n\r\nAddRuleType.propTypes = {\r\n  setData: PropTypes.func.isRequired,\r\n  data: PropTypes.shape({\r\n    type: PropTypes.string,\r\n    dailyType: PropTypes.string,\r\n  }).isRequired,\r\n};\r\n\r\nexport default AddRuleType;\r\n","import React, { useRef, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  Checkbox,\r\n  Dropdown,\r\n  makeStyles,\r\n  Position,\r\n  SpinButton,\r\n  TextField,\r\n  DatePicker,\r\n  Separator,\r\n  MaskedTextField,\r\n} from '@fluentui/react';\r\nimport { DateTime } from 'luxon';\r\nimport constants from '../../../../utils/constants';\r\nimport UserService from '../../../../services/UserService';\r\nimport AddRuleType from '../add-rule-type/AddRuleType';\r\nimport TaskRuleService from '../../../../services/tasks/TaskRuleService';\r\nimport NotificationService from '../../../../services/NotificationService';\r\nimport { useFetch } from '../../../../services/hooks';\r\nimport DateUtils from '../../../../utils/date';\r\nimport PeoplePicker from '../../../shared/people-picker/PeoplePicker';\r\nimport FlowPicker from '../../../task-planning/components/flow-picker';\r\nimport TaskFlowService from '../../../../services/tasks/TaskFlowService';\r\n\r\nconst { tasks } = constants;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  form: {\r\n    '& > * + *': {\r\n      paddingTop: theme.spacing.s1,\r\n    },\r\n  },\r\n}));\r\n\r\nconst AddRule = ({ setRules, setOpen }) => {\r\n  const classes = useStyles();\r\n  const [users] = useFetch(UserService.teamUsersPath,\r\n    null, [], [],\r\n    (dt) => dt.map((user) => ({\r\n      key: user.id,\r\n      data: user,\r\n    })));\r\n  const [flows] = useFetch(TaskFlowService.baseUrl,\r\n    null, [], [],\r\n    (dt) => dt.map((flow) => ({\r\n      key: flow.id,\r\n      data: flow,\r\n    })));\r\n  const [data, setData] = useState({\r\n    title: '',\r\n    description: '',\r\n    type: tasks.types.Daily,\r\n    dailyType: tasks.DayTypes.Workday,\r\n    isBackgroundTask: false,\r\n    isSharedTask: false,\r\n    taskStartTime: DateUtils.getNearestTimeUTC(DateUtils.transform2UTCDate(new Date())).toJSDate(),\r\n    validFrom: new Date(),\r\n    taskDuration: 60,\r\n    users: [],\r\n    flows: [],\r\n    zone: DateTime.local().zoneName,\r\n  });\r\n  const typeOptions = useRef(Object.keys(tasks.types).map((t) => ({\r\n    key: t,\r\n    text: t,\r\n  })));\r\n\r\n  const handleTypeChange = (evt, item) => {\r\n    setData((prev) => ({\r\n      ...prev,\r\n      type: item.key,\r\n    }));\r\n  };\r\n\r\n  const handleSelectDate = (field) => (date) => {\r\n    setData((prev) => ({\r\n      ...prev,\r\n      [field]: new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate(), 0, 0, 0)),\r\n    }));\r\n  };\r\n\r\n  const handleDataChange = (field, func = (args) => args[0].target.value) => (...args) => {\r\n    setData((prev) => ({\r\n      ...prev,\r\n      [field]: func(args),\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async (evt) => {\r\n    evt.preventDefault();\r\n    if (data.validFrom && data.validTo && data.validTo < data.validFrom) {\r\n      await NotificationService.notifyError(\"'Valid From' cannot be bigger than 'Valid To'\");\r\n      return;\r\n    }\r\n    // Send weeklyDays as an Array of dates instead of numbers\r\n    if (data.weeklyDays && data.weeklyDays.length) {\r\n      data.weeklyDays = data.weeklyDays.map((day) => {\r\n        const date = DateTime.local().toUTC().set({\r\n          weekday: day,\r\n        });\r\n        return date;\r\n      });\r\n    }\r\n    if (data.monthlyMonths && data.monthlyMonths.length) {\r\n      data.monthlyMonths = data.monthlyMonths.map((month) => {\r\n        const date = new Date(2020, 1, 1);\r\n        date.setMonth(month);\r\n        date.setHours(data.taskStartTime.getHours());\r\n        date.setMinutes(data.taskStartTime.getMinutes());\r\n        return date;\r\n      });\r\n    }\r\n    const result = await TaskRuleService.createTaskRule({\r\n      ...data,\r\n      users: data.users.map((u) => u.id),\r\n      flows: data.flows.map((f) => f.id),\r\n    });\r\n    setRules((prev) => [...prev, result]);\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <form className={classes.form} id=\"add-task-rule-form\" onSubmit={handleSubmit}>\r\n      <TextField\r\n        required\r\n        label=\"Title\"\r\n        value={data.title}\r\n        onChange={handleDataChange('title')}\r\n        name=\"task-rule-title\"\r\n      />\r\n      <TextField\r\n        label=\"Description\"\r\n        multiline\r\n        name=\"task-rule-description\"\r\n        onChange={handleDataChange('description')}\r\n        value={data.description}\r\n      />\r\n      <Dropdown\r\n        label=\"Type\"\r\n        selectedKey={data.type}\r\n        onChange={handleTypeChange}\r\n        options={typeOptions.current}\r\n        name=\"task-rule-type\"\r\n      />\r\n      <AddRuleType data={data} setData={setData} />\r\n      <MaskedTextField\r\n        label=\"Start time\"\r\n        mask=\"99:99\"\r\n        maskChar=\"0\"\r\n        value={DateTime.fromJSDate(data.taskStartTime).toUTC().toFormat('HH:mm')}\r\n        onChange={handleDataChange('taskStartTime', (args) => DateTime.fromISO(DateUtils.getValidTimeStringUTC(args[1])).toJSDate())}\r\n      />\r\n      <MaskedTextField\r\n        label=\"End time\"\r\n        mask=\"99:99\"\r\n        maskChar=\"0\"\r\n        value={DateUtils.getEndTimeTextUTC(\r\n          data.taskStartTime,\r\n          data.taskDuration,\r\n        )}\r\n        onChange={\r\n              handleDataChange('taskDuration', (args) => {\r\n                const validTime = DateUtils.getValidTimeStringUTC(args[1]);\r\n                // Check if end time is after start time\r\n                const startDT = DateTime.fromJSDate(data.taskStartTime);\r\n                const endDT = DateTime.fromISO(validTime);\r\n                if (endDT < startDT) return 0;\r\n                return endDT.diff(startDT, 'minute')?.values?.minutes ?? 0;\r\n              })\r\n        }\r\n      />\r\n      <SpinButton\r\n        label=\"Duration (min)\"\r\n        value={data.taskDuration}\r\n        onChange={(evt) => {\r\n          let val = +evt.target.value;\r\n          if (Number.isNaN(val)) val = 0;\r\n          setData((prev) => ({ ...prev, taskDuration: val }));\r\n        }}\r\n        onIncrement={(val) => setData((prev) => ({ ...prev, taskDuration: (+val + 10) }))}\r\n        onDecrement={(val) => {\r\n          if (val > 10) setData((prev) => ({ ...prev, taskDuration: (+val - 10) }));\r\n        }}\r\n        min={0}\r\n        step={10}\r\n        incrementButtonAriaLabel=\"Increase value by 10\"\r\n        decrementButtonAriaLabel=\"Decrease value by 10\"\r\n        labelPosition={Position.top}\r\n      />\r\n      <DatePicker\r\n        required\r\n        label=\"Valid From\"\r\n        value={data.validFrom}\r\n        onSelectDate={handleSelectDate('validFrom')}\r\n      />\r\n      <DatePicker\r\n        label=\"Valid To\"\r\n        value={data.validTo}\r\n        onSelectDate={handleSelectDate('validTo')}\r\n      />\r\n      <Checkbox\r\n        className={classes.checkbox}\r\n        label=\"Background\"\r\n        value={data.isBackgroundTask}\r\n        onChange={(ev, checked) => setData((prev) => ({\r\n          ...prev,\r\n          isBackgroundTask: checked,\r\n        }))}\r\n      />\r\n      <Checkbox\r\n        className={classes.checkbox}\r\n        label=\"Shared\"\r\n        value={data.isSharedTask}\r\n        onChange={(ev, checked) => setData((prev) => ({\r\n          ...prev,\r\n          isSharedTask: checked,\r\n        }))}\r\n      />\r\n      <PeoplePicker\r\n        label=\"Assigned to (Users)\"\r\n        options={users}\r\n        onSelect={(u) => setData((prev) => ({\r\n          ...prev,\r\n          users: prev.users.concat(u.data),\r\n        }))}\r\n        onRemove={(u) => setData((prev) => ({\r\n          ...prev,\r\n          users: prev.users.filter((user) => user.id !== u.data.id),\r\n        }))}\r\n        selected={data.users?.map((u) => ({ key: u.id, data: u }))}\r\n      />\r\n      <Separator />\r\n      <FlowPicker\r\n        label=\"Assigned to (Flows)\"\r\n        options={flows}\r\n        onSelect={(f) => setData((prev) => ({\r\n          ...prev,\r\n          flows: prev.flows?.concat(f.data),\r\n        }))}\r\n        onRemove={(u) => setData((prev) => ({\r\n          ...prev,\r\n          flows: prev.flows?.filter((flow) => flow.id !== u.data.id),\r\n        }))}\r\n        selected={data.flows?.map((f) => ({ key: f.id, data: f }))}\r\n      />\r\n    </form>\r\n  );\r\n};\r\n\r\nAddRule.propTypes = {\r\n  setRules: PropTypes.func.isRequired,\r\n  setOpen: PropTypes.func,\r\n};\r\n\r\nAddRule.defaultProps = {\r\n  setOpen: null,\r\n};\r\n\r\nexport default AddRule;\r\n","import React, {\r\n  useCallback, useContext, useEffect, useState,\r\n} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  Checkbox,\r\n  DefaultButton,\r\n  Icon,\r\n  Label,\r\n  makeStyles,\r\n  Persona,\r\n  PersonaSize,\r\n  Position,\r\n  PrimaryButton,\r\n  Separator,\r\n  SpinButton,\r\n  Stack,\r\n  StackItem,\r\n  Text,\r\n  TextField,\r\n  DatePicker,\r\n  MaskedTextField,\r\n} from '@fluentui/react';\r\nimport { DateTime } from 'luxon';\r\nimport { useFetch } from '../../../../services/hooks';\r\nimport TaskRuleService from '../../../../services/tasks/TaskRuleService';\r\nimport TaskFlowService from '../../../../services/tasks/TaskFlowService';\r\nimport constants from '../../../../utils/constants';\r\nimport { PanelContext } from '../../../ui-hooks/usePanel';\r\nimport DateUtils from '../../../../utils/date';\r\nimport PeoplePicker from '../../../shared/people-picker/PeoplePicker';\r\nimport UserService from '../../../../services/UserService';\r\nimport GlobalContext from '../../../../services/GlobalContext';\r\nimport FlowPicker from '../../../task-planning/components/flow-picker';\r\nimport Chip from '../../../shared/chip';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    '& > * + *': {\r\n      marginTop: `${theme.spacing.s2} !important`,\r\n    },\r\n  },\r\n  description: {\r\n    color: theme.palette.neutralSecondaryAlt,\r\n    '& textarea': {\r\n      color: 'inherit',\r\n    },\r\n  },\r\n  typeIcon: {\r\n    fontSize: 50,\r\n    height: 50,\r\n    width: 50,\r\n  },\r\n  typeDetails: {\r\n    width: '50%',\r\n    borderTop: `1px solid ${theme.palette.themeSecondary}`,\r\n    borderBottom: `1px solid ${theme.palette.themeSecondary}`,\r\n    marginTop: `${theme.spacing.s2} !important`,\r\n    paddingTop: theme.spacing.m,\r\n    paddingBottom: theme.spacing.m,\r\n  },\r\n  paddingLeft: {\r\n    paddingLeft: theme.spacing.s2,\r\n  },\r\n  userColumn: {\r\n    width: '50%',\r\n  },\r\n  separator: {\r\n    margin: `${theme.spacing.m} 0`,\r\n    '& div[role=\\'separator\\']': {\r\n      backgroundColor: theme.palette.themePrimary,\r\n      padding: '3px',\r\n      borderRadius: '5px',\r\n      minWidth: 60,\r\n    },\r\n  },\r\n  weekDay: {\r\n    backgroundColor: theme.palette.themePrimary,\r\n    color: theme.palette.black,\r\n    padding: '5px 10px',\r\n    marginRight: theme.spacing.s2,\r\n  },\r\n  month: {\r\n    backgroundColor: theme.palette.themePrimary,\r\n    color: theme.palette.black,\r\n    padding: '5px 10px',\r\n    marginRight: theme.spacing.s2,\r\n    marginTop: theme.spacing.s2,\r\n  },\r\n}));\r\n\r\nconst weekDays = [null, 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];\r\nconst months = [\r\n  null,\r\n  'January', 'February', 'March', 'April',\r\n  'May', 'June', 'July', 'August',\r\n  'September', 'October', 'November', 'December',\r\n];\r\n\r\nconst getOrdinalSuffix = (number) => {\r\n  switch (number) {\r\n    case 1:\r\n      return 'st';\r\n    case 2:\r\n      return 'nd';\r\n    case 3:\r\n      return 'rd';\r\n    default:\r\n      return 'th';\r\n  }\r\n};\r\n\r\nconst RuleTypeDetails = ({ rule }) => {\r\n  const classes = useStyles();\r\n\r\n  const getTypeIcon = (type) => {\r\n    switch (type) {\r\n      case constants.tasks.types.Daily:\r\n        return 'CalendarDay';\r\n      case constants.tasks.types.Weekly:\r\n        return 'CalendarWorkWeek';\r\n      case constants.tasks.types.Monthly:\r\n        return 'Calendar';\r\n      default:\r\n        return 'Unknown';\r\n    }\r\n  };\r\n\r\n  const getRenderDetails = (ruleDetails) => {\r\n    switch (ruleDetails.type) {\r\n      case constants.tasks.types.Daily:\r\n        return (\r\n          <Stack horizontal horizontalAlign=\"center\" verticalAlign=\"center\">\r\n            <Label>Day type: </Label>\r\n            <Text block className={classes.paddingLeft} variant=\"medium\">\r\n              {rule.dailyType}\r\n            </Text>\r\n          </Stack>\r\n        );\r\n      case constants.tasks.types.Weekly:\r\n        return (\r\n          <Stack horizontalAlign=\"center\" verticalAlign=\"center\">\r\n            <Label style={{ display: 'block' }}>Days: </Label>\r\n            <Stack horizontal horizontalAlign=\"center\">\r\n              {\r\n                rule.weeklyDays.map((day) => (\r\n                  <Chip className={classes.weekDay}>\r\n                    <Text variant=\"medium\">{weekDays[new Date(day).getDay()]}</Text>\r\n                  </Chip>\r\n                ))\r\n              }\r\n            </Stack>\r\n          </Stack>\r\n        );\r\n      case constants.tasks.types.Monthly:\r\n        return (\r\n          <Stack horizontalAlign=\"center\" verticalAlign=\"center\">\r\n            <Label>Occurs on: </Label>\r\n            <Text variant=\"medium\">\r\n              {`${rule.monthlyOn}${getOrdinalSuffix(rule.monthlyOn)} ${rule.monthlyOnType} of the month`}\r\n            </Text>\r\n            <Label>Months:</Label>\r\n            <Stack\r\n              horizontal\r\n              horizontalAlign=\"center\"\r\n              wrap\r\n              tokens={{\r\n                childrenGap: 4,\r\n              }}\r\n            >\r\n              {\r\n                rule.monthlyMonths.map((month) => (\r\n                  <Chip className={classes.month}>\r\n                    <Text variant=\"medium\">{months[month]}</Text>\r\n                  </Chip>\r\n                ))\r\n              }\r\n            </Stack>\r\n          </Stack>\r\n        );\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Separator className={classes.separator}>Type</Separator>\r\n      <Stack horizontalAlign=\"center\">\r\n        <Icon className={classes.typeIcon} iconName={getTypeIcon(rule.type)} />\r\n        <Text variant=\"medium\">{rule.type}</Text>\r\n        <StackItem className={classes.typeDetails}>\r\n          {getRenderDetails(rule)}\r\n        </StackItem>\r\n      </Stack>\r\n    </>\r\n  );\r\n};\r\n\r\nRuleTypeDetails.propTypes = {\r\n  rule: PropTypes.shape({\r\n    type: PropTypes.string,\r\n    dailyType: PropTypes.string,\r\n    weeklyDays: PropTypes.arrayOf(PropTypes.number),\r\n    monthlyOn: PropTypes.number,\r\n    monthlyOnType: PropTypes.string,\r\n    monthlyMonths: PropTypes.arrayOf(PropTypes.number),\r\n  }).isRequired,\r\n};\r\n\r\nconst RuleDetails = ({\r\n  id, editing, setEditing, setRules,\r\n}) => {\r\n  const classes = useStyles();\r\n  const global = useContext(GlobalContext);\r\n  const [rule] = useFetch(id && TaskRuleService.taskRulePath(id), null, null);\r\n  const panel = useContext(PanelContext);\r\n  const [data, setData] = useState({});\r\n  const [users] = useFetch(UserService.baseUrl,\r\n    {\r\n      params: {\r\n        teams: global.user.teams.map((t) => t.id),\r\n      },\r\n    },\r\n    [], [],\r\n    (dt) => dt.map((u) => ({\r\n      key: u.id,\r\n      data: u,\r\n    })));\r\n  const [flows] = useFetch(TaskFlowService.baseUrl,\r\n    null, [], [],\r\n    (flowsData) => flowsData.map((flow) => ({\r\n      key: flow.id,\r\n      data: flow,\r\n    })));\r\n\r\n  const handleUpdate = useCallback(async () => {\r\n    const update = { ...data };\r\n    // If we changed users, map them to their id's\r\n    if (data.users) {\r\n      update.users = data.users.map((u) => u.id);\r\n    }\r\n    // If we changed flows, map them to the ids\r\n    if (data.flows) {\r\n      update.flows = data.flows.map((f) => f.id);\r\n    }\r\n    const result = await TaskRuleService.updateTaskRule(rule.id, update);\r\n    setRules((prev) => prev.map((r) => (r.id === result.id ? result : r)));\r\n    panel.setOpen(false);\r\n    setEditing(false);\r\n  }, [rule, data]);\r\n\r\n  const handleDataChange = (field, func = (args) => args[0].target.value) => (...args) => {\r\n    setData((prev) => ({\r\n      ...prev,\r\n      [field]: func(args),\r\n    }));\r\n  };\r\n\r\n  const renderFooter = useCallback(() => (\r\n    <>\r\n      {\r\n        editing\r\n          ? (<PrimaryButton onClick={handleUpdate}>Save</PrimaryButton>)\r\n          : (<PrimaryButton onClick={() => setEditing(true)}>Edit</PrimaryButton>)\r\n      }\r\n      <DefaultButton\r\n        style={{ marginLeft: '8px' }}\r\n        onClick={() => {\r\n          setEditing(false);\r\n          panel.setOpen(false);\r\n        }}\r\n      >\r\n        Close\r\n      </DefaultButton>\r\n    </>\r\n  ), [panel, editing, handleUpdate]);\r\n\r\n  /**\r\n   * In case it's opened in a panel\r\n   */\r\n  useEffect(() => {\r\n    if (panel.isPanel) {\r\n      panel.setOnRenderFooter(() => (renderFooter));\r\n    }\r\n  }, [panel, renderFooter]);\r\n\r\n  return rule && (\r\n    <Stack className={classes.root} verticalAlign=\"start\">\r\n      <Separator className={classes.separator}>General</Separator>\r\n      <TextField\r\n        borderless={!editing}\r\n        label=\"Title\"\r\n        readOnly={!editing}\r\n        value={data.title ?? rule.title}\r\n        onChange={handleDataChange('title')}\r\n      />\r\n      <TextField\r\n        autoAdjustHeight\r\n        borderless={!editing}\r\n        className={classes.description}\r\n        label=\"Description\"\r\n        multiline\r\n        readOnly={!editing}\r\n        resizable={false}\r\n        value={data.description ?? rule.description ?? '-'}\r\n        onChange={handleDataChange('description')}\r\n      />\r\n      <MaskedTextField\r\n        label=\"Start time\"\r\n        disabled={!editing}\r\n        mask=\"99:99\"\r\n        maskChar=\"0\"\r\n        value={DateUtils.getTimeText(data.taskStartTime ?? new Date(rule.taskStartTime))}\r\n        onChange={\r\n          editing\r\n            ? handleDataChange('taskStartTime', (args) => new Date(DateUtils.getValidTimeStringUTC(args[1])))\r\n            : null\r\n        }\r\n      />\r\n      <MaskedTextField\r\n        label=\"End time\"\r\n        disabled={!editing}\r\n        mask=\"99:99\"\r\n        maskChar=\"0\"\r\n        value={DateUtils.getEndTimeTextUTC(\r\n          data.taskStartTime ?? new Date(rule.taskStartTime),\r\n          (data.taskDuration ?? rule.taskDuration),\r\n        )}\r\n        onChange={\r\n          editing\r\n            ? handleDataChange('taskDuration', (args) => {\r\n              const validTime = DateUtils.getValidTimeStringUTC(args[1]);\r\n              // Check if end time is after start time\r\n              const startDT = DateTime.fromJSDate(\r\n                data.taskStartTime ?? new Date(rule.taskStartTime),\r\n              );\r\n              const endDT = DateTime.fromISO(validTime);\r\n              if (endDT < startDT) return 0;\r\n              return endDT.diff(startDT, 'minute').values.minutes;\r\n            })\r\n            : null\r\n        }\r\n      />\r\n      {\r\n        editing\r\n          ? (\r\n            <SpinButton\r\n              label=\"Duration\"\r\n              labelPosition={Position.top}\r\n              value={data.taskDuration ?? rule.taskDuration}\r\n              onChange={handleDataChange('taskDuration', (args) => (Number.isNaN(+args[0].target.value) ? 0 : +args[0].target.value))}\r\n              onIncrement={(val) => setData((prev) => ({ ...prev, taskDuration: (+val + 10) }))}\r\n              onDecrement={(val) => {\r\n                if (val > 10) setData((prev) => ({ ...prev, taskDuration: (+val - 10) }));\r\n              }}\r\n              type=\"number\"\r\n              min={0}\r\n              max={1440}\r\n              step={10}\r\n            />\r\n          )\r\n          : (\r\n            <TextField\r\n              label=\"Duration\"\r\n              disabled={!editing}\r\n              value={data.taskDuration ?? rule.taskDuration}\r\n              onChange={handleDataChange('taskDuration')}\r\n              min=\"1\"\r\n              max=\"1440\"\r\n              type=\"number\"\r\n            />\r\n          )\r\n      }\r\n      <DatePicker\r\n        borderless={!editing}\r\n        value={data.validFrom ?? new Date(rule.validFrom)}\r\n        disabled={!editing}\r\n        label=\"Valid from\"\r\n        onSelectDate={handleDataChange('validFrom', (args) => DateUtils.makeUTC(args[0]))}\r\n      />\r\n      <DatePicker\r\n        borderless={!editing}\r\n        value={data.validTo ?? (rule.validTo && new Date(rule.validTo))}\r\n        disabled={!editing}\r\n        onSelectDate={handleDataChange('validTo', (args) => DateUtils.makeUTC(args[0]))}\r\n        label=\"Valid to\"\r\n        allowTextInput\r\n      />\r\n      <RuleTypeDetails rule={rule} />\r\n      <Separator className={classes.separator}>Assigned</Separator>\r\n      <Stack horizontal horizontalAlign=\"stretch\" verticalAlign=\"stretch\">\r\n        <StackItem className={classes.userColumn} grow={1}>\r\n          <Stack horizontalAlign=\"center\">\r\n            <Label>Users</Label>\r\n            {\r\n              editing\r\n                ? (\r\n                  <PeoplePicker\r\n                    style={{\r\n                      width: '90%',\r\n                    }}\r\n                    options={users}\r\n                    onSelect={(item) => setData((prev) => {\r\n                      if (prev.users) {\r\n                        return ({\r\n                          ...prev,\r\n                          users: prev.users.concat(item.data),\r\n                        });\r\n                      }\r\n                      return ({\r\n                        ...prev,\r\n                        users: rule.users.concat(item.data),\r\n                      });\r\n                    })}\r\n                    onRemove={(item) => setData((prev) => {\r\n                      if (prev.users) {\r\n                        return ({\r\n                          ...prev,\r\n                          users: prev.users.filter((u) => u.id !== item.data.id),\r\n                        });\r\n                      }\r\n                      return ({\r\n                        ...prev,\r\n                        users: rule.users.filter((u) => u.id !== item.data.id),\r\n                      });\r\n                    })}\r\n                    selected={\r\n                      data.users\r\n                        ? data.users.map((u) => ({ key: u.id, data: u }))\r\n                        : rule.users.map((u) => ({ key: u.id, data: u }))\r\n                    }\r\n                  />\r\n                )\r\n                : (\r\n                  rule.users?.map((user) => (\r\n                    <StackItem align=\"start\" key={user.id}>\r\n                      <Persona text={user.username} size={PersonaSize.size24} />\r\n                    </StackItem>\r\n                  ))\r\n                )\r\n            }\r\n          </Stack>\r\n        </StackItem>\r\n        <Separator vertical />\r\n        <StackItem className={classes.userColumn} grow={1}>\r\n          <Stack horizontalAlign=\"center\">\r\n            <Label>Flows</Label>\r\n            {\r\n              editing\r\n                ? (\r\n                  <FlowPicker\r\n                    style={{ width: '90%' }}\r\n                    options={flows}\r\n                    showCheckboxes\r\n                    showDeleteIcon={false}\r\n                    onSelect={(item) => setData((prev) => {\r\n                      if (prev.flows) {\r\n                        return ({\r\n                          ...prev,\r\n                          flows: prev.flows.concat(item.data),\r\n                        });\r\n                      }\r\n                      return ({\r\n                        ...prev,\r\n                        flows: rule.flows.concat(item.data),\r\n                      });\r\n                    })}\r\n                    onRemove={(item) => setData((prev) => {\r\n                      if (prev.flows) {\r\n                        return ({\r\n                          ...prev,\r\n                          flows: prev.flows.filter((u) => u.id !== item.data.id),\r\n                        });\r\n                      }\r\n                      return ({\r\n                        ...prev,\r\n                        flows: rule.flows.filter((u) => u.id !== item.data.id),\r\n                      });\r\n                    })}\r\n                    selected={\r\n                      data.flows\r\n                        ? data.flows.map((u) => ({ key: u.id, data: u }))\r\n                        : rule.flows.map((u) => ({ key: u.id, data: u }))\r\n                    }\r\n                  />\r\n                )\r\n                : (\r\n                  rule.flows.map((f) => (\r\n                    <Chip\r\n                      style={{\r\n                        backgroundColor: f.color ?? 'transparent',\r\n                        padding: 3,\r\n                        whiteSpace: 'pre-wrap',\r\n                        width: '50%',\r\n                        marginLeft: 32,\r\n                        marginTop: 4,\r\n                      }}\r\n                    >\r\n                      <Text variant=\"medium\">{f.name}</Text>\r\n                    </Chip>\r\n                  ))\r\n                )\r\n            }\r\n          </Stack>\r\n        </StackItem>\r\n      </Stack>\r\n      <Separator className={classes.separator}>Flags</Separator>\r\n      <Checkbox\r\n        checked={data.isBackgroundTask ?? rule.isBackgroundTask}\r\n        label=\"Background\"\r\n        disabled={!editing}\r\n        onChange={handleDataChange('isBackgroundTask', (args) => args[0].target.checked)}\r\n      />\r\n      <Checkbox\r\n        checked={rule.isSharedTask}\r\n        label=\"Shared\"\r\n        disabled\r\n      />\r\n      <Separator className={classes.separator}>Created</Separator>\r\n      <Stack horizontalAlign=\"center\">\r\n        <Text variant=\"medium\">{rule.createdUser?.username}</Text>\r\n        <Text variant=\"medium\">{new Date(rule.createdDate).toLocaleString()}</Text>\r\n      </Stack>\r\n    </Stack>\r\n  );\r\n};\r\n\r\nRuleDetails.propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n  editing: PropTypes.bool.isRequired,\r\n  setEditing: PropTypes.func.isRequired,\r\n  setRules: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default RuleDetails;\r\n","import TaskRules from './TaskRules';\r\n\r\nexport default TaskRules;\r\n","import React, { useState } from 'react';\r\nimport { Col, Container, Row } from 'react-grid-system';\r\nimport {\r\n  DetailsListLayoutMode, PanelType, PrimaryButton, SelectionMode, Separator,\r\n} from '@fluentui/react';\r\nimport PageHeader from '../shared/page-header';\r\nimport CommandTable from '../shared/command-table/CommandTable';\r\nimport TaskRuleService from '../../services/tasks/TaskRuleService';\r\nimport usePanel from '../ui-hooks/usePanel';\r\nimport AddRule from './components/add-rule/AddRule';\r\nimport { useFetch } from '../../services/hooks';\r\nimport RuleDetails from './components/rule-details/RuleDetails';\r\n\r\nconst TaskRules = () => {\r\n  // TODO: later add options to retrieve only tasks of active teams\r\n  const [rules, setRules] = useFetch(TaskRuleService.baseUrl);\r\n  const [selectionDetails, setSelectionDetails] = useState({\r\n    count: 0,\r\n    items: [],\r\n  });\r\n  const newPanel = usePanel(\r\n    AddRule, {\r\n      headerText: 'Create new rule',\r\n      onRenderFooterContent: () => (\r\n        <PrimaryButton text=\"Create\" type=\"submit\" form=\"add-task-rule-form\" />\r\n      ),\r\n    }, {\r\n      setRules,\r\n    },\r\n  );\r\n  const [editing, setEditing] = useState(false);\r\n\r\n  const detailsPanel = usePanel(\r\n    RuleDetails, {\r\n      headerText: 'Rule Details',\r\n      isLightDismiss: !editing,\r\n      type: PanelType.medium,\r\n      isFooterAtBottom: true,\r\n      onDismiss: (_isOpen, setOpen) => () => {\r\n        setEditing(false);\r\n        setOpen(false);\r\n      },\r\n    }, {\r\n      id: selectionDetails.items.length > 0 ? selectionDetails.items[0].id : null,\r\n      editing,\r\n      setEditing,\r\n      setRules,\r\n    },\r\n  );\r\n\r\n  const [sortedColumn] = useState(\r\n    {\r\n      key: 'createdDate',\r\n      name: ' Created on',\r\n      fieldName: 'createdDate',\r\n      isSortable: true,\r\n      isFilterable: true,\r\n      isResizable: true,\r\n      iconName: 'People',\r\n      minWidth: 100,\r\n      maxWidth: 300,\r\n      isSorted: true,\r\n      isSortedDescending: true,\r\n    },\r\n  );\r\n\r\n  const [columns] = useState([\r\n    {\r\n      key: 'title',\r\n      name: ' Title',\r\n      fieldName: 'title',\r\n      isSortable: true,\r\n      isFilterable: true,\r\n      isResizable: true,\r\n      iconName: 'FileTemplate',\r\n      minWidth: 100,\r\n      maxWidth: 300,\r\n    },\r\n    {\r\n      key: 'type',\r\n      name: ' Type',\r\n      fieldName: 'type',\r\n      isSortable: true,\r\n      isFilterable: true,\r\n      isResizable: true,\r\n      iconName: '',\r\n      minWidth: 100,\r\n      maxWidth: 300,\r\n    },\r\n    {\r\n      key: 'users',\r\n      name: ' Users',\r\n      fieldName: 'users',\r\n      isSortable: true,\r\n      isFilterable: true,\r\n      isResizable: true,\r\n      iconName: 'People',\r\n      minWidth: 300,\r\n      maxWidth: 400,\r\n      onRender: (item) => item.users.map((u) => u.username).join(', '),\r\n      sort: (a, b) => (\r\n        a.users[0]?.username?.toLowerCase() < b.users[0]?.username?.toLowerCase()\r\n          ? -1\r\n          : 1\r\n      ),\r\n      filterValueAccessor: (item) => item.users.map((u) => u.username).join(' '),\r\n    },\r\n    {\r\n      key: 'createdDate',\r\n      name: ' Created on',\r\n      fieldName: 'createdDate',\r\n      isSortable: true,\r\n      isFilterable: true,\r\n      isResizable: true,\r\n      iconName: 'People',\r\n      minWidth: 100,\r\n      maxWidth: 300,\r\n      onRender: (item) => (<div>{new Date(item.createdDate).toLocaleString()}</div>),\r\n    },\r\n  ]);\r\n\r\n  return (\r\n    <Container fluid>\r\n      <PageHeader text=\"Rules\" />\r\n      <Separator />\r\n      <Row>\r\n        <Col xs={12}>\r\n          <CommandTable\r\n            commandItems={[\r\n              {\r\n                key: 'createItem',\r\n                text: 'Create',\r\n                iconProps: { iconName: 'BoxAdditionSolid' },\r\n                onClick: () => { newPanel.setOpen(true); },\r\n              },\r\n            ]}\r\n            tableProps={{\r\n              items: rules,\r\n              columns,\r\n              setSelectionDetails,\r\n              selectionMode: SelectionMode.single,\r\n              onItemInvoked: () => detailsPanel.setOpen(true),\r\n              layoutMode: DetailsListLayoutMode.justified,\r\n              sortedCol: sortedColumn,\r\n            }}\r\n          />\r\n        </Col>\r\n      </Row>\r\n      {newPanel.render}\r\n      {detailsPanel.render}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default TaskRules;\r\n","import Tasks from './Tasks';\r\n\r\nexport default Tasks;\r\n","import React from 'react';\r\nimport DocumentTitle from 'react-document-title';\r\nimport { Container } from 'react-grid-system';\r\nimport { useRouteMatch, Switch, Route } from 'react-router-dom';\r\nimport AuthorizationRedirectComponent from '../../components/shared/authorization-redirect-component';\r\nimport TaskDashboard from '../../components/task-dashboard/TaskDashboard';\r\nimport TaskFlows from '../../components/task-flows';\r\nimport TaskPlanning from '../../components/task-planning/TaskPlanning';\r\nimport TaskRules from '../../components/task-rules';\r\nimport constants from '../../utils/constants';\r\n\r\nconst Tasks = () => {\r\n  const { path } = useRouteMatch();\r\n\r\n  return (\r\n    <Container fluid>\r\n      <Switch>\r\n        <Route exact path={`${path}`}>\r\n          <AuthorizationRedirectComponent\r\n            code={constants.securities.TASK.code}\r\n            grant={constants.securities.TASK.grants.read}\r\n            to=\"/\"\r\n            failureNotification={{\r\n              header: 'No Access',\r\n              content: 'No permission to access this page. Please contact your administrator.',\r\n            }}\r\n          >\r\n            <DocumentTitle title=\"Task Dashboard\">\r\n              <TaskDashboard />\r\n            </DocumentTitle>\r\n          </AuthorizationRedirectComponent>\r\n        </Route>\r\n        <Route path={`${path}/planning`}>\r\n          <AuthorizationRedirectComponent\r\n            code={constants.securities.TASK_PLANNING.code}\r\n            grant={constants.securities.TASK_PLANNING.grants.read}\r\n            to=\"/\"\r\n            failureNotification={{\r\n              header: 'No Access',\r\n              content: 'No permission to access this page. Please contact your administrator.',\r\n            }}\r\n          >\r\n            <DocumentTitle title=\"Planning\">\r\n              <TaskPlanning />\r\n            </DocumentTitle>\r\n          </AuthorizationRedirectComponent>\r\n        </Route>\r\n        <Route path={`${path}/task-rules`}>\r\n          <AuthorizationRedirectComponent\r\n            code={constants.securities.TASK_RULE.code}\r\n            grant={constants.securities.TASK_RULE.grants.read}\r\n            to=\"/\"\r\n            failureNotification={{\r\n              header: 'No Access',\r\n              content: 'No permission to access this page. Please contact your administrator.',\r\n            }}\r\n          >\r\n            <DocumentTitle title=\"Task Rules\">\r\n              <TaskRules />\r\n            </DocumentTitle>\r\n          </AuthorizationRedirectComponent>\r\n        </Route>\r\n        <Route path={`${path}/task-flows`}>\r\n          <AuthorizationRedirectComponent\r\n            code={constants.securities.TASK_FLOW.code}\r\n            grant={constants.securities.TASK_FLOW.grants.read}\r\n            to=\"/\"\r\n            failureNotification={{\r\n              header: 'No Access',\r\n              content: 'No permission to access this page. Please contact your administrator.',\r\n            }}\r\n          >\r\n            <DocumentTitle title=\"Flows\">\r\n              <TaskFlows />\r\n            </DocumentTitle>\r\n          </AuthorizationRedirectComponent>\r\n        </Route>\r\n        <Route exact path={`${path}/:id`}>\r\n          <AuthorizationRedirectComponent\r\n            code={constants.securities.TASK.code}\r\n            grant={constants.securities.TASK.grants.read}\r\n            to=\"/\"\r\n            failureNotification={{\r\n              header: 'No Access',\r\n              content: 'No permission to access this page. Please contact your administrator.',\r\n            }}\r\n          >\r\n            <DocumentTitle title=\"Task\">\r\n              <div>Task</div>\r\n            </DocumentTitle>\r\n          </AuthorizationRedirectComponent>\r\n        </Route>\r\n      </Switch>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Tasks;\r\n","import { useContext, useEffect } from 'react';\r\nimport ConnectionService from '../../../services/ConnectionService';\r\nimport GlobalContext from '../../../services/GlobalContext';\r\n\r\nconst ConnectionManager = () => {\r\n  const global = useContext(GlobalContext);\r\n  // ConnectionService.connectSSE();\r\n\r\n  useEffect(() => {\r\n    async function run() {\r\n      if (global.user) {\r\n        const con = await ConnectionService.connectSSE();\r\n        con.addEventListener('init', (evt) => {\r\n          global.setContext((prev) => ({\r\n            ...prev,\r\n            connectionId: JSON.parse(evt.data)[0],\r\n            connection: con,\r\n          }));\r\n        });\r\n      }\r\n    }\r\n    run();\r\n  }, [global.user]);\r\n\r\n  return null;\r\n};\r\n\r\nexport default ConnectionManager;\r\n","import {\n  KeytipLayer, KeyCodes, ThemeProvider,\n} from '@fluentui/react';\nimport DocumentTitle from 'react-document-title';\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch,\n} from 'react-router-dom';\nimport React, {\n  useState, useEffect, useContext, Suspense,\n} from 'react';\nimport GlobalContext from '../../services/GlobalContext';\nimport AuthorizationService from '../../services/AuthorizationService';\nimport UserInfoProvider from '../shared/user-info-provider';\nimport UserSecuritiesProvider from '../shared/user-securities-provider';\nimport Navigation from '../navigation/Navigation';\nimport AppraisalsPage from '../../routes/appraisals';\nimport SettingsPage from '../../routes/settings';\nimport ReportingPage from '../../routes/reporting';\nimport LoginRequired from '../shared/login-required';\nimport LoginPage from '../../routes/login';\nimport { selectTheme } from '../../themes';\nimport NotificationContainer from '../notification/NotificationContainer';\nimport Tasks from '../../routes/tasks';\nimport ConnectionManager from '../shared/connection-manager/ConnectionManager';\n\nconst HomePage = React.lazy(() => import('../../routes/home'));\n\nconst App = () => {\n  const [context, setContext] = useState({\n    user: null,\n    Authorize: AuthorizationService.Authorize,\n    setContext: null,\n    userPreferences: {\n      theme: selectTheme(),\n    },\n  });\n  const initContext = useContext(GlobalContext);\n\n  const { userPreferences } = context;\n  const { theme } = userPreferences;\n\n  useEffect(() => {\n    setContext((prev) => ({\n      ...initContext,\n      ...prev,\n      setContext,\n    }));\n  }, [initContext]);\n\n  return (\n    <GlobalContext.Provider value={context}>\n      <ThemeProvider applyTo=\"body\" theme={theme}>\n        <ConnectionManager />\n        <NotificationContainer timeout={100000} />\n        <Router>\n          <UserInfoProvider ctx={context} setCtx={setContext} />\n          <UserSecuritiesProvider />\n          <Navigation />\n          <LoginRequired />\n          <KeytipLayer\n            keytipStartSequences={[{\n              key: 'a',\n              modifierKeys: [KeyCodes.alt],\n            }]}\n          />\n          {/* The page switch */}\n          <Switch>\n            <div style={{ marginTop: '40px' }}>\n              <Route path=\"/appraisals\">\n                <DocumentTitle title=\"Appraisals\">\n                  <AppraisalsPage ctx={context} setCtx={setContext} />\n                </DocumentTitle>\n              </Route>\n              <Route path=\"/audits\">\n                <DocumentTitle title=\"Audits\">\n                  <h1>IN PROGRESS</h1>\n                </DocumentTitle>\n              </Route>\n              <Route path=\"/reporting\">\n                <DocumentTitle title=\"Reporting\">\n                  <ReportingPage ctx={context} setCtx={setContext} />\n                </DocumentTitle>\n              </Route>\n              <Route path=\"/settings\">\n                <DocumentTitle title=\"Settings\">\n                  <SettingsPage />\n                </DocumentTitle>\n              </Route>\n              <Route path=\"/tasks\">\n                <DocumentTitle title=\"Tasks\">\n                  <Tasks />\n                </DocumentTitle>\n              </Route>\n              <Route path=\"/login\">\n                <DocumentTitle title=\"Sign in\">\n                  <LoginPage ctx={context} setCtx={setContext} />\n                </DocumentTitle>\n              </Route>\n              <Route exact path=\"/\">\n                <Suspense fallback={<div>Loading...</div>}>\n                  <HomePage ctx={context} setCtx={setContext} />\n                </Suspense>\n              </Route>\n            </div>\n          </Switch>\n        </Router>\n      </ThemeProvider>\n    </GlobalContext.Provider>\n  );\n};\n\nexport default App;\n","import App from './App';\n\nexport default App;\n","/* eslint-disable react/jsx-filename-extension */\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { initializeIcons } from '@uifabric/icons';\nimport App from './components/app';\nimport './styles/reset.css';\n\ninitializeIcons();\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","import Accordion from './Accordion';\r\n\r\nexport default Accordion;\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  DefaultButton, makeStyles, Panel, PanelType, PrimaryButton, Separator, Stack, Text, TextField,\r\n} from '@fluentui/react';\r\nimport { Col, Container, Row } from 'react-grid-system';\r\nimport { downloadBlob } from 'download.js';\r\nimport ReportingService from '../../../../services/ReportingService';\r\nimport Accordion from '../../../shared/accordion';\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  root: {\r\n    '& > * + *': {\r\n      marginTop: '16px',\r\n    },\r\n  },\r\n}));\r\n\r\nconst CreateTemplatePanel = ({ isOpen, setOpen }) => {\r\n  const classes = useStyles();\r\n  const [aggregation, setAggregation] = useState('');\r\n  const [name, setName] = useState('');\r\n  const [file, setFile] = useState(null);\r\n  const [sample, setSample] = useState('');\r\n  const [openAcordion, setOpenAccordion] = useState({\r\n    aggregation: true,\r\n    sample: false,\r\n  });\r\n\r\n  const handleChange = (set) => (evt) => {\r\n    if (evt && evt.target) {\r\n      if (set) set(evt.target.value);\r\n    }\r\n  };\r\n\r\n  const handleFileUpload = (evt) => {\r\n    if (evt && evt.target) {\r\n      const filelist = evt.target.files;\r\n      if (filelist.length > 0) {\r\n        setFile(filelist[0]);\r\n      } else {\r\n        setFile(null);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleGenerate = async () => {\r\n    const formData = new FormData();\r\n    formData.append('aggregation', aggregation);\r\n    formData.append('name', name);\r\n    formData.append('template', file);\r\n\r\n    const result = await ReportingService.generateTemplate(formData);\r\n    await downloadBlob(file.name, result);\r\n  };\r\n\r\n  const handleSample = async () => {\r\n    const result = await ReportingService.getSample(aggregation);\r\n    if (result && result.data) {\r\n      setSample(JSON.stringify(result.data, null, 4));\r\n      setOpenAccordion({\r\n        aggregation: false,\r\n        sample: true,\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    const formData = new FormData();\r\n    formData.append('aggregation', aggregation);\r\n    formData.append('name', name);\r\n    formData.append('template', file);\r\n\r\n    await ReportingService.createTemplate(formData);\r\n    setOpen(false);\r\n  };\r\n\r\n  const onRenderFooter = () => (\r\n    <Stack\r\n      horizontal\r\n      horizontalAlign=\"start\"\r\n      tokens={{\r\n        childrenGap: 10,\r\n      }}\r\n    >\r\n      <PrimaryButton type=\"submit\" form=\"new-template-form\">Create</PrimaryButton>\r\n      <DefaultButton onClick={handleSample}>Sample</DefaultButton>\r\n      <DefaultButton onClick={handleGenerate}>Generate</DefaultButton>\r\n      <DefaultButton onClick={() => setOpen(false)}>Cancel</DefaultButton>\r\n    </Stack>\r\n  );\r\n\r\n  return (\r\n    <Panel\r\n      isOpen={isOpen}\r\n      onDismiss={() => setOpen(false)}\r\n      headerText=\"Create template\"\r\n      type={PanelType.large}\r\n      onRenderFooterContent={onRenderFooter}\r\n    >\r\n      <form id=\"new-template-form\" onSubmit={handleSubmit}>\r\n        <Container\r\n          fluid\r\n          className={classes.root}\r\n        >\r\n          <Separator>Aggregation</Separator>\r\n          <Row justify=\"center\">\r\n            <Text variant=\"mediumPlus\">\r\n              Create a valid MongoDB aggregation.\r\n              Test and verify if it returns valid info below.\r\n              For more info, refer to MongoDB\r\n              {' '}\r\n              <a href=\"https://docs.mongodb.com/manual/aggregation/\" target=\"_blank\" rel=\"noopener noreferrer\">documentation</a>\r\n              .\r\n            </Text>\r\n          </Row>\r\n          <Accordion\r\n            items={[\r\n              {\r\n                key: 'aggregation',\r\n                text: 'Aggregation',\r\n                isOpen: openAcordion.aggregation,\r\n                render: () => (\r\n                  <Row>\r\n                    <Col xs={12}>\r\n                      <TextField\r\n                        multiline\r\n                        value={aggregation}\r\n                        onChange={handleChange(setAggregation)}\r\n                        autoAdjustHeight\r\n                        required\r\n                      />\r\n                    </Col>\r\n                  </Row>\r\n                ),\r\n              },\r\n              {\r\n                key: 'sample',\r\n                text: 'Sample Data',\r\n                isOpen: openAcordion.sample,\r\n                render: () => (\r\n                  <Row>\r\n                    <Col xs={12}>\r\n                      <TextField\r\n                        multiline\r\n                        readOnly\r\n                        value={sample}\r\n                        autoAdjustHeight\r\n                      />\r\n                    </Col>\r\n                  </Row>\r\n                ),\r\n              },\r\n            ]}\r\n            onRenderItem={(item) => item.render()}\r\n            onToggle={(evt, item, open) => setOpenAccordion((prev) => ({\r\n              ...prev,\r\n              [item.key]: open,\r\n            }))}\r\n          />\r\n          <Separator>Template</Separator>\r\n          <Row justify=\"center\">\r\n            <Text variant=\"mediumPlus\">\r\n              Specify your template name, then attach your template file.\r\n              { ' ' }\r\n              (Ex: All user info, or Items per user).\r\n            </Text>\r\n          </Row>\r\n          <Row>\r\n            <Col xs={12}>\r\n              <TextField\r\n                label=\"Template name\"\r\n                value={name}\r\n                onChange={handleChange(setName)}\r\n                required\r\n              />\r\n              <TextField\r\n                styles={{\r\n                  fieldGroup: {\r\n                    padding: '8px',\r\n                    height: 'auto',\r\n                  },\r\n                }}\r\n                onChange={handleFileUpload}\r\n                type=\"file\"\r\n                label=\"Template file\"\r\n                required\r\n              />\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </form>\r\n    </Panel>\r\n  );\r\n};\r\n\r\nCreateTemplatePanel.propTypes = {\r\n  isOpen: PropTypes.bool.isRequired,\r\n  setOpen: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default CreateTemplatePanel;\r\n","import CreateTemplatePanel from './CreateTemplatePanel';\r\n\r\nexport default CreateTemplatePanel;\r\n","import React, { useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  ActionButton,\r\n  DefaultButton, makeStyles, Panel, PanelType, PrimaryButton, Separator, Stack, TextField,\r\n} from '@fluentui/react';\r\nimport { Col, Container, Row } from 'react-grid-system';\r\nimport ReportingService from '../../../../services/ReportingService';\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  root: {\r\n    '& > * + *': {\r\n      marginTop: '16px',\r\n    },\r\n  },\r\n}));\r\n\r\nconst TemplateDetailsPanel = ({\r\n  id, isOpen, setOpen, setEdit,\r\n}) => {\r\n  const classes = useStyles();\r\n  const [template, setTemplate] = useState(null);\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    async function run() {\r\n      const data = await ReportingService.getTemplate(id);\r\n      if (mounted) {\r\n        setTemplate(data);\r\n      }\r\n    }\r\n    if (id) run();\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, [id]);\r\n\r\n  const handleDownload = () => {\r\n    ReportingService.downloadTemplate(id, template.filename || 'template');\r\n  };\r\n\r\n  const handleEdit = () => {\r\n    setEdit(true);\r\n    setOpen(false);\r\n  };\r\n\r\n  const onRenderFooter = () => (\r\n    <Stack\r\n      horizontal\r\n      horizontalAlign=\"start\"\r\n      tokens={{\r\n        childrenGap: 10,\r\n      }}\r\n    >\r\n      <PrimaryButton onClick={handleEdit}>Edit</PrimaryButton>\r\n      <DefaultButton onClick={() => setOpen(false)}>Close</DefaultButton>\r\n    </Stack>\r\n  );\r\n\r\n  return (\r\n    <Panel\r\n      isOpen={isOpen}\r\n      onDismiss={() => setOpen(false)}\r\n      headerText={`Details - ${template ? template.name : ''}`}\r\n      type={PanelType.large}\r\n      onRenderFooterContent={onRenderFooter}\r\n      isLightDismiss\r\n    >\r\n      <Container\r\n        fluid\r\n        className={classes.root}\r\n      >\r\n        <Separator>General</Separator>\r\n        {\r\n          template\r\n          && (\r\n            <>\r\n              <Row justify=\"start\">\r\n                <Col xs={12} sm={8} md={4}>\r\n                  <TextField label=\"Name: \" value={template && template.name} readOnly underlined />\r\n                  <TextField label=\"Created by: \" value={template && template.createdUser && template.createdUser.username} readOnly underlined />\r\n                  <TextField label=\"Created on: \" value={template && new Date(template.createdDate).toLocaleString()} readOnly underlined />\r\n                  {\r\n              template.modifiedUser\r\n              && (\r\n              <>\r\n                <TextField label=\"Modified by: \" value={template.modifiedUser.username} readOnly underlined />\r\n                <TextField label=\"Modified on: \" value={template.modifiedDate && new Date(template.modifiedDate).toLocaleString()} readOnly underlined />\r\n              </>\r\n              )\r\n            }\r\n                </Col>\r\n              </Row>\r\n              <Separator>Details</Separator>\r\n              <Row justify=\"start\">\r\n                <Col xs={12} sm={8} md={4}>\r\n                  <TextField label=\"Filename: \" value={template.filename} readOnly underlined />\r\n                </Col>\r\n                <Col xs={12} sm={8} md={4}>\r\n                  <ActionButton\r\n                    iconProps={{\r\n                      iconName: 'DownloadDocument',\r\n                    }}\r\n                    text=\"Download template\"\r\n                    onClick={handleDownload}\r\n                  />\r\n                </Col>\r\n              </Row>\r\n              <Row justify=\"start\">\r\n                <Col xs={12} sm={8} md={6}>\r\n                  <TextField\r\n                    readOnly\r\n                    multiline\r\n                    autoAdjustHeight\r\n                    value={template.aggregation || ''}\r\n                    label=\"Aggregation\"\r\n                  />\r\n                </Col>\r\n              </Row>\r\n            </>\r\n          )\r\n        }\r\n      </Container>\r\n    </Panel>\r\n  );\r\n};\r\n\r\nTemplateDetailsPanel.propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n  isOpen: PropTypes.bool.isRequired,\r\n  setOpen: PropTypes.func.isRequired,\r\n  setEdit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default TemplateDetailsPanel;\r\n","import TemplateDetailsPanel from './TemplateDetailsPanel';\r\n\r\nexport default TemplateDetailsPanel;\r\n","import React, { useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  ActionButton,\r\n  DefaultButton, Icon, makeStyles, Panel, PanelType, PrimaryButton, Separator, Stack, TextField,\r\n} from '@fluentui/react';\r\nimport { Col, Container, Row } from 'react-grid-system';\r\nimport ReportingService from '../../../../services/ReportingService';\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  root: {\r\n    '& > * + *': {\r\n      marginTop: '16px',\r\n    },\r\n  },\r\n}));\r\n\r\nconst TemplateEditPanel = ({\r\n  id, isOpen, updateTemplates, setOpen,\r\n}) => {\r\n  const classes = useStyles();\r\n  const [template, setTemplate] = useState({});\r\n  const [update, setUpdate] = useState({});\r\n  const [file, setFile] = useState(null);\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    async function run() {\r\n      const data = await ReportingService.getTemplate(id);\r\n      if (mounted) {\r\n        setTemplate(data);\r\n        setUpdate({\r\n          name: data.name,\r\n          filename: data.filename,\r\n          aggregation: data.aggregation,\r\n        });\r\n      }\r\n    }\r\n    if (id) {\r\n      run();\r\n    }\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, [id]);\r\n\r\n  const handleUpdate = (field) => (evt) => {\r\n    if (evt && evt.target) {\r\n      setUpdate((prev) => ({\r\n        ...prev,\r\n        [field]: evt.target.value,\r\n      }));\r\n    }\r\n  };\r\n\r\n  const handleFileUpload = (evt) => {\r\n    if (evt && evt.target) {\r\n      const filelist = evt.target.files;\r\n      if (filelist.length > 0) {\r\n        setFile(filelist[0]);\r\n        setUpdate((prev) => ({\r\n          ...prev,\r\n          filename: filelist[0].name,\r\n        }));\r\n      } else {\r\n        setFile(null);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleDownload = () => {\r\n    ReportingService.downloadTemplate(id, template.filename || 'template');\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    const formData = new FormData();\r\n    formData.append('aggregation', update.aggregation);\r\n    formData.append('name', update.name);\r\n    formData.append('filename', update.filename);\r\n    if (file) formData.append('template', file);\r\n    const updateResult = await ReportingService.updateTemplate(template.id, formData);\r\n    setTemplate(updateResult);\r\n    updateTemplates(updateResult);\r\n    setOpen(false);\r\n  };\r\n\r\n  const onRenderLabel = (labelId, controlId, iconName) => (options) => (\r\n    <label\r\n      style={{\r\n        lineHeight: '2em',\r\n        fontWeight: 600,\r\n      }}\r\n      htmlFor={controlId}\r\n      id={labelId}\r\n    >\r\n      <Icon iconName={iconName} />\r\n      { ' ' }\r\n      {options.label}\r\n    </label>\r\n  );\r\n\r\n  const onRenderFooter = () => (\r\n    <Stack\r\n      horizontal\r\n      horizontalAlign=\"start\"\r\n      tokens={{\r\n        childrenGap: 10,\r\n      }}\r\n    >\r\n      <PrimaryButton onClick={handleSave}>Update</PrimaryButton>\r\n      <DefaultButton onClick={() => setOpen(false)}>Close</DefaultButton>\r\n    </Stack>\r\n  );\r\n\r\n  return (\r\n    <Panel\r\n      isOpen={isOpen}\r\n      onDismiss={() => setOpen(false)}\r\n      headerText={`Edit - ${template ? template.name : ''}`}\r\n      type={PanelType.large}\r\n      onRenderFooterContent={onRenderFooter}\r\n    >\r\n      <Container\r\n        fluid\r\n        className={classes.root}\r\n      >\r\n        <Separator>General</Separator>\r\n        {\r\n          template\r\n          && (\r\n            <>\r\n              <Row justify=\"start\">\r\n                <Col xs={12} sm={8} md={4}>\r\n                  <TextField\r\n                    onRenderLabel={onRenderLabel(\r\n                      'label-aggregation-edit',\r\n                      'aggregation-edit',\r\n                      'Edit',\r\n                    )}\r\n                    label=\"Name: \"\r\n                    value={update && update.name}\r\n                    onChange={handleUpdate('name')}\r\n                    underlined\r\n                  />\r\n                  <TextField label=\"Created by: \" value={template && template.createdUser && template.createdUser.username} readOnly underlined tabIndex={-1} />\r\n                  <TextField label=\"Created on: \" value={template && new Date(template.createdDate).toLocaleString()} readOnly underlined tabIndex={-1} />\r\n                  {\r\n              template.modifiedUser\r\n              && (\r\n              <>\r\n                <TextField label=\"Modified by: \" value={template.modifiedUser.username} readOnly underlined tabIndex={-1} />\r\n                <TextField label=\"Modified on: \" value={template.modifiedDate && new Date(template.modifiedDate).toLocaleString()} readOnly underlined tabIndex={-1} />\r\n              </>\r\n              )\r\n            }\r\n                </Col>\r\n              </Row>\r\n              <Separator>Details</Separator>\r\n              <Row justify=\"start\">\r\n                <Col xs={12} sm={8} md={4}>\r\n                  <TextField\r\n                    onRenderLabel={onRenderLabel(\r\n                      'label-aggregation-edit',\r\n                      'aggregation-edit',\r\n                      'Edit',\r\n                    )}\r\n                    label=\"Filename: \"\r\n                    value={update.filename}\r\n                    onChange={handleUpdate('filename')}\r\n                    underlined\r\n                  />\r\n                </Col>\r\n                <Col xs={12} sm={8} md={4}>\r\n                  <ActionButton\r\n                    iconProps={{\r\n                      iconName: 'DownloadDocument',\r\n                    }}\r\n                    text=\"Download template\"\r\n                    onClick={handleDownload}\r\n                  />\r\n                </Col>\r\n              </Row>\r\n              <Row justify=\"start\">\r\n                <Col xs={12} sm={8} md={4}>\r\n                  <TextField\r\n                    styles={{\r\n                      fieldGroup: {\r\n                        padding: '8px',\r\n                        height: 'auto',\r\n                      },\r\n                    }}\r\n                    onChange={handleFileUpload}\r\n                    type=\"file\"\r\n                    label=\"Template file\"\r\n                  />\r\n                </Col>\r\n              </Row>\r\n              <Row justify=\"start\">\r\n                <Col xs={12} sm={8} md={6}>\r\n                  <TextField\r\n                    onRenderLabel={onRenderLabel(\r\n                      'label-aggregation-edit',\r\n                      'aggregation-edit',\r\n                      'Edit',\r\n                    )}\r\n                    multiline\r\n                    autoAdjustHeight\r\n                    value={update.aggregation || ''}\r\n                    onChange={handleUpdate('aggregation')}\r\n                    label=\"Aggregation\"\r\n                    aria-labelledby=\"label-aggregation-edit\"\r\n                    id=\"aggregation-edit\"\r\n                  />\r\n                </Col>\r\n              </Row>\r\n            </>\r\n          )\r\n        }\r\n      </Container>\r\n    </Panel>\r\n  );\r\n};\r\n\r\nTemplateEditPanel.propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n  isOpen: PropTypes.bool.isRequired,\r\n  setOpen: PropTypes.func.isRequired,\r\n  updateTemplates: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default TemplateEditPanel;\r\n","import {\r\n  DetailsListLayoutMode, Icon, SelectionMode, Separator,\r\n} from '@fluentui/react';\r\nimport React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Col, Container, Row } from 'react-grid-system';\r\nimport ReportingService from '../../services/ReportingService';\r\nimport CommandTable from '../shared/command-table/CommandTable';\r\nimport PageHeader from '../shared/page-header/PageHeader';\r\nimport CreateTemplatePanel from './components/create-panel';\r\nimport TemplateDetailsPanel from './components/details-panel';\r\nimport TemplateEditPanel from './components/edit-panel/TemplateEditPanel';\r\n\r\nconst ItemType = ({ item }) => {\r\n  if (item.filename) {\r\n    let iconName;\r\n    const tokens = item.filename.split('.');\r\n    const ext = tokens[tokens.length - 1];\r\n    switch (ext) {\r\n      case 'xlsx':\r\n        iconName = 'ExcelLogo';\r\n        break;\r\n      case 'docx':\r\n        iconName = 'WordLogo';\r\n        break;\r\n      default:\r\n        iconName = 'FileBug';\r\n        break;\r\n    }\r\n\r\n    return (\r\n      <div style={{ textAlign: 'center' }}>\r\n        <Icon styles={{ root: { fontSize: '1.3em' } }} iconName={iconName} />\r\n      </div>\r\n    );\r\n  }\r\n  return null;\r\n};\r\n\r\nconst ReportTemplates = () => {\r\n  const [templates, setTemplates] = useState([]);\r\n  const [createPanelOpen, setCreatePanelOpen] = useState(false);\r\n  const [detailsPanelOpen, setDetailsPanelOpen] = useState(false);\r\n  const [editPanelOpen, setEditPanelOpen] = useState(false);\r\n  const [selectionDetails, setSelectionDetails] = useState({\r\n    count: 0,\r\n    items: [],\r\n  });\r\n  const [columns] = useState([\r\n    {\r\n      key: 'type',\r\n      name: ' Type',\r\n      fieldName: 'name',\r\n      iconName: 'ToDoLogoBottom',\r\n      minWidth: 70,\r\n      maxWidth: 70,\r\n      onRender: (item) => <ItemType item={item} />,\r\n    },\r\n    {\r\n      key: 'name',\r\n      name: ' Name',\r\n      fieldName: 'name',\r\n      isSortable: true,\r\n      isFilterable: true,\r\n      iconName: 'FileTemplate',\r\n      minWidth: 100,\r\n      maxWidth: 300,\r\n    },\r\n    {\r\n      key: 'filename',\r\n      name: ' Filename',\r\n      fieldName: 'filename',\r\n      isSortable: true,\r\n      isFilterable: true,\r\n      iconName: 'FileBug',\r\n      minWidth: 100,\r\n      maxWidth: 200,\r\n    },\r\n    {\r\n      key: 'createdby',\r\n      name: ' Created by',\r\n      isSortable: true,\r\n      isFilterable: true,\r\n      iconName: 'Contact',\r\n      minWidth: 100,\r\n      maxWidth: 300,\r\n      sort: (a, b) => (a.createdUser.username < b.createdUser.username ? -1 : 1),\r\n      onRender: (item) => item.createdUser.username,\r\n    },\r\n    {\r\n      key: 'createdon',\r\n      name: ' Created on',\r\n      fieldName: 'createdDate',\r\n      isSortable: true,\r\n      isFilterable: true,\r\n      iconName: 'DateTime',\r\n      minWidth: 200,\r\n      maxWidth: 300,\r\n      onRender: (item) => (new Date(item.createdDate).toLocaleString()),\r\n    },\r\n  ]);\r\n  const [sortedColumn] = useState(\r\n    {\r\n      key: 'createdon',\r\n      name: ' Created on',\r\n      fieldName: 'createdDate',\r\n      isSorted: true,\r\n      isSortedDescending: true,\r\n      isSortable: true,\r\n      isFilterable: true,\r\n      iconName: 'DateTime',\r\n      minWidth: 200,\r\n      maxWidth: 300,\r\n      onRender: (item) => (new Date(item.createdDate).toLocaleString()),\r\n    },\r\n  );\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    async function run() {\r\n      const result = await ReportingService.getTemplates();\r\n      if (mounted) {\r\n        setTemplates(result);\r\n      }\r\n    }\r\n    run();\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <Container fluid>\r\n      <PageHeader text=\"Templates\" />\r\n      <Separator />\r\n      <Row>\r\n        <Col xs={12}>\r\n          <CommandTable\r\n            commandItems={[\r\n              {\r\n                key: 'createItem',\r\n                text: 'Create',\r\n                iconProps: { iconName: 'BoxAdditionSolid' },\r\n                onClick: () => setCreatePanelOpen(true),\r\n              },\r\n              {\r\n                key: 'details',\r\n                text: 'Details',\r\n                disabled: selectionDetails.count === 0,\r\n                iconProps: { iconName: 'ProfileSearch' },\r\n                onClick: () => setDetailsPanelOpen(true),\r\n              },\r\n              {\r\n                key: 'editItem',\r\n                text: 'Edit',\r\n                disabled: selectionDetails.count === 0,\r\n                iconProps: { iconName: 'Edit' },\r\n                onClick: () => setEditPanelOpen(true),\r\n              },\r\n            ]}\r\n            tableProps={{\r\n              items: templates,\r\n              columns,\r\n              setSelectionDetails,\r\n              selectionMode: SelectionMode.single,\r\n              onItemInvoked: () => setDetailsPanelOpen(true),\r\n              layoutMode: DetailsListLayoutMode.justified,\r\n              sortedCol: sortedColumn,\r\n            }}\r\n          />\r\n        </Col>\r\n      </Row>\r\n      <CreateTemplatePanel\r\n        isOpen={createPanelOpen}\r\n        setOpen={setCreatePanelOpen}\r\n      />\r\n      <TemplateDetailsPanel\r\n        isOpen={detailsPanelOpen}\r\n        setOpen={setDetailsPanelOpen}\r\n        id={selectionDetails.items.length > 0\r\n          ? selectionDetails.items[0].id\r\n          : ''}\r\n        setEdit={setEditPanelOpen}\r\n      />\r\n      <TemplateEditPanel\r\n        isOpen={editPanelOpen}\r\n        setOpen={setEditPanelOpen}\r\n        updateTemplates={(template) => setTemplates(\r\n          (prev) => prev.map((t) => (t.id === template.id ? template : t)),\r\n        )}\r\n        id={selectionDetails.items.length > 0\r\n          ? selectionDetails.items[0].id\r\n          : ''}\r\n      />\r\n    </Container>\r\n  );\r\n};\r\n\r\nItemType.propTypes = {\r\n  item: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default ReportTemplates;\r\n","import axios from 'axios';\nimport { downloadBlob } from 'download.js';\nimport NotificationService from './NotificationService';\n\nconst ReportingService = {\n  /**\n   * Templates\n   */\n  templatesPath: '/api/reporting/templates',\n  templatePath: (id) => `/api/reporting/templates/${id}`,\n  templateDownloadPath: (id) => `/api/reporting/templates/${id}/download`,\n  templateParametersPath: (id) => `/api/reporting/templates/${id}/parameters`,\n  generateTemplatePath: '/api/reporting/templates/generate',\n  templateSamplePath: '/api/reporting/templates/sample',\n\n  async getTemplates() {\n    try {\n      const response = await axios.get(this.templatesPath);\n      if (response.status === 200) {\n        return response.data;\n      }\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\n    } catch (err) {\n      NotificationService\n        .notifyError((err.response && err.response.data && err.response.data.error));\n      throw err;\n    }\n  },\n\n  async getTemplate(id) {\n    try {\n      const response = await axios.get(this.templatePath(id));\n      if (response.status === 200) {\n        return response.data;\n      }\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\n    } catch (err) {\n      NotificationService\n        .notifyError((err.response && err.response.data && err.response.data.error));\n      throw err;\n    }\n  },\n\n  async createTemplate(formdata) {\n    try {\n      const response = await axios.post(this.templatesPath, formdata, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      });\n      if (response.status === 200) {\n        NotificationService\n          .notifySuccess('Tempalte successfully created');\n        return response.data;\n      }\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\n    } catch (err) {\n      NotificationService\n        .notifyError((err.response && err.response.data && err.response.data.error));\n      throw err;\n    }\n  },\n\n  async updateTemplate(id, update) {\n    try {\n      const response = await axios.put(this.templatePath(id), update, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      });\n      if (response.status === 200) {\n        return response.data;\n      }\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\n    } catch (err) {\n      NotificationService\n        .notifyError(err.response && err.response.data && err.response.data.error);\n      throw err;\n    }\n  },\n\n  async downloadTemplate(id, filename) {\n    try {\n      const response = await axios.post(this.templateDownloadPath(id), null, {\n        responseType: 'blob',\n      });\n      if (response.status === 200) {\n        await downloadBlob(filename, response.data);\n      }\n    } catch (err) {\n      NotificationService\n        .notifyError(err.response && err.response.data && err.response.data.error);\n      throw err;\n    }\n  },\n\n  async getTempalteParameters(id) {\n    try {\n      const response = await axios.get(this.templateParametersPath(id));\n      if (response.status === 200) {\n        return response.data;\n      }\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\n    } catch (err) {\n      NotificationService\n        .notifyError(err.response && err.response.data && err.response.data.error);\n      throw err;\n    }\n  },\n\n  async generateTemplate(formdata) {\n    try {\n      const response = await axios.post(this.generateTemplatePath, formdata, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n        responseType: 'blob',\n      });\n      if (response.status === 200) {\n        NotificationService\n          .notifySuccess('Tempalte successfully generated');\n        return response.data;\n      }\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\n    } catch (err) {\n      NotificationService\n        .notifyError((err.response && err.response.data && err.response.data.error));\n      throw err;\n    }\n  },\n\n  async getSample(aggregation) {\n    try {\n      const response = await axios.post(this.templateSamplePath, { aggregation });\n      if (response.status === 200) {\n        return response.data;\n      }\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\n    } catch (err) {\n      NotificationService\n        .notifyError((err.response && err.response.data && err.response.data.error));\n      throw err;\n    }\n  },\n\n  /**\n   * Reports\n   */\n  appraisalReportPath: '/api/reporting/reports/appraisal-report',\n  reportPath: (id) => `/api/reporting/reports/${id}`,\n  postReportGeneratePath: (id) => `/api/reporting/reports/${id}/generate`,\n  reportsPath: '/api/reporting/reports',\n\n  async generateAppraisalReport(params) {\n    try {\n      const response = await axios.post(this.appraisalReportPath, params, {\n        responseType: 'blob',\n      });\n      if (response.status === 200) {\n        return response.data;\n      } if (response.status === 204) {\n        NotificationService\n          .notifyError('No data available for this filter');\n        return null;\n      }\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\n    } catch (err) {\n      if (err.response && err.response.status === 400) {\n        NotificationService.notifyError('Invalid filters provided');\n      } else {\n        NotificationService\n          .notifyError(err.message);\n      }\n      return null;\n    }\n  },\n\n  async getReports() {\n    try {\n      const response = await axios.get(this.reportsPath);\n      if (response.status === 200) {\n        return response.data;\n      }\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\n    } catch (err) {\n      NotificationService\n        .notifyError((err.response && err.response.data && err.response.data.error));\n      throw err;\n    }\n  },\n\n  async getReport(id) {\n    try {\n      const response = await axios.get(this.reportPath(id));\n      if (response.status === 200) {\n        return response.data;\n      }\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\n    } catch (err) {\n      NotificationService\n        .notifyError((err.response && err.response.data && err.response.data.error));\n      throw err;\n    }\n  },\n\n  async addReport(formData) {\n    try {\n      const result = await axios.post(this.reportsPath, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      });\n      return result.data;\n    } catch (err) {\n      NotificationService\n        .notifyError((err.response && err.response.data && err.response.data.error));\n      throw err;\n    }\n  },\n\n  async updateReport(id, update) {\n    try {\n      const result = await axios.put(this.reportPath(id), update);\n      return result.data;\n    } catch (err) {\n      NotificationService\n        .notifyError((err.response && err.response.data && err.response.data.error));\n      throw err;\n    }\n  },\n\n  async generateReport(id, params) {\n    try {\n      const response = await axios.post(this.postReportGeneratePath(id), params, {\n        responseType: 'blob',\n      });\n      if (response.status === 200) {\n        return response.data;\n      }\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\n    } catch (err) {\n      NotificationService\n        .notifyError((err.response && err.response.data && err.response.data.error));\n      throw err;\n    }\n  },\n};\n\nexport default ReportingService;\n","import axios from 'axios';\r\nimport NotificationService from './NotificationService';\r\nimport {\r\n  and, perform, validate,\r\n} from './validators';\r\n\r\nfunction Item(item) {\r\n  this.id = item.id ? item.id : 0;\r\n  this.type = item.type;\r\n  this.status = item.status ? item.status : 'Active';\r\n  this.content = item.content ? item.content : '';\r\n  this.periodId = item.periodId;\r\n  this.organizationId = item.organizationId ? item.organizationId : null;\r\n  this.user = item.user;\r\n  this.modifiedUser = item.modifiedUser ? item.modifiedUser : null;\r\n  this.modifiedDate = item.modifiedDate ? item.modifiedDate : null;\r\n  this.createdUser = item.createdUser ? item.createdUser : item.user;\r\n  this.createdDate = item.createdDate ? item.createdDate : new Date();\r\n}\r\n\r\nconst AppraisalService = {\r\n  getPeriodsPath: '/api/periods',\r\n  addPeriodsPath: '/api/periods',\r\n  periodPath: (periodId) => `/api/periods/${periodId}`,\r\n  periodFinishPath: (periodId) => `/api/periods/${periodId}/finish`,\r\n  getItemsPath: (id) => `/api/periods/${id}`,\r\n  getUserItemsPath: (id, userId) => `/api/periods/${id}/users/${userId}`,\r\n  toggleLockPeriodPath: (id, userId) => `/api/periods/${id}/users/${userId}/toggle-lock`,\r\n  getItemPath: (periodId, itemId) => `/api/periods/${periodId}/items/${itemId}`,\r\n  getOrphansPath: '/api/appraisal-items',\r\n  addItemPath: '/api/appraisal-items',\r\n  updateItemPath: (id) => `/api/appraisal-items/${id}`,\r\n  deleteItemPath: (id) => `/api/appraisal-items/${id}`,\r\n  addItemToPeriodPath: (periodId) => `/api/periods/${periodId}/items`,\r\n  addUserItemPath: (periodId, userId) => `/api/periods/${periodId}/users/${userId}/items`,\r\n  updateItemInPeriodPath: (periodId, itemId) => `/api/periods/${periodId}/items/${itemId}`,\r\n  updateUserItemPath: (periodId, userId, itemId) => `/api/periods/${periodId}/users/${userId}/items/${itemId}`,\r\n  deleteItemFromPeriodPath: (periodId, itemId) => `/api/periods/${periodId}/items/${itemId}`,\r\n  deleteUserItemPath: (periodId, userId, itemId) => `/api/periods/${periodId}/users/${userId}/items/${itemId}`,\r\n  updateItemTypePath: (periodId, itemId) => `/api/periods/${periodId}/items/${itemId}/change-type`,\r\n  updateUserItemTypePath: (periodId, userId, itemId) => `/api/periods/${periodId}/users/${userId}/items/${itemId}/change-type`,\r\n\r\n  async getPeriods() {\r\n    try {\r\n      const response = await axios.get(this.getPeriodsPath);\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async getItems(periodId) {\r\n    try {\r\n      const response = await axios.get(this.getItemsPath(periodId));\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async getOrphans(type = null) {\r\n    try {\r\n      const response = await axios.get(this.getOrphansPath, {\r\n        params: {\r\n          type,\r\n        },\r\n      });\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async getUserItems(periodId, userId) {\r\n    try {\r\n      const response = await axios.get(this.getUserItemsPath(periodId, userId));\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async getItem(periodId, itemId) {\r\n    try {\r\n      const response = await axios.get(this.getItemPath(periodId, itemId));\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async addItem(periodId, item) {\r\n    try {\r\n      const validations = and([\r\n        validate.itemContentNotNull(item),\r\n        validate.isTruthy(item.user),\r\n      ]);\r\n      await perform(validations);\r\n      const response = await axios.post(this.addItemToPeriodPath(periodId), { ...item });\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async addOrphan(item) {\r\n    try {\r\n      const response = await axios.post(this.addItemPath, item);\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async addUserItem(periodId, userId, item) {\r\n    try {\r\n      const validations = and([\r\n        validate.itemContentNotNull(item),\r\n        validate.isTruthy(item.user),\r\n      ]);\r\n      await perform(validations);\r\n      const response = await axios.post(this.addUserItemPath(periodId, userId), { ...item });\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async updateItemInPeriod(periodId, item) {\r\n    try {\r\n      const validations = and([\r\n        validate.itemContentNotNull(item),\r\n        validate.isTruthy(item.user),\r\n        validate.isTruthy(item.periodId),\r\n      ]);\r\n      await perform(validations);\r\n      const response = await axios.put(this.updateItemInPeriodPath(periodId, item.id), { ...item });\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async updateItem(item) {\r\n    try {\r\n      const validations = and([\r\n        validate.itemContentNotNull(item),\r\n        validate.isTruthy(item.user),\r\n      ]);\r\n      await perform(validations);\r\n      const response = await axios.put(this.updateItemPath(item.id), item);\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async updateUserItem(periodId, userId, item) {\r\n    try {\r\n      const validations = and([\r\n        validate.itemContentNotNull(item),\r\n        validate.isTruthy(item.user),\r\n      ]);\r\n      await perform(validations);\r\n      const response = await axios.put(\r\n        this.updateUserItemPath(periodId, userId, item.id), { ...item },\r\n      );\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async updateItemType(periodId, item) {\r\n    try {\r\n      const validations = and([\r\n        validate.itemContentNotNull(item),\r\n        validate.isTruthy(item.user),\r\n      ]);\r\n      await perform(validations);\r\n      const response = await axios.post(\r\n        this.updateItemTypePath(periodId, item.id), { type: item.type },\r\n      );\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async updateUserItemType(periodId, userId, item) {\r\n    try {\r\n      const validations = and([\r\n        validate.itemContentNotNull(item),\r\n        validate.isTruthy(item.user),\r\n      ]);\r\n      await perform(validations);\r\n      const response = await axios.post(\r\n        this.updateUserItemTypePath(periodId, userId, item.id), { type: item.type },\r\n      );\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async deleteItemFromPeriod(periodId, itemId) {\r\n    try {\r\n      const response = await axios.delete(this.deleteItemFromPeriodPath(periodId, itemId));\r\n      if (response.status === 204) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async deleteItem(itemId) {\r\n    try {\r\n      const response = await axios.delete(this.deleteItemPath(itemId));\r\n      if (response.status === 204) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async deleteUserItem(periodId, userId, itemId) {\r\n    try {\r\n      const response = await axios.delete(this.deleteUserItemPath(periodId, userId, itemId));\r\n      if (response.status === 204) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async addPeriod(body) {\r\n    try {\r\n      const response = await axios.post(this.addPeriodsPath, body);\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async updatePeriod(periodId, body) {\r\n    try {\r\n      const response = await axios.put(this.periodPath(periodId), body);\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async finishPeriod(periodId) {\r\n    try {\r\n      const response = await axios.post(this.periodFinishPath(periodId), null, {\r\n        timeout: 200000,\r\n      });\r\n      if (response.status === 200) {\r\n        return true;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  /**\r\n   *\r\n   * @param {String} periodId\r\n   * @param {String} userId\r\n   * @returns {any} the updated period\r\n   */\r\n  async toggleLockPeriod(periodId, userId) {\r\n    try {\r\n      if (!userId) throw new Error('User is unknown');\r\n      const response = await axios.post(this.toggleLockPeriodPath(periodId, userId));\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  blankItem(periodId, user, type, status = 'Active') {\r\n    return new Item({\r\n      type,\r\n      status,\r\n      periodId,\r\n      user: user ? user.id : null,\r\n    });\r\n  },\r\n\r\n  /*\r\n   * Given the items, minimum amount and their type:\r\n   * this function should return back the adjusted items collection:\r\n   * 1. if number of items < min => add blank items to fullfil the list\r\n   * 2. if number of items > min and blank items > 1 => remove blank items until\r\n   * blank items = 1 or number of items = min\r\n   */\r\n  normalizeSet(periodId, user, items, min, type) {\r\n    const copy = items.slice().filter((i) => i.user !== null);\r\n    if (!user) {\r\n      return copy;\r\n    } if (type === 'Feedback' && items.length > 0) {\r\n      return copy;\r\n    }\r\n    // array of empty indexes ex: [1, 4, 5]\r\n    const empty = copy.map((i, idx) => idx).filter((i) => copy[i].content === '');\r\n    if (empty.length === 0) {\r\n      copy.push(this.blankItem(periodId, user, type));\r\n    }\r\n    let dif = min - copy.length;\r\n    while (dif > 0) {\r\n      copy.push(this.blankItem(periodId, user, type));\r\n      dif -= 1;\r\n    }\r\n    return copy;\r\n  },\r\n\r\n  async addItemToSet(periodId, item) {\r\n    try {\r\n      const result = await this.addItem(periodId, item);\r\n      return {\r\n        value: result,\r\n        error: null,\r\n      };\r\n    } catch (err) {\r\n      return {\r\n        value: null,\r\n        error: err,\r\n      };\r\n    }\r\n  },\r\n\r\n  async addUserItemToSet(periodId, userId, item) {\r\n    try {\r\n      const result = await this.addUserItem(periodId, userId, item);\r\n      return {\r\n        value: result,\r\n        error: null,\r\n      };\r\n    } catch (err) {\r\n      return {\r\n        value: null,\r\n        error: err,\r\n      };\r\n    }\r\n  },\r\n\r\n  async deleteItemFromSet(periodId, item) {\r\n    try {\r\n      const result = await this.deleteItemFromPeriod(periodId, item.id);\r\n      return {\r\n        value: result,\r\n        error: null,\r\n      };\r\n    } catch (err) {\r\n      return {\r\n        value: await this.getItem(periodId, item.id),\r\n        error: err,\r\n      };\r\n    }\r\n  },\r\n\r\n  async deleteUserItemFromSet(periodId, userId, item) {\r\n    try {\r\n      const result = await this.deleteUserItem(periodId, userId, item.id);\r\n      return {\r\n        value: result,\r\n        error: null,\r\n      };\r\n    } catch (err) {\r\n      return {\r\n        value: await this.getItem(periodId, item.id),\r\n        error: err,\r\n      };\r\n    }\r\n  },\r\n\r\n  async updateItemInSet(periodId, item) {\r\n    try {\r\n      const result = await this.updateItemInPeriod(periodId, item);\r\n      return {\r\n        value: result,\r\n        error: null,\r\n      };\r\n    } catch (err) {\r\n      return {\r\n        value: await this.getItem(periodId, item.id),\r\n        error: err,\r\n      };\r\n    }\r\n  },\r\n\r\n  async updateUserItemInSet(periodId, userId, item) {\r\n    try {\r\n      const result = await this.updateUserItem(periodId, userId, item);\r\n      return {\r\n        value: result,\r\n        error: null,\r\n      };\r\n    } catch (err) {\r\n      return {\r\n        value: await this.getItem(periodId, item.id),\r\n        error: err,\r\n      };\r\n    }\r\n  },\r\n};\r\n\r\nexport default AppraisalService;\r\n","import PageHeader from './PageHeader';\n\nexport default PageHeader;\n","/**\r\n * A Table with Command Panel ad a Search box.\r\n * Standartized to be used univarsally on any lists.\r\n */\r\nimport React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  Container, Row, Col,\r\n} from 'react-grid-system';\r\nimport {\r\n  CommandBar, SearchBox, Separator, Stack,\r\n} from '@fluentui/react';\r\nimport Table from '../table';\r\n\r\nconst CommandTable = ({ commandItems, tableProps }) => {\r\n  const [searchValue, setSearchValue] = useState('');\r\n\r\n  return (\r\n    <Container fluid>\r\n      <Row>\r\n        <Col xs={12}>\r\n          <Stack horizontalAlign=\"stretch\">\r\n            <Row align=\"start\">\r\n              <Col xs={12} sm={9}>\r\n                <CommandBar items={commandItems} />\r\n              </Col>\r\n              <Col xs={12} sm={3}>\r\n                <SearchBox\r\n                  placeholder=\"Search\"\r\n                  value={searchValue}\r\n                  onChange={(e) => setSearchValue(e && e.target ? e.target.value : '')}\r\n                />\r\n              </Col>\r\n            </Row>\r\n            <Separator />\r\n            {/* eslint-disable-next-line react/jsx-props-no-spreading */}\r\n            <Table {...tableProps} searchValue={searchValue} />\r\n          </Stack>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  );\r\n};\r\n\r\nCommandTable.propTypes = {\r\n  commandItems: PropTypes.arrayOf(PropTypes.shape({\r\n    key: PropTypes.string,\r\n    text: PropTypes.string,\r\n    disabled: PropTypes.bool,\r\n    iconProps: PropTypes.shape({\r\n      iconName: PropTypes.string,\r\n    }),\r\n    onClick: PropTypes.func,\r\n  })),\r\n  tableProps: PropTypes.shape({\r\n    columns: PropTypes.arrayOf(PropTypes.shape({\r\n      key: PropTypes.string,\r\n      name: PropTypes.string,\r\n      fieldName: PropTypes.string,\r\n      minWidth: PropTypes.number,\r\n      maxWidth: PropTypes.number,\r\n      isSortable: PropTypes.bool,\r\n      isFilterable: PropTypes.bool,\r\n      isResizable: PropTypes.bool,\r\n      sort: PropTypes.func,\r\n      onRender: PropTypes.func,\r\n    })).isRequired,\r\n    items: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\r\n    searchValue: PropTypes.string,\r\n    sortedCol: PropTypes.shape({\r\n      key: PropTypes.string,\r\n      name: PropTypes.string,\r\n      fieldName: PropTypes.string,\r\n      minWidth: PropTypes.number,\r\n      maxWidth: PropTypes.number,\r\n      isSortable: PropTypes.bool,\r\n      isFilterable: PropTypes.bool,\r\n      isResizable: PropTypes.bool,\r\n      sort: PropTypes.func,\r\n      onRender: PropTypes.func,\r\n      isSorted: PropTypes.bool,\r\n      isSortedDescending: PropTypes.bool,\r\n    }),\r\n    setSelectionDetails: PropTypes.func,\r\n  }).isRequired,\r\n};\r\n\r\nCommandTable.defaultProps = {\r\n  commandItems: null,\r\n};\r\n\r\nexport default CommandTable;\r\n","import EventEmitter from 'eventemitter3';\r\n\r\nconst eventEmitter = new EventEmitter();\r\n\r\nconst Emitter = {\r\n  on: (event, fn) => eventEmitter.on(event, fn),\r\n  once: (event, fn) => eventEmitter.once(event, fn),\r\n  off: (event, fn) => eventEmitter.off(event, fn),\r\n  emit: (event, payload) => eventEmitter.emit(event, payload),\r\n};\r\n\r\nObject.freeze(Emitter);\r\n\r\nexport default Emitter;\r\n","import Emitter from './Emitter';\r\n\r\nexport default Emitter;\r\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Stack, Text } from '@fluentui/react';\n\nconst styles = {\n  root: {\n    marginTop: '16px',\n    marginBottom: '16px',\n    align: 'center',\n  },\n};\n\nconst PageHeader = ({ text }) => (\n  <Stack horizontal horizontalAlign=\"center\">\n    <Text variant=\"xLarge\" styles={styles}>{text}</Text>\n  </Stack>\n);\n\nPageHeader.propTypes = {\n  text: PropTypes.string.isRequired,\n};\n\nexport default PageHeader;\n","import React, {\r\n  useEffect,\r\n  useState,\r\n} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  Icon, Text, concatStyleSets, makeStyles,\r\n} from '@fluentui/react';\r\nimport { Collapse } from 'react-collapse';\r\nimport clsx from 'clsx';\r\nimport './styles.css';\r\n\r\nconst defstyles = (theme, compact = false) => ({\r\n  root: {\r\n    boxShadow: theme.effects.elevation4,\r\n    width: '100%',\r\n    border: `1px solid ${theme.palette.themeLight}`,\r\n  },\r\n  container: {\r\n    outline: 'none',\r\n    borderTop: `1px solid ${theme.palette.themeLight}`,\r\n    '&:first-child': {\r\n      borderTop: 'none',\r\n    },\r\n    '& > div:first-child': {\r\n      outline: 'none',\r\n    },\r\n  },\r\n  header: {\r\n    cursor: 'pointer',\r\n    padding: `${compact ? '8px' : '16px'}`,\r\n  },\r\n  headerIcon: {\r\n    fontSize: '0.7em',\r\n    transition: '.2s transform',\r\n  },\r\n  headerIconOpen: {\r\n    transform: 'rotate(90deg)',\r\n    transformOrigin: 'center',\r\n  },\r\n  itemContent: {\r\n    padding: `${compact ? '8px' : '16px'}`,\r\n  },\r\n});\r\n\r\n/**\r\n * DEFAULT RENDER FUNCTIONS\r\n */\r\n\r\nconst defaultRenderHeaderFold = (item, isOpen, classes) => (\r\n  <span style={{\r\n    paddingRight: '8px',\r\n  }}\r\n  >\r\n    <Icon\r\n      className={clsx({\r\n        [classes.headerIcon]: true,\r\n        [classes.headerIconOpen]: isOpen,\r\n      })}\r\n      iconName=\"ChevronRightMed\"\r\n    />\r\n  </span>\r\n);\r\n\r\nconst defaultRenderHeaderText = (item) => <Text variant=\"medium\">{item.text}</Text>;\r\n\r\nconst defaultRenderItemContent = (item) => (\r\n  <p>\r\n    {item.text}\r\n  </p>\r\n);\r\n\r\n/*\r\n      Header has:\r\n       ____________________________\r\n      | (Fold button)             |\r\n      | >    Header text          |\r\n      |___________________________|\r\n*/\r\nconst defaultRenderHeader = (item, headerProps, classProps) => {\r\n  const classes = classProps;\r\n  return (\r\n    <div style={{\r\n      display: 'flex',\r\n      flexFlow: 'row nowrap',\r\n      alignItems: 'center',\r\n    }}\r\n    >\r\n      {headerProps.onRenderHeaderFold(item, headerProps.isOpen, classes)}\r\n      {headerProps.onRenderHeaderText(item, headerProps.isOpen, classes)}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst AccordionItemContainer = ({\r\n  item, headerProps, onRenderItem, isOpen, onToggle, classes,\r\n}) => (\r\n  <div\r\n    className={classes.container}\r\n  >\r\n    <div\r\n      role=\"menuitem\"\r\n      tabIndex={0}\r\n      onClick={(evt) => onToggle(evt, item, !isOpen)}\r\n      onKeyPress={(evt) => onToggle(evt, item, !isOpen)}\r\n      className={classes.header}\r\n    >\r\n      {headerProps.onRenderHeader(item, { ...headerProps, isOpen }, classes)}\r\n    </div>\r\n    <Collapse isOpened={isOpen}>\r\n      <div className={classes.itemContent}>\r\n        {onRenderItem(item)}\r\n      </div>\r\n    </Collapse>\r\n  </div>\r\n);\r\n\r\n/**\r\n * Accordion Component\r\n * onRenderHeader - renders the whole header\r\n * onRenderHeaderFold - custom render for the fold item\r\n * onRenderHeaderText - customer render for the header text content\r\n */\r\nconst Accordion = ({\r\n  items,\r\n  getKey,\r\n  headerProps,\r\n  onRenderItem,\r\n  exclusive,\r\n  styles,\r\n  compact,\r\n  onToggle,\r\n}) => {\r\n  // Concatenate user provided styles with default styles if needed\r\n  const classes = makeStyles((theme) => concatStyleSets(defstyles(theme, compact), styles))();\r\n  const [open, setOpen] = useState(() => {\r\n    const result = {};\r\n    items.forEach((item) => {\r\n      const key = getKey(item);\r\n      result[key] = Boolean(item.isOpen) || false;\r\n    });\r\n    return result;\r\n  });\r\n  const defHeaderProps = {\r\n    onRenderHeader: defaultRenderHeader,\r\n    onRenderHeaderFold: defaultRenderHeaderFold,\r\n    onRenderHeaderText: defaultRenderHeaderText,\r\n    ...headerProps,\r\n  };\r\n\r\n  const handleSetOpen = (item) => {\r\n    if (!exclusive) {\r\n      return (evt, i, val) => setOpen((prev) => ({\r\n        ...prev,\r\n        [getKey(item)]: val,\r\n      }));\r\n    }\r\n    return (evt, i, val) => setOpen((prev) => {\r\n      const copy = { ...prev };\r\n      const itemKey = getKey(item);\r\n      Object.keys(copy).forEach((key) => {\r\n        copy[key] = (key === itemKey ? val : false);\r\n      });\r\n      return copy;\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    setOpen(() => {\r\n      const result = {};\r\n      items.forEach((item) => {\r\n        const key = getKey(item);\r\n        result[key] = Boolean(item.isOpen) || false;\r\n      });\r\n      return result;\r\n    });\r\n  }, [items, getKey]);\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      {\r\n        items.map((item) => (\r\n          <AccordionItemContainer\r\n            item={item}\r\n            headerProps={defHeaderProps}\r\n            onRenderItem={onRenderItem}\r\n            isOpen={Boolean(open[getKey(item)])}\r\n            setOpen={handleSetOpen(item)}\r\n            getKey={getKey}\r\n            classes={classes}\r\n            key={getKey(item)}\r\n            onToggle={onToggle || handleSetOpen(item)}\r\n          />\r\n        ))\r\n      }\r\n    </div>\r\n  );\r\n};\r\n\r\nAccordion.propTypes = {\r\n  items: PropTypes.arrayOf(PropTypes.shape({\r\n    key: PropTypes.string,\r\n    text: PropTypes.string,\r\n    header: PropTypes.string,\r\n    isOpen: PropTypes.bool,\r\n  })).isRequired,\r\n  getKey: PropTypes.func,\r\n  onRenderItem: PropTypes.func,\r\n  exclusive: PropTypes.bool,\r\n  headerProps: PropTypes.shape({\r\n    onRenderHeader: PropTypes.func,\r\n    onRenderHeaderFold: PropTypes.func,\r\n    onRenderHeaderText: PropTypes.func,\r\n  }),\r\n  styles: PropTypes.shape({\r\n    root: PropTypes.shape({}),\r\n    container: PropTypes.shape({}),\r\n    header: PropTypes.shape({}),\r\n    headerIcon: PropTypes.shape({}),\r\n    headerIconOpen: PropTypes.shape({}),\r\n    itemContent: PropTypes.shape({}),\r\n  }),\r\n  compact: PropTypes.bool,\r\n  onToggle: PropTypes.func,\r\n};\r\n\r\nAccordion.defaultProps = {\r\n  getKey: (item) => item.key,\r\n  onRenderItem: defaultRenderItemContent,\r\n  exclusive: false,\r\n  headerProps: {\r\n    onRenderHeader: defaultRenderHeader,\r\n    onRenderHeaderFold: defaultRenderHeaderFold,\r\n    onRenderHeaderText: defaultRenderHeaderText,\r\n  },\r\n  styles: {},\r\n  compact: false,\r\n  onToggle: null,\r\n};\r\n\r\nAccordionItemContainer.propTypes = {\r\n  item: PropTypes.shape({}).isRequired,\r\n  onRenderItem: PropTypes.func.isRequired,\r\n  isOpen: PropTypes.bool.isRequired,\r\n  headerProps: PropTypes.shape({\r\n    onRenderHeader: PropTypes.func,\r\n    onRenderHeaderFold: PropTypes.func,\r\n    onRenderHeaderText: PropTypes.func,\r\n  }),\r\n  classes: PropTypes.shape({\r\n    root: PropTypes.string,\r\n    container: PropTypes.string,\r\n    header: PropTypes.string,\r\n    headerIcon: PropTypes.string,\r\n    headerIconOpen: PropTypes.string,\r\n    itemContent: PropTypes.string,\r\n  }).isRequired,\r\n  onToggle: PropTypes.func.isRequired,\r\n};\r\n\r\nAccordionItemContainer.defaultProps = {\r\n  headerProps: {\r\n    onRenderHeader: defaultRenderHeader,\r\n    onRenderHeaderFold: defaultRenderHeaderFold,\r\n    onRenderHeaderText: defaultRenderHeaderText,\r\n  },\r\n};\r\n\r\nexport default Accordion;\r\n"],"sourceRoot":""}