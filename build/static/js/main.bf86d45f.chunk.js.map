{"version":3,"sources":["services/NotificationService.js","components/notification/NotificationContainer.jsx","utils/constants.js","components/notification/Notification.jsx","components/notification/index.js","components/shared/table/Table.jsx","components/shared/table/index.js","services/validators/operators.js","services/validators/UserValidators.js","services/validators/General.js","services/validators/AppraisalValidators.js","services/validators/index.js","services/GlobalContext.js","services/AuthorizationService.js","services/LoginService.js","components/shared/user-info-provider/index.js","components/shared/user-info-provider/UserInfoProvider.jsx","components/shared/user-securities-provider/index.js","components/shared/user-securities-provider/UserSecuritiesProvider.jsx","styles/keytipStyles.js","themes/lightTheme.js","themes/darkTheme.js","themes/warmTheme.js","themes/blackWhiteTheme.js","themes/index.js","components/shared/select-theme/theme_dark_icon.png","components/shared/select-theme/theme_light_icon.png","components/shared/select-theme/theme_solarized_icon.png","components/shared/select-theme/theme_blackwhite_icon.png","components/shared/select-theme/SelectTheme.jsx","components/navigation/components/choose-theme-modal/ChooseThemeModal.jsx","components/navigation/components/user-info/UserInfo.jsx","components/navigation/components/app-bar/AppBar.jsx","components/navigation/components/app-bar/index.js","components/navigation/components/drawer/Drawer.jsx","components/navigation/components/drawer/index.js","components/navigation/Navigation.jsx","components/shared/authorization-redirect-component/index.js","components/shared/authorization-redirect-component/AuthorizationRedirectComponent.jsx","components/appraisal-details/components/appraisal-info/index.js","components/appraisal-details/components/appraisal-info/AppraisalDetailsInfo.jsx","services/UserService.js","components/shared/single-picker/SinglePicker.jsx","components/shared/team-mates-autocomplete/index.js","components/shared/team-mates-autocomplete/TeamMatesAutocomplete.jsx","components/appraisal-details/components/appraisal-user-redirect/AppraisalUserRedirect.jsx","components/appraisal-details/components/appraisal-user-redirect/index.js","components/shared/authorization-component/index.js","components/shared/authorization-component/AuthorizationComponent.jsx","components/shared/chip/Chip.jsx","components/shared/chip/index.js","components/appraisal-details/components/appraisal-input/AppraisalInput.jsx","components/appraisal-details/components/appraisal-input/index.js","components/shared/box/Box.jsx","components/shared/box/index.js","components/appraisal-details/components/appraisal-field-set/FieldSet.jsx","components/appraisal-details/components/appraisal-field-set/index.js","components/appraisal-details/components/appraisal-details-display/AppraisalDetailsDisplay.jsx","components/appraisal-details/components/appraisal-details-display/index.js","components/appraisal-details/components/appraisal-user-info/index.js","components/appraisal-details/components/appraisal-user-info/AppraisalUserInfo.jsx","components/appraisal-details/components/appraisal-user-details-display/AppraisalUserDetails.jsx","components/appraisal-details/components/appraisal-user-details-display/index.js","components/appraisal-details/index.js","components/appraisal-details/AppraisalDetails.jsx","routes/appraisal-details/index.js","routes/appraisal-details/AppraisalDetailsPage.jsx","components/appraisal-list/panel-new/PanelNew.jsx","components/appraisal-list/panel-edit/PanelEdit.jsx","routes/appraisals/AppraisalsPage.jsx","routes/appraisals/index.js","routes/settings-general/index.js","routes/settings-general/SettingsGeneral.jsx","services/TeamService.js","routes/settings-users/components/user-edit-panel/UserEditPanel.jsx","routes/settings-users/components/user-edit-panel/index.js","routes/settings-users/index.js","routes/settings-users/SettingsUsers.jsx","routes/settings-app-periods/index.js","routes/settings-app-periods/SettingsAppraisalPeriods.jsx","routes/settings-app-items/index.js","routes/settings-app-items/SettingsAppraisalItems.jsx","components/appraisal-details/components/security-details/components/security-info-provider/index.js","components/appraisal-details/components/security-details/components/security-info-provider/SecurityInfoProvider.jsx","components/appraisal-details/components/security-details/components/security-details-role-display/SecurityDetailsRoleDisplay.jsx","components/appraisal-details/components/security-details/components/security-details-role-display/index.js","components/appraisal-details/components/security-details/components/security-details-user-display/SecurityDetailsUserDisplay.jsx","components/appraisal-details/components/security-details/components/security-details-user-display/index.js","components/appraisal-details/components/security-details/SecurityDetails.jsx","routes/settings-role-permissions/index.js","routes/settings-role-permissions/SettingsRoles.jsx","routes/settings/index.js","routes/settings/SettingsPage.jsx","components/reports/components/reports-info-provider/ReportsInfoProvider.jsx","components/reports/components/reports-info-provider/index.js","components/reports/components/reports-new-panel/ReportsNewPanel.jsx","components/reports/components/reports-new-panel/index.js","components/reports/components/reports-details-panel/ReportsDetailsPanel.jsx","components/reports/components/reports-edit-panel/ReportsEditPanel.jsx","components/reports/components/reports-edit-panel/index.js","components/reports/index.js","components/reports/Reports.jsx","routes/reporting-reports/index.js","routes/reporting-reports/ReportsPage.jsx","components/report-templates/index.js","routes/reporting-templates/index.js","routes/reporting-templates/ReportTemplatesPage.jsx","components/appraisal-report/AppraisalReport.jsx","routes/reporting/index.js","routes/reporting/ReportingPage.jsx","components/shared/login-required/index.js","components/shared/login-required/LoginRequired.jsx","routes/login/index.js","routes/login/LoginPage.jsx","services/hooks/useFetch.js","services/tasks/TaskService.js","utils/date.js","components/ui-hooks/usePanel.jsx","components/shared/people-picker/PeoplePicker.jsx","components/task-dashboard/components/add-task/AddTask.jsx","components/task-dashboard/components/add-task/index.js","components/task-dashboard/components/current-date/CurrentDate.jsx","components/task-dashboard/components/task-personas/TaskPersonas.jsx","components/task-dashboard/components/task-collapsed/TaskCollapsed.jsx","components/task-dashboard/components/task-item/TaskItem.jsx","components/task-dashboard/components/task-item/index.js","components/task-dashboard/components/task-container/TaskContainer.jsx","components/task-dashboard/components/working-hours/WorkingHours.jsx","components/ui-hooks/useDialog.jsx","components/task-dashboard/components/task-busy-conflict/TaskBusyConflict.jsx","components/ui-hooks/useLocalStorage.jsx","services/ConnectionService.js","components/task-dashboard/components/task-live-update/TaskLiveUpdate.jsx","components/task-dashboard/TaskDashboard.jsx","utils/serviceRequestWrapper.js","services/tasks/TaskFlowService.js","components/task-flows/components/add-flow/AddFlow.jsx","components/task-flows/components/edit-flow/EditFlow.jsx","components/task-flows/index.js","components/task-flows/TaskFlows.jsx","components/task-planning/components/planning-cell/PlanningCell.jsx","components/task-planning/components/planning-matrix/PlanningMatrix.jsx","services/tasks/TaskPlanningService.js","components/task-planning/components/flow-picker/FlowPicker.jsx","components/task-planning/components/flow-picker/index.js","components/task-planning/components/planning-flows-dialog/PlanningFlowsDialog.jsx","components/task-planning/components/planning-flows-dialog/index.js","components/task-planning/TaskPlanning.jsx","services/tasks/TaskRuleService.js","components/task-rules/components/add-rule-type/AddRuleType.jsx","components/task-rules/components/add-rule/AddRule.jsx","components/task-rules/components/rule-details/RuleDetails.jsx","components/task-rules/index.js","components/task-rules/TaskRules.jsx","routes/tasks/index.js","routes/tasks/Tasks.jsx","components/shared/connection-manager/ConnectionManager.jsx","components/app/App.jsx","components/app/index.js","index.js","components/shared/accordion/index.js","components/report-templates/components/create-panel/CreateTemplatePanel.jsx","components/report-templates/components/create-panel/index.js","components/report-templates/components/details-panel/TemplateDetailsPanel.jsx","components/report-templates/components/details-panel/index.js","components/report-templates/components/edit-panel/TemplateEditPanel.jsx","components/report-templates/ReportTemplates.jsx","services/ReportingService.js","services/AppraisalService.js","components/shared/page-header/index.js","components/shared/command-table/CommandTable.jsx","components/shared/Emitter/Emitter.js","components/shared/Emitter/index.js","components/shared/page-header/PageHeader.jsx","components/shared/accordion/Accordion.jsx"],"names":["NotificationService","notify","text","type","actions","Emitter","emit","onRender","onDismiss","notifyError","this","notifySuccess","notifyInfo","notifySevereWarning","NotificationContainer","timeout","useState","items","setItems","idx","prev","found","find","i","id","timer","clearTimeout","filter","useEffect","on","item","uuid","bind","setTimeout","prevState","off","className","map","classNames","constants","dialogAnswers","Yes","No","Cancel","Ok","timeOptions","options","h","m","str","slice","push","key","connections","INSERT","UPDATE","DELETE","tasks","status","New","InProgress","Paused","Finished","Cancelled","types","Daily","Weekly","Monthly","DayTypes","Workday","Calendar","MonthlyOnType","Day","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday","colors","securities","REPORTS","code","description","grants","read","create","update","delete","APPRAISAL_DETAILS","createFinished","updateFinished","deleteFinished","APPRAISAL_DETAILS_OTHER","toggleLock","APPRAISAL_PERIODS","finish","SETTINGS","general","users","appraisalItems","appraisalPeriods","permissions","AUDITS","REPORT_TEMPLATES","TASK","TASK_RULE","TASK_FLOW","TASK_PLANNING","Notification","typeMessage","MessageBarType","success","warning","error","info","blocked","severeWarning","MessageBar","messageBarType","Text","variant","Table","columns","searchValue","sortedCol","setSelectionDetails","props","sortedColumn","setSortedColumn","_columns","setColumns","_items","selection","Selection","onSelectionChanged","count","getSelectedCount","getSelection","handleSort","evt","column","isSortable","columnCopy","columnsCopy","col","c","isSorted","isSortedDescending","filterValues","useCallback","values","rg","RegExp","filterableColumns","isFilterable","length","val","fieldName","filterValueAccessor","test","copy","sort","a","b","DetailsList","onColumnClick","selectionPreservedOnEmptyClick","defaultProps","and","validations","Error","Promise","all","v","results","every","result","message","andSync","last","l","err","or","some","orSync","not","validation","notSync","perform","throwExceptions","performSync","userExists","user","Boolean","userAuthorized","context","grant","Authorize","isTruthy","obj","operators","AD","ADO","periodStatus","period","name","periodExists","itemExists","periodLocked","userId","userPeriod","u","_id","locked","itemStatus","content","itemType","itemSameUser","String","username","itemRelated","relatedItemId","itemContentNotNull","trim","canInsert","generalVal","userVal","canUpdate","canDelete","validate","appraisalValidators","userValidators","generalValidators","GlobalContext","React","createContext","connection","connectionId","notification","setContext","userPreferences","theme","AuthorizationService","getRolesPath","getCurrentUserSecuritiesPath","getUserSecuritiesPath","getOrganizationUsersSecuritiesPath","getRolesSecuritiesPath","getPermissionCodesPath","addPermissionPath","updatePermissionPath","deletePermissionPath","getRoles","axios","get","data","response","getSecurities","getUserSecurities","getOrganizationUsersSecurities","getRolesSecurities","getPermissionCodes","addPermission","permission","post","updatePermission","put","deletePermission","security","index","el","indexOf","LoginService","currentUserPath","getCurrentUser","DefaultButton","as","href","UserInfoProvider","verified","setVerified","global","useContext","displayName","avatar","split","n","join","toUpperCase","userLoaded","getUser","UserSecuritiesProvider","run","root","padding","createTheme","palette","themePrimary","themeLighterAlt","themeLighter","themeLight","themeTertiary","themeSecondary","themeDarkAlt","themeDark","themeDarker","neutralLighterAlt","neutralLighter","neutralLight","neutralQuaternaryAlt","neutralQuaternary","neutralTertiaryAlt","neutralTertiary","neutralSecondary","neutralPrimaryAlt","neutralPrimary","neutralDark","black","white","accent","isInverted","selectTheme","localStorage","getItem","lightTheme","darkTheme","warmTheme","blackWhiteTheme","SelectTheme","setTheme","imageSrc","lightImg","selectedImageSrc","imageSize","width","height","solarizedImg","darkImg","blackWhiteImg","Stack","verticalAlign","tokens","childrenGap","ChoiceGroup","selectedKey","onChange","option","setItem","ChooseThemeModal","isOpen","setOpen","Modal","isBlocking","styles","scrollableContent","minWidth","minHeight","style","horizontalAlign","StackItem","grow","align","onClick","useStyles","makeStyles","display","flexFlow","justifyContent","link","color","textAlign","paddingRight","fluidLink","usernameText","overflow","textDecoration","callout","UserInfo","classes","calloutVisible","setCalloutVisible","themeModalOpen","setThemeModalOpen","userLinkRef","useKeytipRef","keytipProps","keytipStyles","keySequences","onExecute","click","handleCalloutToggle","ref","wrap","horizontal","Persona","size","PersonaSize","size32","hidePersonaDetails","marginRight","Callout","role","gapSpace","target","setInitialFocus","isBeakVisible","Separator","size56","ActionButton","iconProps","iconName","position","backgroundColor","flex","icon","alignSelf","AppBar","toggleDrawer","useTheme","IconButton","hasMenu","title","ariaLabel","block","nowrap","Icon","fontSize","spacing","s2","classNamesFunction","borderBottom","top","left","nav","marginTop","Drawer","history","useHistory","handleLinkClick","preventDefault","url","links","keyTipContent","keyTipSequence","navLinks","filterLinks","forEach","visibleLinksGroup","setVisibleLinksGroup","Panel","hasCloseButton","PanelType","smallFixedNear","isLightDismiss","marginLeft","Nav","groups","onRenderLink","isExpanded","zIndex","Navigation","navPaneOpened","setOpened","AuthorizationRedirectComponent","to","failureNotification","access","setAccess","redirect","setRedirect","notified","setNotified","isAuthorized","children","AppraisalDetailsInfo","periodId","setPeriodDetails","AppraisalService","getItems","UserService","baseUrl","teamUsersPath","updateUsersPath","getUserPath","getUserOrganizationsPath","getUserTeamMembersPath","getSettingsUsersPath","putSettingsUsersPath","normalizeUser","organization","organizations","o","getSettingsUsers","statusText","updateUser","updateSettingsUser","getUserOrganizations","getUserTeamMembers","border","suggestion","defaultGetText","SinglePicker","getTextFromItem","selected","onSelect","onRenderItem","onRenderSuggestionsItem","placeholder","maxHeight","sc","useScreenClass","_selected","setSelected","maxWidth","setMaxwidth","inputRef","useRef","getText","renderItem","defaultRenderItem","renderSuggestionsItem","defaultRenderSuggestionItem","current","clientWidth","BasePicker","inputProps","pickerCalloutProps","pickerSuggestionsProps","suggestionsContainer","selectedItems","onItemSelected","onEmptyResolveSuggestions","onResolveSuggestions","suggestions","toLowerCase","TeamMatesAutocomplete","onUserSelect","setUsers","mounted","value","AppraisalUserRedirect","defaultValue","useParams","selectedUser","setSelectedUser","handleSelect","AuthorizationComponent","onReject","chip","borderRadius","Chip","calloutPrefix","boxShadow","effects","elevation64","CustomPrefix","isCalloutVisible","setIsCalloutVisible","tabIndex","CustomSuffix","menuProps","AppraisalInput","changeHandler","blurHandler","removeHandler","changeTypeHandler","multilineTrashold","setValue","modified","setModified","multiline","setMultiline","isRelated","isDeletable","isFinished","inputEditable","setValidations","calls","checkRelated","checkFinished","checkEditable","handleBlur","e","persist","mod","handleChange","newMultiline","handleTypeChange","handleDelete","shouldFocusOnMount","shouldFocusOnContainer","replace","disabled","tooltip","Item","createdUser","createdDate","Date","toLocaleString","modifiedUser","modifiedDate","TextField","resizable","prefix","suffix","field","onRenderPrefix","onRenderSuffix","autoAdjustHeight","autoComplete","onBlur","readOnly","bottom","right","box","l2","Box","stack","paddingTop","s1","FieldSet","details","setOtherItems","labels","Achieved","Planned","Training_Planned","Training_Achieved","SWOT_S","SWOT_W","SWOT_O","SWOT_T","Feedback","min","isLocked","normalizeSet","addItem","addItemToSet","addUserItemToSet","updateItem","updateItemInSet","updateUserItemInSet","deleteItem","deleteItemFromSet","deleteUserItemFromSet","firstChange","itemId","concat","Number","isNaN","isNew","isToBeDeleted","listItem","label","chipContent","alignItems","lockedChip","lockIcon","container","AppraisalDetailsDisplay","periodDetails","achieved","setAchieved","planned","setPlanned","trainingPlanned","setTrainingPlanned","trainingAchieved","setTrainingAchieved","swotS","setSWOTS","swotW","setSWOTW","swotO","setSWOTO","swotT","setSWOTT","feedBack","setFeedBack","setLocked","md","xs","justify","lg","size24","nogutter","AppraisalUserInfo","setUserDetails","userData","getUserItems","periodData","userStyles","AppraisalUserDetails","userDetails","handleLockButton","finished","setFinished","PrimaryButton","primary","AppraisalDetails","toggleLockPeriod","AppraisalDetailsPage","header","PanelNew","handleCreate","setVal","smallFixedFar","headerText","onSubmit","finally","margin","autoFocus","PanelEdit","handleEdit","AP","REP","AppraisalsPage","screenClass","filteredItems","setFilteredItems","showClosed","setShowClosed","newPanelOpen","setNewPanelOpen","editPanelOpen","setEditPanelOpen","setSearchValue","path","useRouteMatch","selectionDetails","blue","green","isResizable","isPadded","getPeriods","loadData","handleItemInvoked","clickFinishHandler","finishPeriod","addPeriod","organizationId","updatePeriod","handleGenerateReport","ReportingService","generateAppraisalReport","periods","reportBlob","downloadBlob","exact","sm","CommandBar","SearchBox","Checkbox","checked","selectionMode","SelectionMode","single","onItemInvoked","ctx","setCtx","SettingsGeneral","TeamService","team","getTeams","addTeam","UserEditPanel","setFunc","teams","roles","selTeams","setSelTeams","selPrimaryTeam","setSelPrimaryTeam","selOrganizations","setSelOrganizations","selRole","setSelRole","handleMultiCombobox","handleDeselect","t","ComboBox","multiSelect","useComboBoxAsMenuWidth","r","SettingsUsers","setData","setTeams","setRoles","indices","selectedColumn","handleUpdate","findIndex","_teams","_roles","fluid","CommandTable","commandItems","tableProps","layoutMode","DetailsListLayoutMode","justified","SettingsAppraisalPeriods","SettingsAppraisalItems","SecurityInfoProvider","setLoaded","setPermissionCodes","setRolePermissions","setUserPermissions","codes","rolesInfo","userInfo","rolesMap","reference","userPermissions","userPermMap","autocomplete","secondaryText","searchBox","SecurityDetailsRoleDisplay","rolePermissions","selectedRole","setSelectedRole","expanded","setExpanded","setFilter","handleExpandSingle","p","handleFilterInputChange","handleSetPermission","handleAdd","permissionType","handleClick","g","getPermissionChecked","buttonStyles","onClear","paddingLeft","render","Accordion","getKey","headerProps","onRenderHeaderText","onToggle","renderPermissions","SecurityDetailsUserDisplay","SecurityDetails","permissionCodes","loaded","Pivot","aria-label","PivotItem","itemIcon","SettingsRolesPage","SettingsPage","ReportsInfoProvider","setReports","getReports","reports","propTypes","PropTypes","func","isRequired","topMargin","borderTop","invisibleInput","background","outline","ReportsNewPanel","addReport","setName","setDescription","template","setTemplate","parameter","setParameter","templates","setTemplates","parameters","setParameters","selectedParameters","setSelectedParameters","set","handleChangeParameterName","handleChangeParameterValue","handleSubmit","formData","FormData","append","JSON","stringify","getTemplates","getTempalteParameters","params","large","onRenderFooterContent","form","required","Label","templ","temp","underlined","param","paths","flat","handleChangeParameter","sp","ReportsDetailsPanel","setDetails","getReport","reportDetails","parse","aggregation","ReportsEditPanel","setReport","parametersList","setParametersList","inputErrorMessages","setInputErrorMessages","newParameter","setNewParameter","handleChangeParams","property","handleChangeNewParam","handleSave","updateReport","errorMessage","newParamName","newParamPath","Reports","detailsPanelOpen","setDetailsPanelOpen","PageHeader","report","ReportsPage","ReportTemplates","require","default","ReportTemplatesPage","AppraisalReport","setPeriods","dateFrom","setDateFrom","dateTo","setDateTo","selectedPeriods","setSelectedPeriods","handleChangeDate","dt","UTC","getFullYear","getMonth","getDate","handleGenerate","Dropdown","selectedKeys","DatePicker","onSelectDate","ReportingPage","LoginRequired","LoginPage","useFetch","initialData","dependencies","cb","TaskService","taskPath","taskStatusPath","tasksCheckConflictsPath","getTasks","getBusyTasks","getTask","createTask","updateTask","updateTaskStatus","deleteTask","createTaskObject","task","startRaw","DateTime","fromISO","expectedStartDate","toUTC","endRaw","expectedFinishDate","fromObject","year","month","day","hour","minute","second","zone","toISO","getHoursFromText","hours","minutes","seconds","s","combineDateHours","date","makeUTC","getHours","getMinutes","getSeconds","getWeekFromDate","firstDay","firstDayUTC","makeUTCDateOnly","getDay","setDate","getNearestTimeUTC","fromJSDate","Math","ceil","getTimeText","toFormat","getValidTimeStringUTC","string","baseDate","pattern","now","millisecond","getEndTimeTextUTC","startTime","duration","plus","transform2UTCDate","exp","utc","toJSDate","setDateFromTo","from","fromDT","PanelContext","isPanel","onRenderFooter","setOnRenderFooter","usePanel","Component","componentProps","componentRef","Provider","isFooterAtBottom","picker","suggestionRoot","suggestionCheck","suggestionText","textTransform","itemRoot","PeoplePicker","onRemove","selectedSet","useMemo","Set","handleCheckboxClick","ev","stopPropagation","has","onKeyDown","resolveDelay","preventDismissOnScroll","AddTask","remarks","DateUtils","isBackgroundTask","assignedTo","handleDataChange","args","expDate","local","zoneName","MaskedTextField","mask","maskChar","validTime","startDT","endDT","diff","SpinButton","onIncrement","onDecrement","step","incrementButtonAriaLabel","decrementButtonAriaLabel","labelPosition","Position","CurrentDate","currentDate","setCurrentDate","minus","firstDayOfWeek","TaskPersonas","Facepile","personaSize","maxDisplayablePersonas","overflowButtonType","OverflowButtonType","descriptive","overflowButtonProps","ariaDescription","personas","personaName","borderCollapse","TaskCollapsed","collapsed","setCollapsed","handleStatusChange","isOpened","ButtonGrid","columnCount","borderLeft","collapse","cursor","marginBottom","chevron","chevronIcon","rows","flexGrow","taskDescription","whiteSpace","textOverflow","prewrap","neutralSecondaryAlt","time","lineHeight","TaskItem","setTasks","setTime","startDate","finishDate","fromHours","fromMinutes","toHours","toMinutes","clsx","alignContent","semanticColors","bodyBackground","l1","TaskContainer","hourOptions","combo","space","WorkingHours","setHours","calloutProps","calloutMaxHeight","DialogContext","isDialog","isVisible","setVisible","show","accept","cancel","resolve","setResolve","dialogFooter","setDialogFooter","useDialog","visible","res","Dialog","hidden","modalProps","dialogContentProps","DialogType","normal","subText","DialogFooter","TaskBusyConflict","conflictTasks","paused","ctask","component","Link","actualStartDate","useLocalStorageState","initialValue","transform","d","ConnectionService","subscribePath","connectSSE","es","EventSource","subscribe","TaskLiveUpdate","handleMessage","action","initiator","addEventListener","removeEventListener","searchIcon","TaskDashboard","userOptions","setUserOptions","selectedUsers","setSelectedUsers","fromDate","toDate","newPanel","expectedStart","dialogProps","setDialogProps","resolveBusyConflictDialog","_accept","handleUserSelect","conflicts","updated","ts","unpaused","openOnKeyboardFocus","selUser","undefined","t1","t2","serviceRequestWrapper","requestFunc","successStatusCode","showNotification","TaskFlowService","singleUrl","getTaskFlow","createTaskFlow","updateTaskFlow","AddFlow","setFlows","panel","createdFlow","htmlFor","SwatchColorPicker","cellHeight","cellWidth","cellShape","colorCells","selectedId","onColorChanged","EditFlow","isActive","flow","setFlow","fl","TaskFlows","flows","addFlowPanel","document","getElementById","contains","editFlowPanel","flowItem","noSelect","userSelect","PlanningCell","userFlows","handleInvoke","isSelected","onDoubleClick","Array","f","row","PlanningMatrix","userFlowMap","dates","selectedCell","setSelectedCell","today","toISODate","userCol","handleSelectCell","fixedColumns","onRenderRow","DetailsRow","none","TaskPlanningService","addFlowUrl","planningId","flowId","removeFlowUrl","createPlanning","addFlowToPlanning","removeFromFromPlanning","colorBox","removeIcon","FlowPicker","showDeleteIcon","showCheckboxes","focusPoint","visibility","PlanningFlowsDialog","planning","addFlow","removeFlow","validOptions","userTeams","TaskPlanning","setDates","selectedTeam","setSelectedTeam","Map","handleAddFlow","plan","handleRemoveFlow","flowsDialog","largeHeader","isMonthPickerVisible","dateRangeType","DateRangeType","Week","showWeekNumbers","showSixWeeksByDefault","showGoToToday","selDate","selDates","TaskRuleService","taskRulePath","getTaskRules","getTaskRule","createTaskRule","updateTaskRule","deleteTaskRule","monthlyOptions","weeklyCheck","monthlyCheck","monthlyDropdown","AddRuleType","handleSetWeeklyData","weeklyDays","handleSetMonths","monthlyMonths","isDaySelected","defaultSelectedKey","dailyType","verticalFill","monthlyOn","newVal","max","placeHolder","monthlyOnType","AddRule","setRules","isSharedTask","taskStartTime","validFrom","taskDuration","typeOptions","Object","keys","handleSelectDate","validTo","weekday","setMonth","setMinutes","checkbox","typeIcon","typeDetails","paddingBottom","userColumn","separator","weekDay","weekDays","months","getOrdinalSuffix","number","RuleTypeDetails","rule","getTypeIcon","ruleDetails","getRenderDetails","RuleDetails","editing","setEditing","flowsData","renderFooter","borderless","allowTextInput","vertical","TaskRules","rules","detailsPanel","medium","_isOpen","Tasks","ConnectionManager","con","HomePage","lazy","App","initContext","ThemeProvider","applyTo","KeytipLayer","keytipStartSequences","modifierKeys","KeyCodes","alt","fallback","initializeIcons","ReactDOM","StrictMode","CreateTemplatePanel","setAggregation","file","setFile","sample","setSample","openAcordion","setOpenAccordion","generateTemplate","handleSample","getSample","createTemplate","rel","open","fieldGroup","filelist","files","TemplateDetailsPanel","setEdit","getTemplate","filename","downloadTemplate","TemplateEditPanel","updateTemplates","setUpdate","updateTemplate","updateResult","onRenderLabel","labelId","controlId","fontWeight","aria-labelledby","ItemType","createPanelOpen","setCreatePanelOpen","templatesPath","templatePath","templateDownloadPath","templateParametersPath","generateTemplatePath","templateSamplePath","formdata","headers","responseType","appraisalReportPath","reportPath","postReportGeneratePath","reportsPath","generateReport","getPeriodsPath","addPeriodsPath","periodPath","periodFinishPath","getItemsPath","getUserItemsPath","toggleLockPeriodPath","getItemPath","getOrphansPath","addItemPath","updateItemPath","deleteItemPath","addItemToPeriodPath","addUserItemPath","updateItemInPeriodPath","updateUserItemPath","deleteItemFromPeriodPath","deleteUserItemPath","updateItemTypePath","updateUserItemTypePath","getOrphans","addOrphan","addUserItem","updateItemInPeriod","updateUserItem","updateItemType","updateUserItemType","deleteItemFromPeriod","deleteUserItem","body","blankItem","dif","eventEmitter","EventEmitter","event","fn","once","payload","freeze","defaultRenderHeaderFold","headerIcon","headerIconOpen","defaultRenderHeaderText","defaultRenderHeader","classProps","onRenderHeaderFold","AccordionItemContainer","onKeyPress","onRenderHeader","itemContent","exclusive","compact","concatStyleSets","elevation4","transition","transformOrigin","defstyles","defHeaderProps","handleSetOpen","itemKey"],"mappings":"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","file":"static/js/main.bf86d45f.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Notification } from '../components/notification';\r\nimport Emitter from '../components/shared/Emitter';\r\n\r\nconst NotificationService = {\r\n  notify(text, type, actions) {\r\n    Emitter.emit('notification-add', {\r\n      onRender: (onDismiss) => (\r\n        // eslint-disable-next-line react/jsx-filename-extension\r\n        <Notification\r\n          text={text}\r\n          type={type}\r\n          actions={actions}\r\n          onDismiss={onDismiss}\r\n        />\r\n      ),\r\n    });\r\n  },\r\n\r\n  notifyError(text) {\r\n    this.notify(text, 'error');\r\n  },\r\n\r\n  notifySuccess(text) {\r\n    this.notify(text, 'success');\r\n  },\r\n\r\n  notifyInfo(text) {\r\n    this.notify(text, 'info');\r\n  },\r\n\r\n  notifySevereWarning(text) {\r\n    this.notify(text, 'severeWarning');\r\n  },\r\n};\r\n\r\nexport default NotificationService;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\r\nimport { v4 as uuid } from 'uuid';\r\nimport Emitter from '../shared/Emitter';\r\nimport './styles.css';\r\n\r\nconst NotificationContainer = ({ timeout = 5000 }) => {\r\n  const [items, setItems] = useState([]);\r\n\r\n  const onDismiss = (idx) => () => {\r\n    setItems((prev) => {\r\n      const found = prev.find((i) => i.id === idx);\r\n      if (found) {\r\n        if (found.timer) clearTimeout(found.timer);\r\n        return prev.filter((i) => i.id !== idx);\r\n      }\r\n      return prev;\r\n    });\r\n  };\r\n\r\n  // Use below effect to start listening to Notification events\r\n  // When element is unmounted, listener is removed\r\n  useEffect(() => {\r\n    const listener = (item) => {\r\n      const idx = uuid();\r\n      setItems((prev) => [...prev, {\r\n        ...item,\r\n        onRender: item.onRender.bind({}, onDismiss(idx)),\r\n        id: idx,\r\n        timer: setTimeout(\r\n          () => setItems((prevState) => prevState.filter((i) => i.id !== idx)), timeout,\r\n        ),\r\n      }]);\r\n    };\r\n\r\n    Emitter.on('notification-add', listener);\r\n    return () => {\r\n      Emitter.off('notification-add');\r\n    };\r\n  }, [timeout]);\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <TransitionGroup>\r\n        {items.map((item) => (\r\n          <CSSTransition\r\n            key={item.id}\r\n            timeout={400}\r\n            classNames=\"notification\"\r\n          >\r\n            <div className=\"item-wrapper\">\r\n              {item.onRender()}\r\n            </div>\r\n          </CSSTransition>\r\n        ))}\r\n      </TransitionGroup>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotificationContainer;\r\n","const constants = {\r\n  dialogAnswers: {\r\n    Yes: 1,\r\n    No: 0,\r\n    Cancel: 2,\r\n    Ok: 3,\r\n  },\r\n  timeOptions: (() => {\r\n    const options = [];\r\n    for (let h = 0; h < 24; h += 1) {\r\n      for (let m = 0; m < 60; m += 10) {\r\n        const str = `${`0${h}`.slice(-2)}:${`0${m}`.slice(-2)}`;\r\n        options.push({\r\n          key: str,\r\n          text: str,\r\n        });\r\n      }\r\n    }\r\n    return options;\r\n  })(),\r\n  connections: {\r\n    actions: {\r\n      INSERT: 'INSERT',\r\n      UPDATE: 'UPDATE',\r\n      DELETE: 'DELETE',\r\n    },\r\n  },\r\n  tasks: {\r\n    status: {\r\n      New: 'New',\r\n      InProgress: 'InProgress',\r\n      Paused: 'Paused',\r\n      Finished: 'Finished',\r\n      Cancelled: 'Cancelled',\r\n    },\r\n    types: {\r\n      Daily: 'Daily',\r\n      Weekly: 'Weekly',\r\n      Monthly: 'Monthly',\r\n    },\r\n    DayTypes: {\r\n      Workday: 'Work',\r\n      Calendar: 'Calendar',\r\n    },\r\n    MonthlyOnType: {\r\n      Day: 'Day',\r\n      Workday: 'Workday',\r\n      Monday: 'Monday',\r\n      Tuesday: 'Tuesday',\r\n      Wednesday: 'Wednesday',\r\n      Thursday: 'Thursday',\r\n      Friday: 'Friday',\r\n      Saturday: 'Saturday',\r\n      Sunday: 'Sunday',\r\n    },\r\n  },\r\n  colors: [\r\n    '#FFB900', '#FF8C00', '#E74856', '#E81123',\r\n    '#0078D7', '#0063B1', '#0099BC', '#2D7D9A',\r\n    '#EA005E', '#C30052', '#8E8CD8', '#6B69D6',\r\n    '#00B7C3', '#038387', '#7A7574', '#5D5A58',\r\n    '#68768A', '#515C6B', '#B146C2', '#881798',\r\n    '#00CC6A', '#10893E', '#498205', '#107C10',\r\n  ],\r\n  securities: {\r\n    REPORTS: {\r\n      code: 'REPORTS',\r\n      description: 'Access to view, generate, create and edit reports',\r\n      grants: {\r\n        read: 'read',\r\n        create: 'create',\r\n        update: 'update',\r\n        delete: 'delete',\r\n      },\r\n    },\r\n    APPRAISAL_DETAILS: {\r\n      code: 'APPRAISAL DETAILS',\r\n      description: 'Access to see, add, edit, delete Appraisal details for user himself',\r\n      grants: {\r\n        read: 'read',\r\n        create: 'create',\r\n        update: 'update',\r\n        delete: 'delete',\r\n        createFinished: 'create-finished',\r\n        updateFinished: 'update-finished',\r\n        deleteFinished: 'delete-finished',\r\n      },\r\n    },\r\n    APPRAISAL_DETAILS_OTHER: {\r\n      code: 'APPRAISAL DETAILS - OTHER USERS',\r\n      description: 'Access to see, add, edit, delete Appraisal details for other users within the team',\r\n      grants: {\r\n        read: 'read',\r\n        create: 'create',\r\n        update: 'update',\r\n        delete: 'delete',\r\n        createFinished: 'create-finished',\r\n        updateFinished: 'update-finished',\r\n        deleteFinished: 'delete-finished',\r\n        toggleLock: 'toggle-lock',\r\n      },\r\n    },\r\n    APPRAISAL_PERIODS: {\r\n      code: 'APPRAISAL PERIODS',\r\n      description: 'Access to see, add, edit, finish Appraisal Periods',\r\n      grants: {\r\n        read: 'read',\r\n        create: 'create',\r\n        update: 'update',\r\n        delete: 'delete',\r\n        finish: 'finish',\r\n      },\r\n    },\r\n    SETTINGS: {\r\n      code: 'SETTINGS',\r\n      description: 'Access to various settings. Be careful about following: users - will allow users to modify other users; permissions - will allow users to alter permissions',\r\n      grants: {\r\n        read: 'read',\r\n        general: 'general',\r\n        users: 'users',\r\n        appraisalItems: 'appraisal-items',\r\n        appraisalPeriods: 'appraisal-periods',\r\n        permissions: 'permissions',\r\n      },\r\n    },\r\n    AUDITS: {\r\n      code: 'AUDITS',\r\n      description: 'Access to request, execute, update, delete audits.',\r\n      grants: {\r\n        read: 'read',\r\n        create: 'create',\r\n        update: 'update',\r\n        delete: 'delete',\r\n      },\r\n    },\r\n    REPORT_TEMPLATES: {\r\n      code: 'REPORT-TEMPLATES',\r\n      description: 'Access to create and edit report templates',\r\n      grants: {\r\n        read: 'read',\r\n        create: 'create',\r\n        update: 'update',\r\n        delete: 'delete',\r\n      },\r\n    },\r\n    TASK: {\r\n      code: 'TASK',\r\n      description: 'Access to read, update, create or delete tasks',\r\n      grants: {\r\n        read: 'read',\r\n        create: 'create',\r\n        update: 'update',\r\n        delete: 'delete',\r\n      },\r\n    },\r\n    TASK_RULE: {\r\n      code: 'TASK-RULE',\r\n      description: 'Access to read, update, create or delete task rules',\r\n      grants: {\r\n        read: 'read',\r\n        create: 'create',\r\n        update: 'update',\r\n        delete: 'delete',\r\n      },\r\n    },\r\n    TASK_FLOW: {\r\n      code: 'TASK-FLOW',\r\n      description: 'Access to read, update, create or delete task flows',\r\n      grants: {\r\n        read: 'read',\r\n        create: 'create',\r\n        update: 'update',\r\n        delete: 'delete',\r\n      },\r\n    },\r\n    TASK_PLANNING: {\r\n      code: 'TASK-PLANNING',\r\n      description: 'Access to read, update, create or delete task planning items',\r\n      grants: {\r\n        read: 'read',\r\n        create: 'create',\r\n        update: 'update',\r\n        delete: 'delete',\r\n      },\r\n    },\r\n  },\r\n};\r\n\r\nexport default constants;\r\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { MessageBar, MessageBarType, Text } from '@fluentui/react';\n\nconst Notification = ({\n  type, text, actions, onDismiss,\n}) => {\n  let typeMessage;\n  switch (type) {\n    case 'success':\n      typeMessage = MessageBarType.success;\n      break;\n    case 'warning':\n      typeMessage = MessageBarType.warning;\n      break;\n    case 'error':\n      typeMessage = MessageBarType.error;\n      break;\n    case 'info':\n      typeMessage = MessageBarType.info;\n      break;\n    case 'blocked':\n      typeMessage = MessageBarType.blocked;\n      break;\n    case 'severeWarning':\n      typeMessage = MessageBarType.severeWarning;\n      break;\n    default:\n      typeMessage = MessageBarType.info;\n      break;\n  }\n  return (\n    <MessageBar\n      messageBarType={typeMessage}\n      actions={actions || null}\n      onDismiss={onDismiss}\n    >\n      <Text variant=\"medium\">{text}</Text>\n    </MessageBar>\n  );\n};\n\nNotification.propTypes = {\n  type: PropTypes.string.isRequired,\n  text: PropTypes.string.isRequired,\n  actions: PropTypes.shape({}).isRequired,\n  onDismiss: PropTypes.func.isRequired,\n};\n\nexport default Notification;\n","import NotificationContainer from './NotificationContainer';\r\nimport Notification from './Notification';\r\n\r\nexport default NotificationContainer;\r\n\r\nexport { Notification };\r\n","/* eslint-disable react/jsx-props-no-spreading */\r\nimport React, { useState, useEffect, useCallback } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { DetailsList, Selection } from '@fluentui/react';\r\n\r\nconst Table = ({\r\n  columns, items, searchValue, sortedCol, setSelectionDetails, ...props\r\n}) => {\r\n  const [sortedColumn, setSortedColumn] = useState(null);\r\n  const [_columns, setColumns] = useState(columns);\r\n  const [_items, setItems] = useState([]);\r\n  const selection = new Selection({\r\n    onSelectionChanged: () => {\r\n      setSelectionDetails({\r\n        count: selection.getSelectedCount(),\r\n        items: selection.getSelection(),\r\n      });\r\n    },\r\n  });\r\n\r\n  const getSortFunction = (column) => {\r\n    const sortFunc = (a, b) => {\r\n      if (!column.isSortedDescending) {\r\n        return a[column.fieldName] < b[column.fieldName] ? -1 : 1;\r\n      }\r\n      return a[column.fieldName] > b[column.fieldName] ? -1 : 1;\r\n    };\r\n    if (column.sort) {\r\n      return (a, b) => {\r\n        if (!column.isSortedDescending) {\r\n          return column.sort(b, a);\r\n        }\r\n        return column.sort(a, b);\r\n      };\r\n    }\r\n    return sortFunc;\r\n  };\r\n\r\n  const handleSort = (evt, column) => {\r\n    if (column.isSortable) {\r\n      let columnCopy = column;\r\n      const columnsCopy = _columns.map((col) => {\r\n        const c = col;\r\n        // column we're sorting now\r\n        if (c.key === column.key) {\r\n        // if it's already sorted, just invert the sorting\r\n          columnCopy = c;\r\n          if (c.isSorted) {\r\n            c.isSortedDescending = !c.isSortedDescending;\r\n            return c;\r\n          }\r\n          // columns was not sorted previously, just set it sorted\r\n          c.isSorted = true;\r\n          c.isSortedDescending = true;\r\n        } else {\r\n        // other column, remove the sorting\r\n          c.isSorted = false;\r\n          c.isSortedDescending = false;\r\n        }\r\n        return c;\r\n      });\r\n      setColumns(columnsCopy);\r\n      // setItems(_items.sort(getSortFunction(columnCopy)));\r\n      setSortedColumn(columnCopy);\r\n    }\r\n  };\r\n\r\n  const filterValues = useCallback((values) => {\r\n    if (!searchValue) {\r\n      return values;\r\n    }\r\n    const rg = new RegExp(searchValue, 'i');\r\n    return values.filter((item) => {\r\n      const filterableColumns = _columns.filter((c) => c.isFilterable);\r\n      for (let i = 0; i < filterableColumns.length; i += 1) {\r\n        const col = filterableColumns[i];\r\n        let val = item[col.fieldName];\r\n        if (col.filterValueAccessor) {\r\n          val = col.filterValueAccessor(item);\r\n        }\r\n        if (rg.test(val)) return true;\r\n      }\r\n      return false;\r\n    });\r\n  }, [_columns, searchValue]);\r\n\r\n  useEffect(() => {\r\n    const copy = items.slice();\r\n    if (sortedColumn) {\r\n      copy.sort(getSortFunction(sortedColumn));\r\n    }\r\n    if (!searchValue) {\r\n      return setItems(copy);\r\n    }\r\n    return setItems(filterValues(copy));\r\n  }, [items, searchValue, filterValues, sortedColumn]);\r\n\r\n  useEffect(() => {\r\n    if (sortedCol) {\r\n      setColumns((prev) => prev.map((col) => (col.key === sortedCol.key\r\n        ? ({\r\n          ...col,\r\n          isSorted: sortedCol.isSorted,\r\n          isSortedDescending: sortedCol.isSortedDescending,\r\n        }) : col)));\r\n      setSortedColumn(sortedCol);\r\n    }\r\n  }, [sortedCol]);\r\n\r\n  return (\r\n    <DetailsList\r\n      {...props}\r\n      selection={selection}\r\n      columns={_columns.map((c) => ({ ...c, onColumnClick: handleSort }))}\r\n      items={_items}\r\n      selectionPreservedOnEmptyClick\r\n    />\r\n  );\r\n};\r\n\r\nTable.propTypes = {\r\n  columns: PropTypes.arrayOf(PropTypes.shape({\r\n    key: PropTypes.string,\r\n    name: PropTypes.string,\r\n    fieldName: PropTypes.string,\r\n    minWidth: PropTypes.number,\r\n    maxWidth: PropTypes.number,\r\n    isSortable: PropTypes.bool,\r\n    isFilterable: PropTypes.bool,\r\n    isResizable: PropTypes.bool,\r\n    sort: PropTypes.func,\r\n    onRender: PropTypes.func,\r\n  })).isRequired,\r\n  items: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\r\n  searchValue: PropTypes.string,\r\n  sortedCol: PropTypes.shape({\r\n    key: PropTypes.string,\r\n    name: PropTypes.string,\r\n    fieldName: PropTypes.string,\r\n    minWidth: PropTypes.number,\r\n    maxWidth: PropTypes.number,\r\n    isSortable: PropTypes.bool,\r\n    isFilterable: PropTypes.bool,\r\n    isResizable: PropTypes.bool,\r\n    sort: PropTypes.func,\r\n    onRender: PropTypes.func,\r\n    isSorted: PropTypes.bool,\r\n    isSortedDescending: PropTypes.bool,\r\n  }),\r\n  setSelectionDetails: PropTypes.func,\r\n};\r\n\r\nTable.defaultProps = {\r\n  searchValue: '',\r\n  sortedCol: null,\r\n  setSelectionDetails: () => {},\r\n};\r\n\r\nexport default Table;\r\n","import Table from './Table';\r\n\r\nexport default Table;\r\n","/**\r\n * @param {Array.<function(): {result: boolean, message: string}>} validations\r\n * @return {function(): {result: boolean, message: string}} validations\r\n */\r\nconst and = (validations) => async () => {\r\n  try {\r\n    if (validations.length === 0) {\r\n      throw new Error('No validations provided');\r\n    }\r\n    const results = await Promise.all(validations.map((v) => v()));\r\n    if (results.every((v) => v.result)) {\r\n      return results[0];\r\n    }\r\n    return results.find((v) => v.result === false);\r\n  } catch (err) {\r\n    return {\r\n      result: false,\r\n      message: err.message,\r\n    };\r\n  }\r\n};\r\n\r\n/**\r\n * @param {Array.<function(): {result: boolean, message: string}>} validations\r\n * @return {function(): {result: boolean, message: string}} validations\r\n */\r\nconst andSync = (validations) => () => {\r\n  try {\r\n    const l = validations.length;\r\n    if (l === 0) {\r\n      throw new Error('No validations provided');\r\n    }\r\n    let last;\r\n    for (let i = 0; i < l; i += 1) {\r\n      last = validations[i]();\r\n      if (!last.result) break;\r\n    }\r\n    return last;\r\n  } catch (err) {\r\n    return {\r\n      result: false,\r\n      message: 'error',\r\n    };\r\n  }\r\n};\r\n\r\n/**\r\n * @param {Array.<function(): {result: boolean, message: string}>} validations\r\n * @return {function(): {result: boolean, message: string}} validations\r\n */\r\nconst or = (validations) => async () => {\r\n  try {\r\n    if (validations.length === 0) {\r\n      throw new Error('No validations provided');\r\n    }\r\n    const results = await Promise.all(validations.map((v) => v()));\r\n    if (results.some((v) => v.result)) {\r\n      return results.find((v) => v.result);\r\n    }\r\n    return results[results.length - 1];\r\n  } catch (err) {\r\n    return {\r\n      result: false,\r\n      message: 'error',\r\n    };\r\n  }\r\n};\r\n\r\n/**\r\n * @param {Array.<function(): {result: boolean, message: string}>} validations\r\n * @return {function(): {result: boolean, message: string}} validations\r\n */\r\nconst orSync = (validations) => () => {\r\n  try {\r\n    const l = validations.length;\r\n    if (l === 0) {\r\n      throw new Error('No validations provided');\r\n    }\r\n    let last;\r\n    for (let i = 0; i < l; i += 1) {\r\n      last = validations[i]();\r\n      if (last.result) break;\r\n    }\r\n    return last;\r\n  } catch (err) {\r\n    return {\r\n      result: false,\r\n      message: 'error',\r\n    };\r\n  }\r\n};\r\n\r\n/**\r\n * @param {function(): {result: boolean, message: string}} validations\r\n * @return {function(): {result: boolean, message: string}} validations\r\n */\r\nconst not = (validation) => async () => {\r\n  try {\r\n    const val = await validation();\r\n    val.result = !val.result;\r\n    val.message = `Not - ${val.message}`;\r\n    return val;\r\n  } catch (err) {\r\n    return {\r\n      result: false,\r\n      message: 'error',\r\n    };\r\n  }\r\n};\r\n\r\n/**\r\n * @param {function(): {result: boolean, message: string}} validations\r\n * @return {function(): {result: boolean, message: string}} validations\r\n */\r\nconst notSync = (validation) => () => {\r\n  try {\r\n    const val = validation();\r\n    val.result = !val.result;\r\n    return val;\r\n  } catch (err) {\r\n    return {\r\n      result: false,\r\n      message: 'error',\r\n    };\r\n  }\r\n};\r\n\r\n/**\r\n *\r\n * @param {function(): {result: boolean, message: string}} validation\r\n * @param {boolean} throwExceptions\r\n * @returns {Promise<{result: boolean, message: string}>}\r\n */\r\nconst perform = async (validation, throwExceptions = true) => {\r\n  const v = await validation();\r\n  if (!v.result) {\r\n    if (throwExceptions) {\r\n      throw new Error(v.message);\r\n    } else {\r\n      return v;\r\n    }\r\n  } else {\r\n    return v;\r\n  }\r\n};\r\n\r\n/**\r\n *\r\n * @param {function(): {result: boolean, message: string}} validation\r\n * @param {boolean} throwExceptions\r\n * @returns {{ result: boolean, message: string }}\r\n */\r\nconst performSync = (validation, throwExceptions = true) => {\r\n  const v = validation();\r\n  if (!v.result) {\r\n    if (throwExceptions) {\r\n      throw new Error(v.message);\r\n    } else {\r\n      return v;\r\n    }\r\n  } else {\r\n    return v;\r\n  }\r\n};\r\n\r\nexport default {\r\n  and,\r\n  andSync,\r\n  or,\r\n  orSync,\r\n  not,\r\n  notSync,\r\n  perform,\r\n  performSync,\r\n};\r\n","/**\r\n * This file contains valious validation functions.\r\n * Function schema\r\n * @param {any} args - any arguments function might use\r\n * @returns {function(): {result: boolean, message: string}}\r\n */\r\n\r\nconst userExists = (user) => async () => ({\r\n  result: Boolean(user),\r\n  message: 'User doesn\\'t exist.',\r\n});\r\n\r\nconst userAuthorized = (context, code, grant) => async () => ({\r\n  result: context.Authorize(code, grant),\r\n  message: `Access denied. Code: ${code}, Grant: ${grant}`,\r\n});\r\n\r\nexport default {\r\n  userExists,\r\n  userAuthorized,\r\n};\r\n","/**\r\n * This file contains valious validation functions.\r\n * Function schema\r\n * @param {any} args - any arguments function might use\r\n * @returns {function(): {result: boolean, message: string}}\r\n */\r\n\r\n/**\r\n * @param {any} obj\r\n * @returns {function(): {result: boolean, message: string}} validation result\r\n */\r\nconst isTruthy = (obj) => () => ({\r\n  result: Boolean(obj),\r\n  message: `${obj} is not true`,\r\n});\r\n\r\nexport default {\r\n  isTruthy,\r\n};\r\n","/**\r\n * This file contains valious validation functions.\r\n * Function schema\r\n * @param {any} args - any arguments function might use\r\n * @returns {function(): {result: boolean, message: string}}\r\n */\r\nimport operators from './operators';\r\nimport userVal from './UserValidators';\r\nimport generalVal from './General';\r\nimport constants from '../../utils/constants';\r\n\r\nconst {\r\n  and, or, not, perform,\r\n} = operators;\r\nconst AD = constants.securities.APPRAISAL_DETAILS;\r\nconst ADO = constants.securities.APPRAISAL_DETAILS_OTHER;\r\n\r\nconst periodExists = (period) => async () => ({\r\n  result: Boolean(period),\r\n  message: 'Period doesn\\'t exist.',\r\n});\r\n\r\nconst periodLocked = (period, userId, message = null) => async () => {\r\n  const { users } = period;\r\n  if (users) {\r\n    // eslint-disable-next-line no-underscore-dangle\r\n    const userPeriod = users.find((u) => u._id === userId);\r\n    if (userPeriod) {\r\n      return {\r\n        result: Boolean(userPeriod.locked),\r\n        message: message || 'Period is not locked',\r\n      };\r\n    }\r\n  }\r\n  return {\r\n    result: false,\r\n    message: message || 'Period is not locked',\r\n  };\r\n};\r\n\r\nconst itemExists = (item) => async () => ({\r\n  result: Boolean(item),\r\n  message: 'Item doesn\\'t exist.',\r\n});\r\n\r\nconst periodStatus = (period, status) => async () => ({\r\n  result: Boolean(period.status === status),\r\n  message: `Period '${period.name}' status is not valid. Expected (${status})`,\r\n});\r\n\r\nconst itemStatus = (item, status) => async () => ({\r\n  result: Boolean(item.status === status),\r\n  message: `Item '${item.content}' status is not valid. Expected '${status}'.`,\r\n});\r\n\r\nconst itemType = (item, type) => async () => ({\r\n  result: Boolean(item.type === type),\r\n  message: `Item '${item.content}' type is not valid. Expected '${type}'.`,\r\n});\r\n\r\nconst itemSameUser = (item, user) => async () => ({\r\n  result: Boolean(String(item.user) === String(user.id)),\r\n  message: `Item '${item.content}'s user is not the same as '${user.username}'`,\r\n});\r\n\r\nconst itemRelated = (item) => async () => ({\r\n  result: Boolean(item.relatedItemId),\r\n  message: 'Item is related.',\r\n});\r\n\r\nconst itemContentNotNull = (item) => async () => ({\r\n  result: Boolean(item.content.trim().length > 0),\r\n  message: 'Item content is empty',\r\n});\r\n\r\nconst canInsert = (context, period, userId) => async () => {\r\n  const result = perform(or([\r\n    and([\r\n      periodStatus(period, 'Active'),\r\n      or([\r\n        and([\r\n          not(generalVal.isTruthy(userId)),\r\n          userVal.userAuthorized(context, AD.code, AD.grants.create),\r\n        ]),\r\n        and([\r\n          generalVal.isTruthy(userId),\r\n          userVal.userAuthorized(context, ADO.code, ADO.grants.create),\r\n        ]),\r\n      ]),\r\n    ]),\r\n    and([\r\n      periodStatus(period, 'Finished'),\r\n      or([\r\n        and([\r\n          not(generalVal.isTruthy(userId)),\r\n          userVal.userAuthorized(context, AD.code, AD.grants.createFinished),\r\n        ]),\r\n        and([\r\n          generalVal.isTruthy(userId),\r\n          userVal.userAuthorized(context, ADO.code, ADO.grants.createFinished),\r\n        ]),\r\n      ]),\r\n    ]),\r\n  ]), false);\r\n  return result;\r\n};\r\n\r\nconst canUpdate = (context, period, userId) => async () => {\r\n  const result = perform(or([\r\n    and([\r\n      periodStatus(period, 'Active'),\r\n      or([\r\n        and([\r\n          not(generalVal.isTruthy(userId)),\r\n          userVal.userAuthorized(context, AD.code, AD.grants.update),\r\n        ]),\r\n        and([\r\n          generalVal.isTruthy(userId),\r\n          userVal.userAuthorized(context, ADO.code, ADO.grants.update),\r\n        ]),\r\n      ]),\r\n    ]),\r\n    and([\r\n      periodStatus(period, 'Finished'),\r\n      or([\r\n        and([\r\n          not(generalVal.isTruthy(userId)),\r\n          userVal.userAuthorized(context, AD.code, AD.grants.updateFinished),\r\n        ]),\r\n        and([\r\n          generalVal.isTruthy(userId),\r\n          userVal.userAuthorized(context, ADO.code, ADO.grants.updateFinished),\r\n        ]),\r\n      ]),\r\n    ]),\r\n  ]), false);\r\n  return result;\r\n};\r\n\r\nconst canDelete = (context, period, userId) => async () => {\r\n  const result = await perform(or([\r\n    and([\r\n      periodStatus(period, 'Active'),\r\n      or([\r\n        and([\r\n          not(generalVal.isTruthy(userId)),\r\n          userVal.userAuthorized(context, AD.code, AD.grants.delete),\r\n        ]),\r\n        and([\r\n          generalVal.isTruthy(userId),\r\n          userVal.userAuthorized(context, ADO.code, ADO.grants.delete),\r\n        ]),\r\n      ]),\r\n    ]),\r\n    and([\r\n      periodStatus(period, 'Finished'),\r\n      or([\r\n        and([\r\n          not(generalVal.isTruthy(userId)),\r\n          userVal.userAuthorized(context, AD.code, AD.grants.deleteFinished),\r\n        ]),\r\n        and([\r\n          generalVal.isTruthy(userId),\r\n          userVal.userAuthorized(context, ADO.code, ADO.grants.deleteFinished),\r\n        ]),\r\n      ]),\r\n    ]),\r\n  ]), false);\r\n  return result;\r\n};\r\n\r\nexport default {\r\n  periodExists,\r\n  itemExists,\r\n  periodStatus,\r\n  periodLocked,\r\n  itemStatus,\r\n  itemType,\r\n  itemSameUser,\r\n  itemRelated,\r\n  itemContentNotNull,\r\n  canInsert,\r\n  canUpdate,\r\n  canDelete,\r\n};\r\n","import appraisalValidators from './AppraisalValidators';\r\nimport userValidators from './UserValidators';\r\nimport generalValidators from './General';\r\nimport operators from './operators';\r\n\r\nconst {\r\n  and, andSync, or, orSync, not, notSync, perform, performSync,\r\n} = operators;\r\n\r\nconst validate = {\r\n  ...appraisalValidators,\r\n  ...userValidators,\r\n  ...generalValidators,\r\n};\r\n\r\nexport {\r\n  and,\r\n  andSync,\r\n  or,\r\n  orSync,\r\n  not,\r\n  notSync,\r\n  perform,\r\n  performSync,\r\n  validate,\r\n};\r\n","import React from 'react';\r\nimport { Notification } from '../components/notification';\r\nimport Emitter from '../components/shared/Emitter';\r\n\r\n// Global context will store the everything that should be shared across all\r\n// components but i don't want to pass it around as props.\r\nconst GlobalContext = React.createContext({\r\n  user: null,\r\n  connection: null,\r\n  connectionId: null,\r\n  // eslint-disable-next-line no-unused-vars\r\n  Authorize: (code, grant, notification) => false,\r\n  setContext: () => null,\r\n  userPreferences: {\r\n    theme: null,\r\n  },\r\n  notify: (text, type, actions = null) => {\r\n    Emitter.emit('notification-add', {\r\n      onRender: (onDismiss) => (\r\n        // eslint-disable-next-line react/jsx-filename-extension\r\n        <Notification\r\n          text={text}\r\n          type={type}\r\n          actions={actions}\r\n          onDismiss={onDismiss}\r\n        />\r\n      ),\r\n    });\r\n  },\r\n});\r\n\r\nexport default GlobalContext;\r\n","import axios from 'axios';\r\nimport NotificationService from './NotificationService';\r\n\r\nconst AuthorizationService = {\r\n  getRolesPath: '/api/security/roles',\r\n  getCurrentUserSecuritiesPath: '/api/security/permissions/me',\r\n  getUserSecuritiesPath: (id) => `/api/security/permissions/user/${id}`,\r\n  getOrganizationUsersSecuritiesPath: '/api/security/permissions/organization',\r\n  getRolesSecuritiesPath: '/api/security/permissions/role',\r\n  getPermissionCodesPath: '/api/security/permissions/code',\r\n  addPermissionPath: '/api/security/permissions',\r\n  updatePermissionPath: (id) => `/api/security/permissions/${id}`,\r\n  deletePermissionPath: (id) => `/api/security/permissions/${id}`,\r\n\r\n  async getRoles() {\r\n    try {\r\n      const result = await axios.get(this.getRolesPath);\r\n      if (result.status === 200) {\r\n        return result.data;\r\n      }\r\n      return null;\r\n    } catch (err) {\r\n      NotificationService\r\n        .notifyError((err.response.data && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async getSecurities() {\r\n    try {\r\n      const result = await axios.get(this.getCurrentUserSecuritiesPath);\r\n      if (result.status === 200) {\r\n        return result.data;\r\n      }\r\n      return null;\r\n    } catch (err) {\r\n      NotificationService\r\n        .notifyError((err.response.data && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async getUserSecurities(id) {\r\n    try {\r\n      const result = await axios.get(this.getUserSecuritiesPath(id));\r\n      if (result.status === 200) {\r\n        return result.data;\r\n      }\r\n      return null;\r\n    } catch (err) {\r\n      NotificationService\r\n        .notifyError((err.response.data && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async getOrganizationUsersSecurities() {\r\n    try {\r\n      const result = await axios.get(this.getOrganizationUsersSecuritiesPath);\r\n      if (result.status === 200) {\r\n        return result.data;\r\n      }\r\n      return null;\r\n    } catch (err) {\r\n      NotificationService\r\n        .notifyError((err.response.data && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async getRolesSecurities() {\r\n    try {\r\n      const result = await axios.get(this.getRolesSecuritiesPath);\r\n      if (result.status === 200) {\r\n        return result.data;\r\n      }\r\n      return null;\r\n    } catch (err) {\r\n      NotificationService\r\n        .notifyError((err.response.data && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async getPermissionCodes() {\r\n    try {\r\n      const result = await axios.get(this.getPermissionCodesPath);\r\n      if (result.status === 200) {\r\n        return result.data;\r\n      }\r\n      return null;\r\n    } catch (err) {\r\n      NotificationService\r\n        .notifyError((err.response.data && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async addPermission(permission) {\r\n    try {\r\n      const result = await axios.post(this.addPermissionPath, permission);\r\n      if (result.status === 200) {\r\n        return result.data;\r\n      }\r\n      return null;\r\n    } catch (err) {\r\n      NotificationService\r\n        .notifyError((err.response.data && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async updatePermission(id, permission) {\r\n    try {\r\n      const result = await axios.put(this.updatePermissionPath(id), permission);\r\n      if (result.status === 200) {\r\n        return result.data;\r\n      }\r\n      return null;\r\n    } catch (err) {\r\n      NotificationService\r\n        .notifyError((err.response.data && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async deletePermission(id) {\r\n    try {\r\n      const result = await axios.delete(this.deletePermissionPath(id));\r\n      if (result.status === 200) {\r\n        return result.data;\r\n      }\r\n      return null;\r\n    } catch (err) {\r\n      NotificationService\r\n        .notifyError((err.response.data && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  // this function is meant to be injected in the context in order to have access to 'this'\r\n  Authorize(code, grant) {\r\n    try {\r\n      if (this.security) {\r\n        const codes = this.security.map((el) => el.code);\r\n        const index = codes.indexOf(code);\r\n        if (index !== -1) {\r\n          return this.security[index].grants.indexOf(grant) !== -1;\r\n        }\r\n      }\r\n      return false;\r\n    } catch (err) {\r\n      NotificationService\r\n        .notifyError((err.response.data && err.response.data.error) || err.message);\r\n      return false;\r\n    }\r\n  },\r\n};\r\n\r\nexport default AuthorizationService;\r\n","import React from 'react';\r\nimport { DefaultButton } from '@fluentui/react';\r\nimport axios from 'axios';\r\nimport NotificationService from './NotificationService';\r\n\r\nconst LoginService = {\r\n  currentUserPath: '/api/me',\r\n  async getCurrentUser() {\r\n    try {\r\n      const response = await axios.get(this.currentUserPath);\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      return null;\r\n    } catch (err) {\r\n      NotificationService.notify(`Not logged in. ${(err.response.data && err.response.data.error) || err.message}`,\r\n        'error', (\r\n          // eslint-disable-next-line react/jsx-filename-extension\r\n          <DefaultButton\r\n            as=\"a\"\r\n            href=\"/auth/login\"\r\n          >\r\n            Log in\r\n          </DefaultButton>));\r\n      return null;\r\n    }\r\n  },\r\n};\r\n\r\nexport default LoginService;\r\n","import UserInfoProvider from './UserInfoProvider';\r\n\r\nexport default UserInfoProvider;\r\n","import { useEffect, useState, useContext } from 'react';\r\n\r\nimport LoginService from '../../../services/LoginService';\r\nimport GlobalContext from '../../../services/GlobalContext';\r\n\r\nconst UserInfoProvider = () => {\r\n  const [verified, setVerified] = useState(false);\r\n  const global = useContext(GlobalContext);\r\n\r\n  useEffect(() => {\r\n    async function getUser() {\r\n      if (!global.setContext) return setVerified(false);\r\n      if (!global.user && !verified) {\r\n        setVerified(true);\r\n        const user = await LoginService.getCurrentUser();\r\n        if (user) {\r\n          const name = user.displayName || user.username || 'Unknown';\r\n          user.avatar = name.split(/[. ,_-]/).map((n) => n[0]).join('').slice(0, 2)\r\n            .toUpperCase();\r\n        }\r\n        return global.setContext({ ...global, user, userLoaded: true });\r\n      }\r\n      return null;\r\n    }\r\n    getUser();\r\n  }, [verified, global]);\r\n  return null;\r\n};\r\n\r\nexport default UserInfoProvider;\r\n","import UserSecuritiesProvider from './UserSecuritiesProvider';\r\n\r\nexport default UserSecuritiesProvider;\r\n","import { useEffect, useContext } from 'react';\r\nimport AuthorizationService from '../../../services/AuthorizationService';\r\nimport GlobalContext from '../../../services/GlobalContext';\r\n\r\nconst UserSecuritiesProvider = () => {\r\n  const global = useContext(GlobalContext);\r\n\r\n  useEffect(() => {\r\n    async function run() {\r\n      if (!global.security && global.user !== null) {\r\n        const result = await AuthorizationService.getSecurities();\r\n        if (result) {\r\n          global.setContext((prev) => ({\r\n            ...prev,\r\n            security: result,\r\n          }));\r\n        }\r\n      }\r\n    }\r\n    run();\r\n  }, [global.user, global.security, global.setContext]);\r\n\r\n  return null;\r\n};\r\n\r\nexport default UserSecuritiesProvider;\r\n","export default {\r\n  root: {\r\n    padding: '3px',\r\n  },\r\n};\r\n","import { createTheme } from '@fluentui/react';\n\nexport default createTheme({\n  palette: {\n    themePrimary: '#0078d7',\n    themeLighterAlt: '#f3f9fd',\n    themeLighter: '#d1e7f8',\n    themeLight: '#aad2f3',\n    themeTertiary: '#5ca8e7',\n    themeSecondary: '#1a84db',\n    themeDarkAlt: '#006ac1',\n    themeDark: '#005aa3',\n    themeDarker: '#004278',\n    neutralLighterAlt: '#faf9f8',\n    neutralLighter: '#f3f2f1',\n    neutralLight: '#edebe9',\n    neutralQuaternaryAlt: '#e1dfdd',\n    neutralQuaternary: '#d0d0d0',\n    neutralTertiaryAlt: '#c8c6c4',\n    neutralTertiary: '#a19f9d',\n    neutralSecondary: '#605e5c',\n    neutralPrimaryAlt: '#3b3a39',\n    neutralPrimary: '#323130',\n    neutralDark: '#201f1e',\n    black: '#000000',\n    white: '#ffffff',\n    accent: '#ffffff',\n  },\n  type: 'light',\n});\n","import { createTheme } from '@fluentui/react';\n\nconst theme = createTheme({\n  palette: {\n    themePrimary: '#0078d7',\n    themeLighterAlt: '#000509',\n    themeLighter: '#001322',\n    themeLight: '#002340',\n    themeTertiary: '#004781',\n    themeSecondary: '#0068bc',\n    themeDarkAlt: '#1682da',\n    themeDark: '#3693e0',\n    themeDarker: '#66aee8',\n    neutralLighterAlt: '#212121',\n    neutralLighter: '#2a2a2a',\n    neutralLight: '#393939',\n    neutralQuaternaryAlt: '#424242',\n    neutralQuaternary: '#494949',\n    neutralTertiaryAlt: '#686868',\n    neutralTertiary: '#c8c8c8',\n    neutralSecondary: '#d0d0d0',\n    neutralPrimaryAlt: '#dadada',\n    neutralPrimary: '#ffffff',\n    neutralDark: '#f4f4f4',\n    black: '#f8f8f8',\n    white: '#171717',\n    accent: '#ffffff',\n  },\n  type: 'dark',\n  isInverted: true,\n});\n\nexport default theme;\n","import { createTheme } from '@fluentui/react';\n\nexport default createTheme({\n  palette: {\n    themePrimary: '#268bd2',\n    themeLighterAlt: '#f5fafd',\n    themeLighter: '#d7eaf8',\n    themeLight: '#b6d9f1',\n    themeTertiary: '#74b5e3',\n    themeSecondary: '#3c96d7',\n    themeDarkAlt: '#227cbc',\n    themeDark: '#1d699f',\n    themeDarker: '#154d75',\n    neutralLighterAlt: '#f6efdd',\n    neutralLighter: '#f2ebd9',\n    neutralLight: '#e8e2d1',\n    neutralQuaternaryAlt: '#d8d2c2',\n    neutralQuaternary: '#cec9b9',\n    neutralTertiaryAlt: '#c6c1b2',\n    neutralTertiary: '#585959',\n    neutralSecondary: '#363737',\n    neutralPrimaryAlt: '#2e2f2f',\n    neutralPrimary: '#000000',\n    neutralDark: '#151515',\n    black: '#0b0b0b',\n    white: '#fdf6e3',\n    accent: '#ffffff',\n  },\n});\n","import { createTheme } from '@fluentui/react';\n\nexport default createTheme({\n  palette: {\n    themePrimary: '#ffffff',\n    themeLighterAlt: '#767676',\n    themeLighter: '#a6a6a6',\n    themeLight: '#c8c8c8',\n    themeTertiary: '#d0d0d0',\n    themeSecondary: '#dadada',\n    themeDarkAlt: '#eaeaea',\n    themeDark: '#f4f4f4',\n    themeDarker: '#f8f8f8',\n    neutralLighterAlt: '#333839',\n    neutralLighter: '#3a4041',\n    neutralLight: '#464d4e',\n    neutralQuaternaryAlt: '#4e5456',\n    neutralQuaternary: '#545b5d',\n    neutralTertiaryAlt: '#6f7679',\n    neutralTertiary: '#f3f3f3',\n    neutralSecondary: '#f5f5f5',\n    neutralPrimaryAlt: '#f7f7f7',\n    neutralPrimary: '#ededed',\n    neutralDark: '#fbfbfb',\n    black: '#fdfdfd',\n    white: '#2b2f30',\n    accent: '#000000',\n  },\n});\n","import lightTheme from './lightTheme';\r\nimport darkTheme from './darkTheme';\r\nimport warmTheme from './warmTheme';\r\nimport blackWhiteTheme from './blackWhiteTheme';\r\n\r\nconst selectTheme = (theme) => {\r\n  const localStorageTheme = theme || localStorage.getItem('theme');\r\n  switch (localStorageTheme) {\r\n    case 'light':\r\n      return lightTheme;\r\n    case 'dark':\r\n      return darkTheme;\r\n    case 'warm':\r\n      return warmTheme;\r\n    case 'blackwhite':\r\n      return blackWhiteTheme;\r\n    default:\r\n      return lightTheme;\r\n  }\r\n};\r\n\r\nexport {\r\n  lightTheme,\r\n  darkTheme,\r\n  warmTheme,\r\n  selectTheme,\r\n};\r\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","import { ChoiceGroup, Stack, Text } from '@fluentui/react';\r\nimport React, { useContext, useState } from 'react';\r\nimport GlobalContext from '../../../services/GlobalContext';\r\nimport { selectTheme } from '../../../themes';\r\nimport darkImg from './theme_dark_icon.png';\r\nimport lightImg from './theme_light_icon.png';\r\nimport solarizedImg from './theme_solarized_icon.png';\r\nimport blackWhiteImg from './theme_blackwhite_icon.png';\r\n\r\nconst SelectTheme = () => {\r\n  const global = useContext(GlobalContext);\r\n  const [theme, setTheme] = useState(global.userPreferences.theme.type);\r\n  const [items] = useState([\r\n    {\r\n      key: 'light',\r\n      text: 'Light',\r\n      imageSrc: lightImg,\r\n      selectedImageSrc: lightImg,\r\n      imageSize: { width: 64, height: 64 },\r\n    },\r\n    {\r\n      key: 'warm',\r\n      text: 'Warm',\r\n      imageSrc: solarizedImg,\r\n      selectedImageSrc: solarizedImg,\r\n      imageSize: { width: 64, height: 64 },\r\n    },\r\n    {\r\n      key: 'dark',\r\n      text: 'Dark',\r\n      imageSrc: darkImg,\r\n      selectedImageSrc: darkImg,\r\n      imageSize: { width: 64, height: 64 },\r\n    },\r\n    {\r\n      key: 'blackwhite',\r\n      text: 'Dark Black&White',\r\n      imageSrc: blackWhiteImg,\r\n      selectedImageSrc: blackWhiteImg,\r\n      imageSize: { width: 64, height: 64 },\r\n    },\r\n  ]);\r\n\r\n  const handleChange = (evt, option) => {\r\n    if (option && option.key) {\r\n      setTheme(option.key);\r\n      localStorage.setItem('theme', option.key);\r\n      global.setContext((prev) => ({\r\n        ...prev,\r\n        userPreferences: {\r\n          ...global.userPreferences,\r\n          theme: selectTheme(option.key),\r\n        },\r\n      }));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Stack verticalAlign=\"start\" tokens={{ childrenGap: 16 }}>\r\n      <Text variant=\"large\">Select color theme:</Text>\r\n      <ChoiceGroup\r\n        options={items}\r\n        selectedKey={theme}\r\n        onChange={handleChange}\r\n      />\r\n    </Stack>\r\n  );\r\n};\r\n\r\nexport default SelectTheme;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  DefaultButton, Modal, Stack, StackItem,\r\n} from '@fluentui/react';\r\nimport SelectTheme from '../../../shared/select-theme/SelectTheme';\r\n\r\nconst ChooseThemeModal = ({ isOpen, setOpen }) => (\r\n  <Modal\r\n    isOpen={isOpen}\r\n    onDismiss={() => setOpen(false)}\r\n    isBlocking={false}\r\n    styles={{\r\n      scrollableContent: {\r\n        minWidth: 300,\r\n        minHeight: 300,\r\n        height: 300,\r\n      },\r\n    }}\r\n  >\r\n    <Stack\r\n      style={{\r\n        height: '100%',\r\n        padding: '16px',\r\n      }}\r\n      horizontalAlign=\"space-evenly\"\r\n      verticalAlign=\"center\"\r\n    >\r\n      <StackItem grow={1}>\r\n        <SelectTheme />\r\n      </StackItem>\r\n      <StackItem align=\"center\">\r\n        <DefaultButton onClick={() => setOpen(false)}>Close</DefaultButton>\r\n      </StackItem>\r\n    </Stack>\r\n  </Modal>\r\n);\r\n\r\nChooseThemeModal.propTypes = {\r\n  isOpen: PropTypes.bool.isRequired,\r\n  setOpen: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ChooseThemeModal;\r\n","import React, { useContext, useState } from 'react';\nimport {\n  Persona,\n  PersonaSize,\n  Stack,\n  Text,\n  Link as FluidLink,\n  Callout,\n  Separator,\n  ActionButton,\n  makeStyles,\n  useKeytipRef,\n} from '@fluentui/react';\nimport keytipStyles from '../../../../styles/keytipStyles';\nimport GlobalContext from '../../../../services/GlobalContext';\nimport ChooseThemeModal from '../choose-theme-modal/ChooseThemeModal';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: '40px',\n    width: '200px',\n    display: 'flex',\n    flexFlow: 'column nowrap',\n    justifyContent: 'center',\n  },\n  link: {\n    color: theme.palette.accent,\n    textAlign: 'center',\n    display: 'block',\n    paddingRight: '16px',\n  },\n  fluidLink: {\n    color: theme.palette.accent,\n  },\n  usernameText: {\n    overflow: 'hidden',\n    paddingRight: '8px',\n    textDecoration: 'none',\n    color: theme.palette.accent,\n  },\n  callout: {\n    minWidth: '200px',\n    minHeight: '100px',\n    padding: '16px',\n  },\n}));\n\nconst UserInfo = () => {\n  const classes = useStyles();\n  const [calloutVisible, setCalloutVisible] = useState(false);\n  const [themeModalOpen, setThemeModalOpen] = useState(false);\n  const global = useContext(GlobalContext);\n  const userLinkRef = useKeytipRef({\n    keytipProps: {\n      styles: keytipStyles,\n      content: 'I',\n      keySequences: ['i'],\n      onExecute: (el) => el.click(),\n    },\n  });\n  const displayName = global.user\n    ? (global.user.displayName || global.user.username)\n    : 'Unknown';\n\n  const handleCalloutToggle = () => setCalloutVisible((prev) => !prev);\n\n  return (\n    <div className={classes.root}>\n      {\n        global.user\n          ? (\n            <FluidLink\n              ref={userLinkRef}\n              onClick={handleCalloutToggle}\n              style={{\n                textDecoration: 'none',\n              }}\n              id=\"persona\"\n            >\n              <Stack verticalAlign=\"center\" wrap={false} horizontal>\n                <Text className={classes.usernameText}>{global.user.username}</Text>\n                <Persona\n                  size={PersonaSize.size32}\n                  text={displayName}\n                  hidePersonaDetails\n                  className={classes.fluidLink}\n                  styles={{\n                    root: {\n                      marginRight: '18px',\n                    },\n                  }}\n                />\n              </Stack>\n              {\n                calloutVisible && (\n                <Callout\n                  role=\"alertdialog\"\n                  gapSpace={0}\n                  target=\"#persona\"\n                  setInitialFocus\n                  isBeakVisible={false}\n                  onDismiss={handleCalloutToggle}\n                >\n                  <Stack className={classes.callout}>\n                    <Stack horizontalAlign=\"space-between\" horizontal>\n                      <Text variant=\"medium\">Admin Tools</Text>\n                      <FluidLink href=\"/auth/logout\">\n                        <Text variant=\"medium\">Sign Out</Text>\n                      </FluidLink>\n                    </Stack>\n                    <Separator />\n                    <Stack horizontal horizontalAlign=\"space-evenly\" wrap>\n                      <Persona size={PersonaSize.size56} />\n                      <Text variant=\"mediumPlus\">{global.user.username}</Text>\n                    </Stack>\n                    <Separator />\n                    <ActionButton\n                      onClick={() => setThemeModalOpen(true)}\n                      iconProps={{\n                        iconName: 'Brush',\n                      }}\n                    >\n                      Chgange Layout\n                    </ActionButton>\n                    <Separator />\n                  </Stack>\n                  <ChooseThemeModal\n                    isOpen={themeModalOpen}\n                    setOpen={setThemeModalOpen}\n                  />\n                </Callout>\n                )\n              }\n            </FluidLink>\n          )\n          : (\n            <div>\n              {\n                global.userLoaded\n                  ? (\n                    <FluidLink className={classes.link} href=\"/auth/login\">\n                      <Text variant=\"mediumPlus\">\n                        Login\n                      </Text>\n                    </FluidLink>\n                  )\n                  : null\n              }\n            </div>\n          )\n      }\n    </div>\n  );\n};\n\nexport default UserInfo;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Icon, IconButton, makeStyles, Text, useTheme,\n} from '@fluentui/react';\nimport UserInfo from '../user-info/UserInfo';\nimport keytipStyles from '../../../../styles/keytipStyles';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    position: 'relative',\n    backgroundColor: theme.palette.themeDark,\n    height: '40px',\n    width: '100vw',\n    display: 'flex',\n    flexFlow: 'row nowrap',\n    justifyContent: 'space-between',\n  },\n  flex: {\n    height: '40px',\n    display: 'flex',\n    flexFlow: 'row nowrap',\n    justifyContent: 'start',\n  },\n  icon: {\n    height: '40px',\n    color: theme.palette.accent,\n  },\n  text: {\n    width: '150px',\n    alignSelf: 'center',\n    textAlign: 'center',\n    color: theme.palette.accent,\n  },\n}));\n\nconst AppBar = ({ toggleDrawer }) => {\n  const theme = useTheme();\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.flex}>\n        <IconButton\n          keytipProps={{\n            styles: keytipStyles,\n            content: 'M',\n            keySequences: ['m'],\n            onExecute: toggleDrawer,\n            hasMenu: true,\n          }}\n          className={classes.icon}\n          iconProps={{ iconName: 'GlobalNavButton' }}\n          title=\"Global Nav\"\n          ariaLabel=\"Global Navigation\"\n          onClick={toggleDrawer}\n        />\n        <Text className={classes.text} variant=\"large\" block nowrap>\n          <Icon\n            iconName=\"Glasses\"\n            styles={{\n              root: {\n                fontSize: '25px',\n                padding: theme.spacing.s2,\n              },\n            }}\n          />\n          Admin Tools\n        </Text>\n      </div>\n      <UserInfo />\n    </div>\n  );\n};\n\nAppBar.propTypes = {\n  toggleDrawer: PropTypes.func.isRequired,\n};\n\nexport default AppBar;\n","import AppBar from './AppBar';\n\nexport default AppBar;\n","/* eslint-disable react/prop-types */\nimport React, { useContext, useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport {\n  Panel, PanelType, classNamesFunction, Icon, ActionButton, Nav,\n} from '@fluentui/react';\nimport constants from '../../../../utils/constants';\nimport GlobalContext from '../../../../services/GlobalContext';\nimport keytipStyles from '../../../../styles/keytipStyles';\n\nconst classNames = classNamesFunction();\nconst styles = () => ({\n  root: {\n  },\n  icon: {\n    height: '40px',\n    width: '100%',\n    borderBottom: '1px solid',\n    position: 'absolute',\n    top: 0,\n    left: 0,\n  },\n  nav: {\n    marginTop: '40px',\n  },\n});\n\nconst Drawer = ({ isOpen, toggleDrawer }) => {\n  const classes = classNames(styles);\n  const global = useContext(GlobalContext);\n  const history = useHistory();\n\n  const handleLinkClick = (evt, link) => {\n    evt.preventDefault();\n    history.push(link.url);\n    toggleDrawer();\n  };\n\n  const [navLinks] = useState([\n    {\n      links: [\n        {\n          name: 'Home',\n          url: '/',\n          icon: 'Home',\n          keyTipContent: '1',\n          keyTipSequence: ['m', '1'],\n          hasMenu: false,\n          onClick: handleLinkClick,\n        },\n        {\n          name: 'Appraisals',\n          url: '/appraisals',\n          code: constants.securities.APPRAISAL_PERIODS.code,\n          grant: 'read',\n          icon: 'Feedback',\n          keyTipContent: '2',\n          keyTipSequence: ['m', '2'],\n          hasMenu: false,\n          onClick: handleLinkClick,\n        },\n        {\n          name: 'Audits',\n          url: '/audits',\n          code: constants.securities.AUDITS.code,\n          grant: 'read',\n          icon: 'ComplianceAudit',\n          keyTipContent: '3',\n          keyTipSequence: ['m', '3'],\n          hasMenu: false,\n          onClick: handleLinkClick,\n        },\n        {\n          name: 'Reporting',\n          code: constants.securities.REPORTS.code,\n          grant: 'read',\n          keyTipContent: '4',\n          keyTipSequence: ['m', '4'],\n          hasMenu: true,\n          links: [\n            {\n              name: 'Appraisal report',\n              url: '/reporting/appraisal-report',\n              code: constants.securities.REPORTS.code,\n              grant: 'read',\n              icon: 'AutoFillTemplate',\n              keyTipContent: '1',\n              keyTipSequence: ['m', '4', '1'],\n              hasMenu: false,\n              onClick: handleLinkClick,\n            },\n            {\n              name: 'Custom reports',\n              url: '/reporting/reports',\n              code: constants.securities.REPORTS.code,\n              grant: 'read',\n              icon: 'ReportDocument',\n              keyTipContent: '2',\n              keyTipSequence: ['m', '4', '2'],\n              hasMenu: false,\n              onClick: handleLinkClick,\n            },\n            {\n              name: 'Templates',\n              url: '/reporting/templates',\n              code: constants.securities.REPORT_TEMPLATES.code,\n              grant: 'read',\n              icon: 'FileTemplate',\n              keyTipContent: '3',\n              keyTipSequence: ['m', '4', '3'],\n              hasMenu: false,\n              onClick: handleLinkClick,\n            },\n          ],\n        },\n        {\n          name: 'Tasks',\n          code: constants.securities.TASK.code,\n          grant: constants.securities.TASK.grants.read,\n          keyTipContent: '5',\n          keyTipSequence: ['m', '5'],\n          hasMenu: true,\n          links: [\n            {\n              name: 'Dashboard',\n              url: '/tasks',\n              code: constants.securities.TASK.code,\n              grant: constants.securities.TASK.grants.read,\n              icon: 'ViewDashboard',\n              keyTipContent: '1',\n              keyTipSequence: ['m', '5', '1'],\n              hasMenu: false,\n              onClick: handleLinkClick,\n            },\n            {\n              name: 'Planning',\n              url: '/tasks/planning',\n              code: constants.securities.TASK.code,\n              grant: constants.securities.TASK.grants.read,\n              icon: 'PlanView',\n              keyTipContent: '2',\n              keyTipSequence: ['m', '5', '2'],\n              hasMenu: false,\n              onClick: handleLinkClick,\n            },\n            {\n              name: 'Rules',\n              url: '/tasks/task-rules',\n              code: constants.securities.TASK.code,\n              grant: constants.securities.TASK.grants.read,\n              icon: 'AustralianRules',\n              keyTipContent: '3',\n              keyTipSequence: ['m', '5', '3'],\n              hasMenu: false,\n              onClick: handleLinkClick,\n            },\n            {\n              name: 'Flows',\n              url: '/tasks/task-flows',\n              code: constants.securities.TASK.code,\n              grant: constants.securities.TASK.grants.read,\n              icon: 'Flow',\n              keyTipContent: '4',\n              keyTipSequence: ['m', '5', '4'],\n              hasMenu: false,\n              onClick: handleLinkClick,\n            },\n          ],\n        },\n        {\n          name: 'Settings',\n          code: constants.securities.SETTINGS.code,\n          grant: 'read',\n          keyTipContent: '6',\n          keyTipSequence: ['m', '6'],\n          hasMenu: true,\n          links: [\n            {\n              name: 'General',\n              url: '/settings',\n              code: constants.securities.SETTINGS.code,\n              grant: 'read',\n              icon: 'Settings',\n              keyTipContent: '1',\n              keyTipSequence: ['m', '6', '1'],\n              hasMenu: false,\n              onClick: handleLinkClick,\n            },\n            {\n              name: 'Users',\n              url: '/settings/users',\n              code: constants.securities.SETTINGS.code,\n              grant: 'users',\n              icon: 'UserFollowed',\n              keyTipContent: '2',\n              keyTipSequence: ['m', '6', '2'],\n              hasMenu: false,\n              onClick: handleLinkClick,\n            },\n            {\n              name: 'Permissions',\n              url: '/settings/permissions',\n              code: constants.securities.SETTINGS.code,\n              grant: 'permissions',\n              icon: 'Permissions',\n              keyTipContent: '3',\n              keyTipSequence: ['m', '6', '3'],\n              hasMenu: false,\n              onClick: handleLinkClick,\n            },\n          ],\n        },\n      ],\n    },\n  ]);\n\n  const filterLinks = (links) => {\n    const result = [];\n    links.forEach((link) => {\n      if (link.code && link.grant) {\n        if (global.Authorize(link.code, link.grant)) {\n          if (link.links) {\n            // eslint-disable-next-line no-param-reassign\n            link.links = filterLinks(link.links);\n          }\n          result.push(link);\n        }\n      } else {\n        result.push(link);\n      }\n    });\n    return result;\n  };\n\n  const [visibleLinksGroup, setVisibleLinksGroup] = useState([]);\n\n  useEffect(() => {\n    setVisibleLinksGroup([{\n      links: filterLinks(navLinks[0].links),\n    }]);\n  }, [global.security, global.user, global.Authorize]);\n\n  return (\n    <Panel\n      isOpen={isOpen}\n      hasCloseButton={false}\n      type={PanelType.smallFixedNear}\n      isLightDismiss\n      onDismiss={toggleDrawer}\n    >\n      <ActionButton\n        className={classes.icon}\n        onClick={toggleDrawer}\n      >\n        <Icon\n          iconName=\"GlobalNavButton\"\n          style={{ marginLeft: 5 }}\n        />\n      </ActionButton>\n      <Nav\n        className={classes.nav}\n        ariaLabel=\"Global navigation\"\n        selectedKey=\"\"\n        groups={visibleLinksGroup}\n        onRenderLink={(link) => (\n          <ActionButton\n            keytipProps={\n                link.keyTipContent\n                && ({\n                  styles: keytipStyles,\n                  content: link.keyTipContent,\n                  onExecute: (el) => (link.links ? link.isExpanded || el.click() : el.click()),\n                  keySequences: link.keyTipSequence,\n                  hasMenu: link.hasMenu || false,\n                })\n              }\n          >\n            {link.name}\n          </ActionButton>\n        )}\n      />\n    </Panel>\n  );\n};\n\nDrawer.propTypes = {\n  isOpen: PropTypes.bool.isRequired,\n  toggleDrawer: PropTypes.func.isRequired,\n};\n\nexport default Drawer;\n","import Drawer from './Drawer';\n\nexport default Drawer;\n","import React, { useState } from 'react';\r\nimport { classNamesFunction } from '@fluentui/react';\r\nimport AppBar from './components/app-bar';\r\nimport Drawer from './components/drawer';\r\n\r\nconst classNames = classNamesFunction();\r\nconst styles = {\r\n  root: {\r\n    position: 'fixed',\r\n    zIndex: 1002,\r\n    left: 0,\r\n    top: 0,\r\n  },\r\n};\r\n\r\nexport default function Navigation() {\r\n  const classes = classNames(styles);\r\n  const [navPaneOpened, setOpened] = useState(false);\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar toggleDrawer={() => setOpened(true)} />\r\n      <Drawer isOpen={navPaneOpened} toggleDrawer={() => setOpened((prev) => !prev)} />\r\n    </div>\r\n  );\r\n}\r\n","import AuthorizationRedirectComponent from './AuthorizationRedirectComponent';\r\n\r\nexport default AuthorizationRedirectComponent;\r\n","import React, { useContext, useState, useEffect } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport GlobalContext from '../../../services/GlobalContext';\r\nimport NotificationService from '../../../services/NotificationService';\r\n\r\nconst AuthorizationRedirectComponent = ({\r\n  code, grant, to, failureNotification, ...props\r\n}) => {\r\n  const global = useContext(GlobalContext);\r\n  const [access, setAccess] = useState(false);\r\n  const [redirect, setRedirect] = useState(false);\r\n  const [notified, setNotified] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const isAuthorized = global.Authorize(code, grant);\r\n    setAccess(isAuthorized);\r\n    if (global.security) {\r\n      setRedirect(!isAuthorized);\r\n      if (failureNotification && !isAuthorized && !notified) {\r\n        NotificationService.notify(failureNotification.content);\r\n        setNotified(true);\r\n      }\r\n    }\r\n  }, [global, code, grant, failureNotification, notified]);\r\n\r\n  let result = null;\r\n\r\n  if (access) {\r\n    result = props.children;\r\n  }\r\n\r\n  if (redirect) {\r\n    result = (<Redirect to={to || '/'} />);\r\n  }\r\n\r\n  return result;\r\n};\r\n\r\nexport default AuthorizationRedirectComponent;\r\n","import AppraisalDetailsInfo from './AppraisalDetailsInfo';\r\n\r\nexport default AppraisalDetailsInfo;\r\n","import { useEffect } from 'react';\r\nimport AppraisalService from '../../../../services/AppraisalService';\r\n\r\nconst AppraisalDetailsInfo = ({ periodId, setPeriodDetails }) => {\r\n  useEffect(() => {\r\n    async function run() {\r\n      const data = await AppraisalService.getItems(periodId);\r\n      setPeriodDetails(data);\r\n    }\r\n    run();\r\n  }, [periodId, setPeriodDetails]);\r\n\r\n  return null;\r\n};\r\n\r\nexport default AppraisalDetailsInfo;\r\n","import axios from 'axios';\r\nimport NotificationService from './NotificationService';\r\n\r\nconst UserService = {\r\n  baseUrl: '/api/users',\r\n  teamUsersPath: '/api/users/team-users',\r\n  updateUsersPath: (id) => `/api/users/${id}`,\r\n  getUserPath: (id) => `/api/users/user/${id}`,\r\n  getUserOrganizationsPath: '/api/users/organizations',\r\n  getUserTeamMembersPath: '/api/users/team-members',\r\n  getSettingsUsersPath: '/api/settings/users',\r\n  putSettingsUsersPath: (id) => `/api/settings/users/${id}`,\r\n\r\n  normalizeUser(user) {\r\n    const u = user;\r\n    if (u.role && u.role.id) {\r\n      u.role = u.role.id;\r\n    }\r\n    if (u.organization && u.organization.id) {\r\n      u.organization = u.organization.id;\r\n    }\r\n    u.organizations = u.organizations.map((o) => o.id || o);\r\n    return u;\r\n  },\r\n\r\n  async getSettingsUsers() {\r\n    try {\r\n      const response = await axios.get(this.getSettingsUsersPath);\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService\r\n        .notifyError((err.response.data && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async getUser(id) {\r\n    try {\r\n      const response = await axios.get(this.getUserPath(id));\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService\r\n        .notifyError((err.response.data && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async updateUser(id, user) {\r\n    try {\r\n      const response = await axios.put(this.updateUsersPath(id), this.normalizeUser(user));\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}\\n`);\r\n    } catch (err) {\r\n      NotificationService\r\n        .notifyError((err.response.data && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async updateSettingsUser(id, user) {\r\n    try {\r\n      const response = await axios.put(this.putSettingsUsersPath(id), this.normalizeUser(user));\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}\\n`);\r\n    } catch (err) {\r\n      NotificationService\r\n        .notifyError((err.response.data && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async getUserOrganizations() {\r\n    try {\r\n      const response = await axios.get(this.getUserOrganizationsPath);\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService\r\n        .notifyError((err.response.data && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async getUserTeamMembers() {\r\n    try {\r\n      const response = await axios.get(this.getUserTeamMembersPath);\r\n      return response.data;\r\n    } catch (err) {\r\n      NotificationService\r\n        .notifyError((err.response.data && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n};\r\nexport default UserService;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { BasePickerListBelow, makeStyles, Text } from '@fluentui/react';\r\nimport { useScreenClass } from 'react-grid-system';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  item: {\r\n    textAlign: 'center',\r\n    padding: theme.spacing.m,\r\n    color: theme.palette.neutralSecondary,\r\n    marginTop: theme.spacing.s2,\r\n    '& > *': {\r\n      padding: theme.spacing.s2,\r\n      border: `1px solid ${theme.palette.themeSecondary}`,\r\n    },\r\n  },\r\n  suggestion: {\r\n    padding: theme.spacing.m,\r\n  },\r\n  root: {\r\n    '& input': {\r\n      backgroundColor: theme.palette.white,\r\n      color: theme.palette.neutralTertiary,\r\n      '& ::placeholder': {\r\n        color: theme.palette.neutralTertiary,\r\n      },\r\n    },\r\n  },\r\n}));\r\n\r\nconst defaultGetText = (item) => item.text;\r\n\r\nconst defaultRenderSuggestionItem = (getText, classes) => (item) => (\r\n  <div className={classes.suggestion}>\r\n    <Text variant=\"mediumPlus\">{getText(item)}</Text>\r\n  </div>\r\n);\r\n\r\nconst defaultRenderItem = (getText, classes) => (item) => (\r\n  <div className={classes.item} key={item.key}>\r\n    <Text variant=\"mediumPlus\">{getText(item)}</Text>\r\n  </div>\r\n);\r\n\r\nconst SinglePicker = ({\r\n  options,\r\n  getTextFromItem,\r\n  selected,\r\n  onSelect,\r\n  onRenderItem,\r\n  onRenderSuggestionsItem,\r\n  placeholder = 'Select or search a value in the list...',\r\n  className,\r\n  styles,\r\n  maxHeight,\r\n}) => {\r\n  const classes = useStyles();\r\n  const sc = useScreenClass();\r\n  const [_selected, setSelected] = useState([]);\r\n  const [maxWidth, setMaxwidth] = useState(200);\r\n  const inputRef = useRef();\r\n  const getText = getTextFromItem || defaultGetText;\r\n  const renderItem = onRenderItem || defaultRenderItem(getText, classes);\r\n  const renderSuggestionsItem = onRenderSuggestionsItem\r\n  || defaultRenderSuggestionItem(getText, classes);\r\n\r\n  const handleFilter = (filter, suggestions) => {\r\n    if (filter === '') return suggestions;\r\n    return options.filter(\r\n      (option) => getText(option).toLowerCase().indexOf(filter.toLowerCase()) !== -1,\r\n    );\r\n  };\r\n\r\n  const handleSelect = (item) => {\r\n    if (onSelect) {\r\n      onSelect(item);\r\n    }\r\n    setSelected([item]);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (inputRef.current) {\r\n      setMaxwidth(inputRef.current.clientWidth);\r\n    }\r\n  }, [inputRef, sc]);\r\n\r\n  return (\r\n    <div\r\n      ref={inputRef}\r\n      className={`${classes.root} ${className}`}\r\n    >\r\n      <BasePickerListBelow\r\n        inputProps={{\r\n          placeholder,\r\n        }}\r\n        pickerCalloutProps={{\r\n          styles: {\r\n            root: {\r\n              width: maxWidth,\r\n            },\r\n          },\r\n        }}\r\n        pickerSuggestionsProps={{\r\n          styles: {\r\n            suggestionsContainer: {\r\n              maxHeight,\r\n            },\r\n          },\r\n        }}\r\n        styles={styles}\r\n        selectedItems={selected ? [selected] : _selected}\r\n        onItemSelected={handleSelect}\r\n        onEmptyResolveSuggestions={() => options}\r\n        onResolveSuggestions={handleFilter}\r\n        onRenderItem={({ item }) => renderItem(item)}\r\n        getTextFromItem={getText}\r\n        onRenderSuggestionsItem={renderSuggestionsItem}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nSinglePicker.propTypes = {\r\n  options: PropTypes.arrayOf(PropTypes.shape({\r\n    key: PropTypes.string,\r\n  })).isRequired,\r\n  getTextFromItem: PropTypes.func,\r\n  selected: PropTypes.shape({\r\n    key: PropTypes.string,\r\n  }),\r\n  onSelect: PropTypes.func,\r\n  onRenderItem: PropTypes.func,\r\n  onRenderSuggestionsItem: PropTypes.func,\r\n  placeholder: PropTypes.string,\r\n  className: PropTypes.string,\r\n  styles: PropTypes.shape({\r\n    input: PropTypes.shape({}),\r\n    itemsWrapper: PropTypes.shape({}),\r\n    root: PropTypes.shape({}),\r\n    screenReaderText: PropTypes.shape({}),\r\n    text: PropTypes.shape({}),\r\n  }),\r\n  maxHeight: PropTypes.string,\r\n};\r\n\r\nSinglePicker.defaultProps = {\r\n  getTextFromItem: defaultGetText,\r\n  selected: null,\r\n  onSelect: null,\r\n  onRenderItem: null,\r\n  onRenderSuggestionsItem: null,\r\n  placeholder: 'Select or search a value in the list...',\r\n  className: '',\r\n  styles: null,\r\n  maxHeight: '600px',\r\n};\r\n\r\nexport default SinglePicker;\r\n","import TeamMatesAutocomplete from './TeamMatesAutocomplete';\r\n\r\nexport default TeamMatesAutocomplete;\r\n","import React, { useState, useEffect } from 'react';\r\nimport UserService from '../../../services/UserService';\r\nimport SinglePicker from '../single-picker/SinglePicker';\r\n\r\nconst TeamMatesAutocomplete = ({ onUserSelect }) => {\r\n  const [users, setUsers] = useState([]);\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    async function run() {\r\n      const data = await UserService.getUserTeamMembers();\r\n      if (mounted) setUsers(data);\r\n    }\r\n    run();\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, []);\r\n\r\n  const handleSelect = (value) => {\r\n    if (onUserSelect) { onUserSelect(value.data); }\r\n  };\r\n\r\n  const autocomplete = (\r\n    <SinglePicker\r\n      placeholder=\"Select or search for a user\"\r\n      options={users.map((u) => ({\r\n        key: u.id,\r\n        data: u,\r\n      }))}\r\n      getTextFromItem={(u) => u.data.username}\r\n      onSelect={handleSelect}\r\n      onRenderItem={() => null}\r\n    />\r\n  );\r\n\r\n  return (\r\n    autocomplete\r\n  );\r\n};\r\n\r\nexport default TeamMatesAutocomplete;\r\n","import React, { useCallback, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useParams, useHistory } from 'react-router-dom';\r\nimport TeamMatesAutocomplete from '../../../shared/team-mates-autocomplete';\r\n\r\nconst AppraisalUserRedirect = ({ defaultValue }) => {\r\n  const { id } = useParams();\r\n  const history = useHistory();\r\n  const [selectedUser, setSelectedUser] = useState(defaultValue || null);\r\n\r\n  const handleSelect = useCallback((user) => {\r\n    if (user) return history.push(`/appraisals/${id}/user/${user.id}`);\r\n    return setSelectedUser(user);\r\n  }, [history, id]);\r\n\r\n  return (\r\n    <>\r\n      <TeamMatesAutocomplete\r\n        value={selectedUser}\r\n        onUserSelect={(user) => handleSelect(user)}\r\n        defaultValue={defaultValue}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nAppraisalUserRedirect.propTypes = {\r\n  defaultValue: PropTypes.shape({\r\n    id: PropTypes.string,\r\n    username: PropTypes.string,\r\n  }),\r\n};\r\n\r\nAppraisalUserRedirect.defaultProps = {\r\n  defaultValue: null,\r\n};\r\n\r\nexport default AppraisalUserRedirect;\r\n","import AppraisalUserRedirect from './AppraisalUserRedirect';\r\n\r\nexport default AppraisalUserRedirect;\r\n","import AuthorizationComponent from './AuthorizationComponent';\r\n\r\nexport default AuthorizationComponent;\r\n","import { useContext, useState, useEffect } from 'react';\r\nimport GlobalContext from '../../../services/GlobalContext';\r\n\r\nconst AuthorizationComponent = ({\r\n  code, grant, onReject, ...props\r\n}) => {\r\n  const global = useContext(GlobalContext);\r\n  const [access, setAccess] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setAccess(global.Authorize(code, grant));\r\n  }, [global, code, grant]);\r\n\r\n  if (access) {\r\n    return props.children;\r\n  } if (onReject) {\r\n    return onReject();\r\n  }\r\n  return null;\r\n};\r\n\r\nexport default AuthorizationComponent;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@fluentui/react';\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  chip: {\r\n    borderRadius: '16px',\r\n    textAlign: 'center',\r\n    verticalAlign: 'middle',\r\n  },\r\n}));\r\n\r\nconst Chip = ({ style, children, className }) => {\r\n  const classes = useStyles();\r\n  return (\r\n    <div className={`${className} ${classes.chip}`} style={style}>\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nChip.propTypes = {\r\n  style: PropTypes.shape({}),\r\n  className: PropTypes.string,\r\n  // eslint-disable-next-line react/forbid-prop-types\r\n  children: PropTypes.any.isRequired,\r\n};\r\n\r\nChip.defaultProps = {\r\n  className: '',\r\n  style: {},\r\n};\r\n\r\nexport default Chip;\r\n","import Chip from './Chip';\r\n\r\nexport default Chip;\r\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  ActionButton,\r\n  Callout,\r\n  DefaultButton,\r\n  makeStyles,\r\n  Separator,\r\n  Stack,\r\n  Text,\r\n  TextField,\r\n} from '@fluentui/react';\r\nimport { useScreenClass } from 'react-grid-system';\r\nimport { useParams } from 'react-router-dom';\r\nimport {\r\n  validate, perform, not, and, or,\r\n} from '../../../../services/validators';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  calloutPrefix: {\r\n    boxShadow: theme.effects.elevation64,\r\n  },\r\n}));\r\n\r\nconst CustomPrefix = ({ children, id }) => {\r\n  const classes = useStyles();\r\n  const [isCalloutVisible, setIsCalloutVisible] = useState(false);\r\n\r\n  return (\r\n    <>\r\n      <ActionButton\r\n        id={`prefix-${id}`}\r\n        tabIndex={-1}\r\n        iconProps={{\r\n          iconName: 'Info',\r\n        }}\r\n        onClick={() => setIsCalloutVisible((prev) => !prev)}\r\n      />\r\n      {\r\n        isCalloutVisible\r\n          ? (\r\n            <Callout\r\n              className={classes.calloutPrefix}\r\n              target={`#prefix-${id}`}\r\n              setInitialFocus\r\n              onDismiss={() => setIsCalloutVisible(false)}\r\n              role=\"alertdialog\"\r\n            >\r\n              <Stack\r\n                horizontalAlign=\"start\"\r\n                tokens={{\r\n                  childrenGap: 4,\r\n                }}\r\n                style={{\r\n                  padding: '20px',\r\n                }}\r\n              >\r\n                {children}\r\n                <DefaultButton onClick={() => setIsCalloutVisible(false)}>Close</DefaultButton>\r\n              </Stack>\r\n            </Callout>\r\n          )\r\n          : null\r\n      }\r\n    </>\r\n  );\r\n};\r\n\r\nconst CustomSuffix = ({ menuProps }) => (\r\n  <ActionButton\r\n    tabIndex={-1}\r\n    // onRenderMenuIcon={() => null}\r\n    iconProps={{\r\n      iconName: 'MoreVertical',\r\n    }}\r\n    menuProps={menuProps}\r\n  />\r\n);\r\n\r\nconst AppraisalInput = ({\r\n  item,\r\n  idx,\r\n  changeHandler,\r\n  blurHandler,\r\n  removeHandler,\r\n  changeTypeHandler,\r\n  canInsert,\r\n  canUpdate,\r\n  canDelete,\r\n}) => {\r\n  const sc = useScreenClass();\r\n  let multilineTrashold = 80;\r\n  if (sc === 'sm' || sc === 'xl') {\r\n    multilineTrashold = 50;\r\n  } else if (sc === 'xs' || sc === 'md') {\r\n    multilineTrashold = 25;\r\n  }\r\n  const [value, setValue] = useState({ ...item });\r\n  const [modified, setModified] = useState(false);\r\n  const [multiline, setMultiline] = useState(item.content.length > multilineTrashold);\r\n  const { userId } = useParams();\r\n  const [validations, setValidations] = useState({\r\n    isRelated: false,\r\n    isDeletable: false,\r\n    isFinished: false,\r\n    inputEditable: true,\r\n  });\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    async function run() {\r\n      const calls = [\r\n        perform(validate.itemRelated(item), false),\r\n        perform(validate.itemStatus(item, 'Finished'), false),\r\n        perform(and([\r\n          not(validate.itemRelated(item)),\r\n          or([\r\n            not(validate.isTruthy(userId)),\r\n            validate.isTruthy(userId),\r\n          ]),\r\n        ]), false),\r\n      ];\r\n      const [checkRelated, checkFinished, checkEditable] = await Promise.all(calls);\r\n      const isRelated = checkRelated.result;\r\n      const isFinished = checkFinished.result;\r\n      const inputEditable = (canInsert || canUpdate)\r\n      && checkEditable.result;\r\n      const isDeletable = canDelete && !isRelated;\r\n      if (mounted) {\r\n        setValidations({\r\n          isRelated,\r\n          isDeletable,\r\n          isFinished,\r\n          inputEditable,\r\n        });\r\n      }\r\n    }\r\n    setValue({ ...item });\r\n    run();\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, [item, canInsert, canUpdate, canDelete, userId]);\r\n\r\n  const handleBlur = async (e) => {\r\n    e.persist();\r\n    const mod = modified;\r\n    setModified(false);\r\n    await blurHandler(value, idx, mod);\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    if (item.type !== 'Feedback') {\r\n      const newMultiline = e.target.value.length > multilineTrashold;\r\n      if (multiline !== newMultiline) {\r\n        setMultiline(newMultiline);\r\n      }\r\n    }\r\n    setValue({ ...item, content: e.target.value });\r\n    changeHandler({ ...value, content: e.target.value }, idx, !modified);\r\n    setModified(true);\r\n  };\r\n\r\n  const handleTypeChange = (type) => async () => {\r\n    if (item.id !== 0) { await changeTypeHandler(item.id, type); }\r\n  };\r\n\r\n  const handleDelete = async (e) => {\r\n    e.persist();\r\n    setValue({ ...item, content: '' });\r\n    await removeHandler(value, idx);\r\n    setModified(false);\r\n  };\r\n\r\n  const menuProps = {\r\n    shouldFocusOnMount: true,\r\n    shouldFocusOnContainer: true,\r\n    items: [],\r\n  };\r\n\r\n  if (item.type.indexOf('Planned') !== -1) {\r\n    menuProps.items.push({\r\n      key: 'moveAchieved',\r\n      text: 'Move to Achieved',\r\n      iconProps: {\r\n        iconName: 'ChevronLeftSmall',\r\n      },\r\n      onClick: handleTypeChange(item.type.replace('Planned', 'Achieved')),\r\n    });\r\n  }\r\n\r\n  if (item.type.indexOf('Achieved') !== -1) {\r\n    menuProps.items.push({\r\n      key: 'movePlanned',\r\n      text: 'Move to Planned',\r\n      iconProps: {\r\n        iconName: 'ChevronRightSmall',\r\n      },\r\n      onClick: handleTypeChange(item.type.replace('Achieved', 'Planned')),\r\n    });\r\n  }\r\n\r\n  menuProps.items.push({\r\n    key: 'delete',\r\n    text: 'Delete',\r\n    iconProps: {\r\n      iconName: 'Delete',\r\n    },\r\n    disabled: !validations.isDeletable,\r\n    onClick: handleDelete,\r\n  });\r\n\r\n  const tooltip = (\r\n    <Stack\r\n      horizontalAlign=\"start\"\r\n      tokens={{\r\n        childrenGap: '3',\r\n      }}\r\n    >\r\n      {\r\n        validations.isRelated\r\n          ? (\r\n            <>\r\n              <Stack.Item>\r\n                <Text variant=\"medium\">\r\n                  This item was added automatically from previous appraisals\r\n                </Text>\r\n              </Stack.Item>\r\n              <Stack.Item align=\"stretch\">\r\n                <Separator />\r\n              </Stack.Item>\r\n            </>\r\n          )\r\n          : null\r\n      }\r\n      <Text variant=\"medium\">\r\n        <strong>Created user:</strong>\r\n        {' '}\r\n        {item.createdUser && item.createdUser.username}\r\n      </Text>\r\n      <Text variant=\"medium\">\r\n        <strong>Created date:</strong>\r\n        {' '}\r\n        {item.createdDate && new Date(item.createdDate).toLocaleString()}\r\n      </Text>\r\n      <Stack.Item align=\"stretch\">\r\n        <Separator />\r\n      </Stack.Item>\r\n      {\r\n        item.modifiedUser\r\n          ? (\r\n            <>\r\n              <Stack.Item>\r\n                <Text variant=\"medium\">\r\n                  <strong>Modified user:</strong>\r\n                  {' '}\r\n                  {item.modifiedUser && item.modifiedUser.username}\r\n                </Text>\r\n              </Stack.Item>\r\n            </>\r\n          )\r\n          : null\r\n      }\r\n      {\r\n        item.modifiedUser\r\n          ? (\r\n            <>\r\n              <Stack.Item>\r\n                <Text variant=\"medium\">\r\n                  <strong>Modified date:</strong>\r\n                  {' '}\r\n                  {item.modifiedDate && new Date(item.modifiedDate).toLocaleString()}\r\n                </Text>\r\n              </Stack.Item>\r\n              <Stack.Item align=\"stretch\">\r\n                <Separator />\r\n              </Stack.Item>\r\n            </>\r\n          )\r\n          : null\r\n      }\r\n    </Stack>\r\n  );\r\n\r\n  return item.type !== 'Feedback'\r\n    ? (\r\n      <TextField\r\n        id={`app-item-${item.type.toLowerCase()}-${idx}`}\r\n        value={value.content}\r\n        resizable\r\n        multiline={multiline}\r\n        styles={{\r\n          prefix: {\r\n            backgroundColor: 'transparent',\r\n            padding: '0',\r\n          },\r\n          suffix: {\r\n            backgroundColor: 'transparent',\r\n            padding: '0',\r\n          },\r\n          field: {\r\n            padding: '0',\r\n          },\r\n        }}\r\n        onRenderPrefix={() => (item.id !== 0 ? <CustomPrefix id={`${item.type}-${idx}`}>{tooltip}</CustomPrefix> : null)}\r\n        onRenderSuffix={() => (item.id !== 0 ? <CustomSuffix menuProps={menuProps} /> : null)}\r\n        autoAdjustHeight\r\n        autoComplete=\"off\"\r\n        onChange={handleChange}\r\n        onBlur={handleBlur}\r\n        readOnly={!validations.inputEditable}\r\n        iconProps={validations.isRelated ? {\r\n          iconName: 'History',\r\n          style: {\r\n            position: 'relative',\r\n            alignSelf: 'center',\r\n            bottom: 0,\r\n            right: 0,\r\n            paddingRight: 0,\r\n            marginLeft: '8px',\r\n          },\r\n        } : null}\r\n      />\r\n    )\r\n    : (\r\n      <TextField\r\n        id={`app-item-${item.type.toLowerCase()}-${idx}`}\r\n        value={value.content}\r\n        multiline\r\n        autoAdjustHeight\r\n        autoComplete=\"off\"\r\n        onChange={handleChange}\r\n        onBlur={handleBlur}\r\n        disabled={!validations.inputEditable}\r\n      />\r\n    );\r\n};\r\n\r\nAppraisalInput.propTypes = {\r\n  item: PropTypes.shape({\r\n    id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\r\n    status: PropTypes.string,\r\n    type: PropTypes.string,\r\n    content: PropTypes.string,\r\n    relatedItemId: PropTypes.string,\r\n    createdUser: PropTypes.oneOfType([PropTypes.string, PropTypes.shape({\r\n      id: PropTypes.string,\r\n      username: PropTypes.string,\r\n    })]),\r\n    createdDate: PropTypes.oneOfType([PropTypes.string, PropTypes.objectOf(Date)]),\r\n    modifiedUser: PropTypes.shape({\r\n      id: PropTypes.string,\r\n      username: PropTypes.string,\r\n    }),\r\n    modifiedDate: PropTypes.string,\r\n  }).isRequired,\r\n  idx: PropTypes.number.isRequired,\r\n  changeHandler: PropTypes.func.isRequired,\r\n  blurHandler: PropTypes.func.isRequired,\r\n  removeHandler: PropTypes.func.isRequired,\r\n  changeTypeHandler: PropTypes.func.isRequired,\r\n  canInsert: PropTypes.bool.isRequired,\r\n  canUpdate: PropTypes.bool.isRequired,\r\n  canDelete: PropTypes.bool.isRequired,\r\n};\r\n\r\nCustomPrefix.propTypes = {\r\n  // eslint-disable-next-line react/forbid-prop-types\r\n  children: PropTypes.any.isRequired,\r\n  id: PropTypes.string.isRequired,\r\n};\r\n\r\nCustomSuffix.propTypes = {\r\n  menuProps: PropTypes.shape({}).isRequired,\r\n};\r\n\r\nexport default AppraisalInput;\r\n","import AppraisalInput from './AppraisalInput';\r\n\r\nexport default AppraisalInput;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@fluentui/react';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  box: {\r\n    padding: theme.spacing.l2,\r\n  },\r\n}));\r\n\r\nconst Box = ({ children, style, className }) => {\r\n  const classes = useStyles();\r\n  return (\r\n    <div style={style} className={`${classes.box} ${className}`}>\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nBox.propTypes = {\r\n  style: PropTypes.shape({}),\r\n  className: PropTypes.string,\r\n  children: PropTypes.arrayOf(PropTypes.element).isRequired,\r\n};\r\n\r\nBox.defaultProps = {\r\n  style: {},\r\n  className: '',\r\n};\r\n\r\nexport default Box;\r\n","import Box from './Box';\r\n\r\nexport default Box;\r\n","import React, { useCallback, useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useParams } from 'react-router-dom';\r\nimport { makeStyles, Stack, Text } from '@fluentui/react';\r\nimport AppraisalInput from '../appraisal-input';\r\nimport AppraisalService from '../../../../services/AppraisalService';\r\nimport Box from '../../../shared/box';\r\nimport { validate, perform } from '../../../../services/validators';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  stack: {\r\n    '& > * + *': {\r\n      paddingTop: theme.spacing.s1,\r\n    },\r\n  },\r\n}));\r\n\r\nconst FieldSet = ({\r\n  context,\r\n  items,\r\n  setItems,\r\n  details,\r\n  type,\r\n  setOtherItems,\r\n}) => {\r\n  const minItems = {\r\n    Achieved: 5,\r\n    Planned: 5,\r\n    Training_Planned: 3,\r\n    Training_Achieved: 3,\r\n    SWOT_S: 5,\r\n    SWOT_W: 5,\r\n    SWOT_O: 5,\r\n    SWOT_T: 5,\r\n    Feedback: 1,\r\n  };\r\n\r\n  const labels = {\r\n    Achieved: 'Achieved',\r\n    Planned: 'Planned',\r\n    Training_Planned: 'Planned',\r\n    Training_Achieved: 'Achieved',\r\n    SWOT_S: 'Strengths',\r\n    SWOT_W: 'Weaknesses',\r\n    SWOT_O: 'Opportunities',\r\n    SWOT_T: 'Threats',\r\n    Feedback: 'Remarks / Other feedback',\r\n  };\r\n  const periodId = details.id;\r\n  const classes = useStyles();\r\n  const min = minItems[type] || 0;\r\n  const [validations, setValidations] = useState({\r\n    canInsert: false,\r\n    canUpdate: false,\r\n    canDelete: false,\r\n  });\r\n  const { userId } = useParams();\r\n  const { user } = context;\r\n\r\n  useEffect(() => {\r\n    async function run() {\r\n      // if we have no userid, we need to check if the period is locked\r\n      let isLocked = !userId\r\n        ? (await validate.periodLocked(details, user.id)()).result\r\n        : false;\r\n      const isFinished = (await validate.periodStatus(details, 'Finished')()).result;\r\n      // Locked is false by default for finished periods\r\n      if (isFinished) isLocked = false;\r\n      // if period is locked, we cannot insert, update or delete items\r\n      if (!isLocked) {\r\n        const canInsert = (await perform(validate\r\n          .canInsert(context, details, userId), false)).result;\r\n        const canUpdate = (await perform(validate\r\n          .canUpdate(context, details, userId), false)).result;\r\n        const canDelete = (await perform(validate\r\n          .canDelete(context, details, userId), false)).result;\r\n        setValidations((prev) => ({\r\n          ...prev,\r\n          canInsert,\r\n          canUpdate,\r\n          canDelete,\r\n        }));\r\n      }\r\n    }\r\n    setItems(AppraisalService.normalizeSet(\r\n      periodId,\r\n      context.user,\r\n      items,\r\n      min,\r\n      type,\r\n    ));\r\n    run();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  // CRUD functions\r\n  const addItem = useCallback(async (id, item) => {\r\n    if (!userId) {\r\n      return AppraisalService.addItemToSet(id, item);\r\n    }\r\n    return AppraisalService.addUserItemToSet(id, userId, item);\r\n  }, [userId]);\r\n\r\n  const updateItem = useCallback(async (id, item) => {\r\n    if (!userId) {\r\n      return AppraisalService.updateItemInSet(id, item);\r\n    }\r\n    return AppraisalService.updateUserItemInSet(id, userId, item);\r\n  }, [userId]);\r\n\r\n  const deleteItem = useCallback(async (id, item) => {\r\n    if (!userId) {\r\n      return AppraisalService.deleteItemFromSet(id, item);\r\n    }\r\n    return AppraisalService.deleteUserItemFromSet(id, userId, item);\r\n  }, [userId]);\r\n\r\n  const changeHandler = useCallback((item, idx, firstChange) => {\r\n    if (firstChange) {\r\n      setItems((prev) => {\r\n        const copy = prev.slice();\r\n        copy[idx].content = item.content;\r\n        return AppraisalService.normalizeSet(\r\n          periodId, user, copy, min, type,\r\n        );\r\n      });\r\n    }\r\n  }, [user, periodId, type, min, setItems]);\r\n\r\n  const changeTypeHandler = useCallback(async (itemId, itemType) => {\r\n    if (itemId !== 0 && setOtherItems) {\r\n      const item = items.find((i) => i.id === itemId);\r\n      if (item) {\r\n        item.type = itemType;\r\n        const result = await updateItem(periodId, item);\r\n        if (!result.error) {\r\n          setItems((prev) => (\r\n            AppraisalService.normalizeSet(\r\n              periodId,\r\n              user,\r\n              prev.filter((i) => i.id !== result.value.id),\r\n              min,\r\n              itemType,\r\n            )));\r\n          setOtherItems((prev) => AppraisalService.normalizeSet(\r\n            periodId,\r\n            user,\r\n            prev.filter((i) => i.content !== '').concat(result.value),\r\n            min,\r\n            itemType,\r\n          ));\r\n        }\r\n      }\r\n    }\r\n  }, [user, setOtherItems, min, items, periodId, setItems, updateItem]);\r\n\r\n  // Handle the remove button press\r\n  const removeHandler = useCallback(async (item, idx) => {\r\n    try {\r\n      if (!Number.isNaN(idx) && idx < items.length) {\r\n        if (item.id !== 0) {\r\n          const result = await deleteItem(periodId, items[idx]);\r\n          if (result.error !== null) {\r\n            throw result.error;\r\n          }\r\n        }\r\n        setItems((prev) => {\r\n          const copy = prev.filter((i) => i.id !== item.id);\r\n          return AppraisalService.normalizeSet(\r\n            periodId,\r\n            user,\r\n            copy,\r\n            min,\r\n            type,\r\n          );\r\n        });\r\n      }\r\n    } catch (err) {\r\n      setItems((prev) => {\r\n        const copy = prev.slice();\r\n        copy[idx] = item;\r\n        return AppraisalService.normalizeSet(\r\n          periodId,\r\n          user,\r\n          copy,\r\n          min,\r\n          type,\r\n        );\r\n      });\r\n    }\r\n  }, [user, items, periodId, type, min, deleteItem, setItems]);\r\n\r\n  /*\r\n      Following procedure needs to syncronize the current\r\n    item modification with the database\r\n    whenever user loses focus of the input field.\r\n    (Press Tab or click out).\r\n    I receive the item that i was modifying, it's order in\r\n    the group of inputs (index), and a\r\n    flag saiyng whether it was modified.\r\n   */\r\n  const blurHandler = useCallback(async (item, idx, modified) => {\r\n    // If the element i want to syncronize is valid, meaning it has correct order number and type.\r\n    if (idx < items.length && item.type === type) {\r\n      // I determine if the item is new (if it was earlier saved to the database)\r\n      const isNew = item.id === 0 && item.content;\r\n      // I determine if the item needs to be deleted from the database\r\n      // (is not new and content is empty)\r\n      const isToBeDeleted = item.id !== 0 && item.content === '';\r\n      if (isNew) {\r\n        // I try to add the item to the database.\r\n        const result = await addItem(periodId, item);\r\n        // Depending whether the addition succeeded or not, i update the input field accordingly\r\n        setItems((prev) => {\r\n          const copy = prev.slice();\r\n          if (!result.error) {\r\n            copy[idx] = result.value;\r\n          } else {\r\n            copy[idx] = item;\r\n            copy[idx].content = '';\r\n          }\r\n          return AppraisalService.normalizeSet(\r\n            periodId,\r\n            user,\r\n            copy,\r\n            min,\r\n            type,\r\n          );\r\n        });\r\n      } else if (isToBeDeleted) {\r\n        // I try to delete the item from the database:\r\n        const result = await deleteItem(periodId, item);\r\n        // Depending whether the addition succeeded or not, i update the input field accordingly\r\n        setItems((prev) => {\r\n          let copy = prev.slice();\r\n          if (!result.error) {\r\n            copy = copy.filter((i) => i.id !== item.id);\r\n          } else if (result.value) {\r\n            copy[idx] = result.value;\r\n          }\r\n          return AppraisalService.normalizeSet(\r\n            periodId,\r\n            user,\r\n            copy,\r\n            min,\r\n            type,\r\n          );\r\n        });\r\n      } else if (!isNew && !isToBeDeleted && modified && item.content !== '') {\r\n        // I try to modify item in the database\r\n        const result = await updateItem(periodId, item);\r\n        // Depending whether the addition succeeded or not, i update the input field accordingly\r\n        setItems((prev) => {\r\n          let copy;\r\n          if (result.error) {\r\n            copy = prev.slice();\r\n            if (result.value) copy[idx] = result.value;\r\n          } else {\r\n            copy = prev.map((i) => {\r\n              if (i.id === item.id) {\r\n                return result.value;\r\n              }\r\n              return i;\r\n            });\r\n          }\r\n          return AppraisalService.normalizeSet(\r\n            periodId,\r\n            user,\r\n            copy,\r\n            min,\r\n            type,\r\n          );\r\n        });\r\n      }\r\n    }\r\n  }, [user, items, periodId, type, min, addItem, deleteItem, updateItem, setItems]);\r\n\r\n  return (\r\n    <Box>\r\n      <Stack verticalAlign=\"center\" className={classes.stack}>\r\n        <Stack.Item align=\"center\">\r\n          <Text variant=\"mediumPlus\">{labels[type]}</Text>\r\n        </Stack.Item>\r\n        {items.map((i, idx) => {\r\n          const key = i.id === 0 ? idx : i.id;\r\n          return (\r\n            <Stack.Item\r\n              className={classes.listItem}\r\n              key={key}\r\n            >\r\n              <AppraisalInput\r\n                item={i}\r\n                idx={idx}\r\n                label={labels[type]}\r\n                changeHandler={changeHandler}\r\n                blurHandler={blurHandler}\r\n                removeHandler={removeHandler}\r\n                changeTypeHandler={changeTypeHandler}\r\n                canInsert={validations.canInsert}\r\n                canUpdate={validations.canUpdate}\r\n                canDelete={validations.canDelete}\r\n              />\r\n            </Stack.Item>\r\n          );\r\n        })}\r\n      </Stack>\r\n    </Box>\r\n  );\r\n};\r\n\r\nFieldSet.propTypes = {\r\n  context: PropTypes.shape({\r\n    user: PropTypes.shape({\r\n      id: PropTypes.string,\r\n      username: PropTypes.string,\r\n    }),\r\n    Authorize: PropTypes.func,\r\n  }).isRequired,\r\n  items: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\r\n  setItems: PropTypes.func.isRequired,\r\n  details: PropTypes.shape({\r\n    id: PropTypes.string,\r\n  }).isRequired,\r\n  type: PropTypes.string.isRequired,\r\n  setOtherItems: PropTypes.func,\r\n};\r\n\r\nFieldSet.defaultProps = {\r\n  setOtherItems: null,\r\n};\r\n\r\nexport default FieldSet;\r\n","import FieldSet from './FieldSet';\r\n\r\nexport default FieldSet;\r\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  Icon,\r\n  makeStyles,\r\n  Persona,\r\n  PersonaSize,\r\n  Separator,\r\n  Text,\r\n} from '@fluentui/react';\r\nimport { Col, Container, Row } from 'react-grid-system';\r\nimport AppraisalUserRedirect from '../appraisal-user-redirect';\r\nimport AuthorizationComponent from '../../../shared/authorization-component';\r\nimport { validate } from '../../../../services/validators';\r\nimport PageHeader from '../../../shared/page-header';\r\nimport Chip from '../../../shared/chip';\r\nimport FieldSet from '../appraisal-field-set';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  chipContent: {\r\n    backgroundColor: theme.palette.neutralQuaternary,\r\n    padding: '7px',\r\n    display: 'inline-flex',\r\n    flexFlow: 'row nowrap',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  lockedChip: {\r\n    backgroundColor: theme.palette.themePrimary,\r\n    padding: '7px',\r\n    display: 'inline-flex',\r\n    flexFlow: 'row nowrap',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    color: '#fff',\r\n  },\r\n  lockIcon: {\r\n    marginRight: theme.spacing.s1,\r\n  },\r\n  container: {\r\n    '& > * + *': {\r\n      marginTop: theme.spacing.m,\r\n    },\r\n  },\r\n}));\r\n\r\nconst AppraisalDetailsDisplay = ({ context, periodDetails }) => {\r\n  const classes = useStyles();\r\n  const [achieved, setAchieved] = useState(periodDetails.items.filter((el) => el.type === 'Achieved'));\r\n  const [planned, setPlanned] = useState(periodDetails.items.filter((el) => el.type === 'Planned'));\r\n  const [trainingPlanned, setTrainingPlanned] = useState(periodDetails.items.filter((el) => el.type === 'Training_Planned'));\r\n  const [trainingAchieved, setTrainingAchieved] = useState(periodDetails.items.filter((el) => el.type === 'Training_Achieved'));\r\n  const [swotS, setSWOTS] = useState(periodDetails.items.filter((el) => el.type === 'SWOT_S'));\r\n  const [swotW, setSWOTW] = useState(periodDetails.items.filter((el) => el.type === 'SWOT_W'));\r\n  const [swotO, setSWOTO] = useState(periodDetails.items.filter((el) => el.type === 'SWOT_O'));\r\n  const [swotT, setSWOTT] = useState(periodDetails.items.filter((el) => el.type === 'SWOT_T'));\r\n  const [feedBack, setFeedBack] = useState(periodDetails.items.filter((el) => el.type === 'Feedback'));\r\n  const [locked, setLocked] = useState(false);\r\n  const { user } = context;\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    async function run() {\r\n      const isLocked = (await validate.periodLocked(periodDetails, user.id)()).result;\r\n      if (mounted) {\r\n        setLocked(isLocked);\r\n      }\r\n    }\r\n    run();\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, [periodDetails, user.id]);\r\n\r\n  return (\r\n    <Container md className={classes.container}>\r\n      <Row>\r\n        <Col xs={12}>\r\n          <PageHeader text={`Details '${periodDetails.name ? periodDetails.name : ''}'`} />\r\n        </Col>\r\n      </Row>\r\n      <Row justify=\"center\">\r\n        <Col xs={12} md={6} lg={4}>\r\n          <AuthorizationComponent code=\"APPRAISAL DETAILS - OTHER USERS\" grant=\"read\">\r\n            <AppraisalUserRedirect />\r\n          </AuthorizationComponent>\r\n        </Col>\r\n      </Row>\r\n      <Row justify=\"center\">\r\n        <div>\r\n          {user\r\n            ? (\r\n              <Chip className={classes.chipContent}>\r\n                <Persona size={PersonaSize.size24} text={user.username} />\r\n              </Chip>\r\n            )\r\n            : null}\r\n        </div>\r\n      </Row>\r\n      <Row justify=\"center\">\r\n        <div>\r\n          {\r\n          locked\r\n            ? (\r\n              <Chip className={classes.lockedChip}>\r\n                <Icon className={classes.lockIcon} iconName=\"LockSolid\" />\r\n                <Text variant=\"smallPlus\">Locked</Text>\r\n              </Chip>\r\n            )\r\n            : null\r\n          }\r\n        </div>\r\n      </Row>\r\n      <Separator><Text variant=\"mediumPlus\">Objectives</Text></Separator>\r\n      <Row>\r\n        <Col xs={12} md={6}>\r\n          <FieldSet context={context} details={periodDetails} items={achieved} setItems={setAchieved} type=\"Achieved\" setOtherItems={setPlanned} />\r\n        </Col>\r\n        <Col xs={12} md={6}>\r\n          <FieldSet context={context} details={periodDetails} items={planned} setItems={setPlanned} type=\"Planned\" setOtherItems={setAchieved} />\r\n        </Col>\r\n      </Row>\r\n      <Separator><Text variant=\"mediumPlus\">Trainings</Text></Separator>\r\n      <Row>\r\n        <Col xs={12} md={6}>\r\n          <FieldSet context={context} details={periodDetails} items={trainingAchieved} setItems={setTrainingAchieved} type=\"Training_Achieved\" setOtherItems={setTrainingPlanned} />\r\n        </Col>\r\n        <Col xs={12} md={6}>\r\n          <FieldSet context={context} details={periodDetails} items={trainingPlanned} setItems={setTrainingPlanned} type=\"Training_Planned\" setOtherItems={setTrainingAchieved} />\r\n        </Col>\r\n      </Row>\r\n      <Separator><Text variant=\"mediumPlus\">SWOT</Text></Separator>\r\n      <Row nogutter>\r\n        <Col xs={12} md={6}>\r\n          <FieldSet context={context} details={periodDetails} items={swotS} setItems={setSWOTS} type=\"SWOT_S\" />\r\n        </Col>\r\n        <Col xs={12} md={6}>\r\n          <FieldSet context={context} details={periodDetails} items={swotW} setItems={setSWOTW} type=\"SWOT_W\" />\r\n        </Col>\r\n        <Col xs={12} md={6}>\r\n          <FieldSet context={context} details={periodDetails} items={swotO} setItems={setSWOTO} type=\"SWOT_O\" />\r\n        </Col>\r\n        <Col xs={12} md={6}>\r\n          <FieldSet context={context} details={periodDetails} items={swotT} setItems={setSWOTT} type=\"SWOT_T\" />\r\n        </Col>\r\n      </Row>\r\n      <Row>\r\n        <Col xs={12}>\r\n          <FieldSet context={context} details={periodDetails} items={feedBack} setItems={setFeedBack} type=\"Feedback\" />\r\n        </Col>\r\n      </Row>\r\n      <div style={{ padding: '20px' }} />\r\n    </Container>\r\n  );\r\n};\r\n\r\nAppraisalDetailsDisplay.propTypes = {\r\n  context: PropTypes.shape({\r\n    user: PropTypes.shape({\r\n      id: PropTypes.string,\r\n      avatar: PropTypes.string,\r\n      username: PropTypes.string,\r\n    }),\r\n  }).isRequired,\r\n  periodDetails: PropTypes.shape({\r\n    name: PropTypes.string,\r\n    items: PropTypes.arrayOf(PropTypes.shape({\r\n      type: PropTypes.string,\r\n    })),\r\n  }).isRequired,\r\n};\r\n\r\nexport default AppraisalDetailsDisplay;\r\n","import AppraisalDetailsDisplay from './AppraisalDetailsDisplay';\r\n\r\nexport default AppraisalDetailsDisplay;\r\n","import AppraisalUserInfo from './AppraisalUserInfo';\r\n\r\nexport default AppraisalUserInfo;\r\n","import { useEffect } from 'react';\r\nimport AppraisalService from '../../../../services/AppraisalService';\r\nimport UserService from '../../../../services/UserService';\r\n\r\nconst AppraisalUserInfo = ({\r\n  periodId, userId, setUserDetails, setPeriodDetails,\r\n}) => {\r\n  useEffect(() => {\r\n    async function run() {\r\n      /*\r\n        I try to get user's info and set it\r\n        Then i try to get periodInfo and set it\r\n        If i fail, i throw an error\r\n      */\r\n      const userData = await UserService.getUser(userId);\r\n      setUserDetails(userData);\r\n      const periodData = await AppraisalService.getUserItems(periodId, userId);\r\n      setPeriodDetails(periodData);\r\n    }\r\n    run();\r\n  }, [periodId, userId, setPeriodDetails, setUserDetails]);\r\n  return null;\r\n};\r\n\r\nexport default AppraisalUserInfo;\r\n","import React, { useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Col, Container, Row } from 'react-grid-system';\r\nimport {\r\n  Icon, makeStyles, Persona, PersonaSize, PrimaryButton, Separator, Text,\r\n} from '@fluentui/react';\r\nimport FieldSet from '../appraisal-field-set';\r\nimport AppraisalUserRedirect from '../appraisal-user-redirect';\r\nimport AuthorizationComponent from '../../../shared/authorization-component';\r\nimport constants from '../../../../utils/constants';\r\nimport { validate } from '../../../../services/validators';\r\nimport Chip from '../../../shared/chip';\r\nimport PageHeader from '../../../shared/page-header';\r\n\r\nconst userStyles = makeStyles((theme) => ({\r\n  chipContent: {\r\n    backgroundColor: theme.palette.neutralQuaternary,\r\n    padding: '7px',\r\n    display: 'inline-flex',\r\n    flexFlow: 'row nowrap',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  lockedChip: {\r\n    backgroundColor: theme.palette.themePrimary,\r\n    padding: '7px',\r\n    display: 'inline-flex',\r\n    flexFlow: 'row nowrap',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    color: '#fff',\r\n  },\r\n  lockIcon: {\r\n    marginRight: theme.spacing.s1,\r\n  },\r\n  container: {\r\n    '& > * + *': {\r\n      marginTop: theme.spacing.m,\r\n    },\r\n  },\r\n}));\r\n\r\nconst AppraisalUserDetails = ({\r\n  context, periodDetails, userDetails, handleLockButton,\r\n}) => {\r\n  const classes = userStyles();\r\n  const [achieved, setAchieved] = useState(periodDetails.items.filter((el) => el.type === 'Achieved'));\r\n  const [planned, setPlanned] = useState(periodDetails.items.filter((el) => el.type === 'Planned'));\r\n  const [trainingPlanned, setTrainingPlanned] = useState(periodDetails.items.filter((el) => el.type === 'Training_Planned'));\r\n  const [trainingAchieved, setTrainingAchieved] = useState(periodDetails.items.filter((el) => el.type === 'Training_Achieved'));\r\n  const [swotS, setSWOTS] = useState(periodDetails.items.filter((el) => el.type === 'SWOT_S'));\r\n  const [swotW, setSWOTW] = useState(periodDetails.items.filter((el) => el.type === 'SWOT_W'));\r\n  const [swotO, setSWOTO] = useState(periodDetails.items.filter((el) => el.type === 'SWOT_O'));\r\n  const [swotT, setSWOTT] = useState(periodDetails.items.filter((el) => el.type === 'SWOT_T'));\r\n  const [feedBack, setFeedBack] = useState(periodDetails.items.filter((el) => el.type === 'Feedback'));\r\n  const [locked, setLocked] = useState(false);\r\n  const [finished, setFinished] = useState(false);\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    async function run() {\r\n      const isLocked = (await validate.periodLocked(periodDetails, userDetails.id)()).result;\r\n      const isFinished = (await validate.periodStatus(periodDetails, 'Finished')()).result;\r\n      if (mounted) {\r\n        setLocked(isLocked);\r\n        setFinished(isFinished);\r\n      }\r\n    }\r\n    run();\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, [periodDetails, userDetails.id]);\r\n\r\n  return (\r\n    <Container md className={classes.container}>\r\n      <Row>\r\n        <Col xs={12}>\r\n          <PageHeader text={`Details '${periodDetails.name ? periodDetails.name : ''}'`} />\r\n        </Col>\r\n      </Row>\r\n      <Row justify=\"center\">\r\n        <Col xs={12} md={6} lg={4}>\r\n          <AuthorizationComponent code=\"APPRAISAL DETAILS - OTHER USERS\" grant=\"read\">\r\n            <AppraisalUserRedirect />\r\n          </AuthorizationComponent>\r\n        </Col>\r\n      </Row>\r\n      <Row justify=\"center\">\r\n        <div>\r\n          {userDetails\r\n            ? (\r\n              <Chip className={classes.chipContent}>\r\n                <Persona size={PersonaSize.size24} text={userDetails.username} />\r\n              </Chip>\r\n            )\r\n            : null}\r\n        </div>\r\n      </Row>\r\n      <Row justify=\"center\">\r\n        <div>\r\n          {\r\n          locked\r\n            ? (\r\n              <Chip className={classes.lockedChip}>\r\n                <Icon className={classes.lockIcon} iconName=\"LockSolid\" />\r\n                <Text variant=\"smallPlus\">Locked</Text>\r\n              </Chip>\r\n            )\r\n            : null\r\n          }\r\n        </div>\r\n      </Row>\r\n      <Separator><Text variant=\"mediumPlus\">Objectives</Text></Separator>\r\n      <Row>\r\n        <Col xs={12} md={6}>\r\n          <FieldSet context={context} details={periodDetails} items={achieved} setItems={setAchieved} type=\"Achieved\" setOtherItems={setPlanned} />\r\n        </Col>\r\n        <Col xs={12} md={6}>\r\n          <FieldSet context={context} details={periodDetails} items={planned} setItems={setPlanned} type=\"Planned\" setOtherItems={setAchieved} />\r\n        </Col>\r\n      </Row>\r\n      <Separator><Text variant=\"mediumPlus\">Trainings</Text></Separator>\r\n      <Row>\r\n        <Col xs={12} md={6}>\r\n          <FieldSet context={context} details={periodDetails} items={trainingAchieved} setItems={setTrainingAchieved} type=\"Training_Achieved\" setOtherItems={setTrainingPlanned} />\r\n        </Col>\r\n        <Col xs={12} md={6}>\r\n          <FieldSet context={context} details={periodDetails} items={trainingPlanned} setItems={setTrainingPlanned} type=\"Training_Planned\" setOtherItems={setTrainingAchieved} />\r\n        </Col>\r\n      </Row>\r\n      <Separator><Text variant=\"mediumPlus\">SWOT</Text></Separator>\r\n      <Row nogutter>\r\n        <Col xs={12} md={6}>\r\n          <FieldSet context={context} details={periodDetails} items={swotS} setItems={setSWOTS} type=\"SWOT_S\" />\r\n        </Col>\r\n        <Col xs={12} md={6}>\r\n          <FieldSet context={context} details={periodDetails} items={swotW} setItems={setSWOTW} type=\"SWOT_W\" />\r\n        </Col>\r\n        <Col xs={12} md={6}>\r\n          <FieldSet context={context} details={periodDetails} items={swotO} setItems={setSWOTO} type=\"SWOT_O\" />\r\n        </Col>\r\n        <Col xs={12} md={6}>\r\n          <FieldSet context={context} details={periodDetails} items={swotT} setItems={setSWOTT} type=\"SWOT_T\" />\r\n        </Col>\r\n      </Row>\r\n      <Row>\r\n        <Col xs={12}>\r\n          <FieldSet context={context} details={periodDetails} items={feedBack} setItems={setFeedBack} type=\"Feedback\" />\r\n        </Col>\r\n      </Row>\r\n      <AuthorizationComponent\r\n        code={constants.securities.APPRAISAL_DETAILS_OTHER.code}\r\n        grant={constants.securities.APPRAISAL_DETAILS_OTHER.grants.toggleLock}\r\n      >\r\n        {\r\n           !finished\r\n             ? (\r\n               <Row align=\"center\" justify=\"center\">\r\n                 <PrimaryButton\r\n                   primary\r\n                   iconProps={{\r\n                     iconName: locked ? 'Unlock' : 'Lock',\r\n                   }}\r\n                   onClick={handleLockButton}\r\n                   text={locked ? 'Unlock' : 'Lock'}\r\n                 />\r\n               </Row>\r\n             )\r\n             : null\r\n         }\r\n        <div style={{ padding: '20px' }} />\r\n      </AuthorizationComponent>\r\n    </Container>\r\n  );\r\n};\r\n\r\nAppraisalUserDetails.propTypes = {\r\n  context: PropTypes.shape({\r\n\r\n  }).isRequired,\r\n  // eslint-disable-next-line react/forbid-prop-types\r\n  userDetails: PropTypes.shape({\r\n    id: PropTypes.string,\r\n    username: PropTypes.string,\r\n  }).isRequired,\r\n  periodDetails: PropTypes.shape({\r\n    id: PropTypes.string,\r\n    name: PropTypes.string,\r\n    items: PropTypes.arrayOf(PropTypes.shape({\r\n      type: PropTypes.string,\r\n    })),\r\n  }).isRequired,\r\n  handleLockButton: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default AppraisalUserDetails;\r\n","import AppraisalUserDetails from './AppraisalUserDetails';\r\n\r\nexport default AppraisalUserDetails;\r\n","import AppraisalDetails from './AppraisalDetails';\r\n\r\nexport default AppraisalDetails;\r\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useParams } from 'react-router-dom';\r\nimport DocumentTitle from 'react-document-title';\r\nimport AppraisalDetailsInfo from './components/appraisal-info';\r\nimport AppraisalDetailsDisplay from './components/appraisal-details-display';\r\nimport AppraisalUserInfo from './components/appraisal-user-info';\r\nimport AppraisalUserDetails from './components/appraisal-user-details-display';\r\nimport AppraisalService from '../../services/AppraisalService';\r\n\r\nconst AppraisalDetails = ({ context }) => {\r\n  const [periodDetails, setPeriodDetails] = useState(null);\r\n  const [userDetails, setUserDetails] = useState(null);\r\n  const periodId = useParams().id;\r\n  const { userId } = useParams();\r\n\r\n  useEffect(() => {\r\n    setPeriodDetails(null);\r\n    setUserDetails(null);\r\n  }, [userId]);\r\n\r\n  /**\r\n   * Handle locking button for user period\r\n   */\r\n  const handleLockButton = async () => {\r\n    if (userId) {\r\n      const result = await AppraisalService.toggleLockPeriod(periodDetails.id, userId);\r\n      setPeriodDetails((prev) => {\r\n        if (prev) {\r\n          return {\r\n            ...prev,\r\n            users: result.users.slice(),\r\n          };\r\n        }\r\n        return prev;\r\n      });\r\n    }\r\n  };\r\n\r\n  let display;\r\n  if (!userId) {\r\n    display = (\r\n      <>\r\n        {\r\n          periodDetails === null\r\n            ? <AppraisalDetailsInfo periodId={periodId} setPeriodDetails={setPeriodDetails} />\r\n            : <AppraisalDetailsDisplay context={context} periodDetails={periodDetails} />\r\n        }\r\n      </>\r\n    );\r\n  } else {\r\n    display = (\r\n      <>\r\n        {\r\n          periodDetails === null || userDetails === null\r\n            ? (\r\n              <AppraisalUserInfo\r\n                periodId={periodId}\r\n                userId={userId}\r\n                setUserDetails={setUserDetails}\r\n                setPeriodDetails={setPeriodDetails}\r\n              />\r\n            )\r\n            : (\r\n              <AppraisalUserDetails\r\n                context={context}\r\n                periodDetails={periodDetails}\r\n                userDetails={userDetails}\r\n                handleLockButton={handleLockButton}\r\n              />\r\n            )\r\n}\r\n      </>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <DocumentTitle title={periodDetails ? periodDetails.name : 'App'}>\r\n      {display}\r\n    </DocumentTitle>\r\n  );\r\n};\r\n\r\nAppraisalDetails.propTypes = {\r\n  context: PropTypes.shape({}).isRequired,\r\n};\r\n\r\nexport default AppraisalDetails;\r\n","import AppraisalDetailsPage from './AppraisalDetailsPage';\r\n\r\nexport default AppraisalDetailsPage;\r\n","import React, { useContext } from 'react';\r\nimport { Container } from 'react-grid-system';\r\nimport GlobalContext from '../../services/GlobalContext';\r\nimport AuthorizationRedirectComponent from '../../components/shared/authorization-redirect-component';\r\nimport AppraisalDetails from '../../components/appraisal-details';\r\nimport constants from '../../utils/constants';\r\n\r\nconst AppraisalDetailsPage = () => {\r\n  const global = useContext(GlobalContext);\r\n  return (\r\n    <Container md>\r\n      <AuthorizationRedirectComponent\r\n        code={constants.securities.APPRAISAL_DETAILS.code}\r\n        grant={constants.securities.APPRAISAL_DETAILS.grants.read}\r\n        to=\"/appraisals\"\r\n        failureNotification={{\r\n          type: 'info',\r\n          header: 'No access',\r\n          content: 'You have no access to this page. Please contact your administrator',\r\n        }}\r\n      >\r\n        <AppraisalDetails context={global} />\r\n      </AuthorizationRedirectComponent>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default AppraisalDetailsPage;\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  DefaultButton, Panel, PanelType, PrimaryButton, Stack, TextField,\r\n} from '@fluentui/react';\r\n\r\nconst PanelNew = ({ isOpen, setOpen, handleCreate }) => {\r\n  const [val, setVal] = useState('');\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    handleCreate(val).finally(() => {\r\n      setVal('');\r\n      setOpen(false);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Panel\r\n      isOpen={isOpen}\r\n      onDismiss={() => setOpen(false)}\r\n      type={PanelType.smallFixedFar}\r\n      headerText=\"Create period\"\r\n    >\r\n      <form onSubmit={handleSubmit}>\r\n        <Stack verticalAlign=\"start\">\r\n          <Stack.Item tokens={{\r\n            margin: '10px 0',\r\n          }}\r\n          >\r\n            <TextField\r\n              label=\"Name\"\r\n              value={val}\r\n              autoFocus\r\n              onChange={(e) => {\r\n                const result = e.target.value;\r\n                setVal(result);\r\n              }}\r\n            />\r\n          </Stack.Item>\r\n          <Stack horizontal horizontalAlign=\"space-evenly\">\r\n            <PrimaryButton type=\"submit\">Create</PrimaryButton>\r\n            <DefaultButton onClick={() => setOpen(false)}>Cancel</DefaultButton>\r\n          </Stack>\r\n        </Stack>\r\n      </form>\r\n    </Panel>\r\n  );\r\n};\r\n\r\nPanelNew.propTypes = {\r\n  isOpen: PropTypes.bool.isRequired,\r\n  setOpen: PropTypes.func.isRequired,\r\n  handleCreate: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default PanelNew;\r\n","import React, { useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  DefaultButton, Panel, PanelType, PrimaryButton, Stack, TextField,\r\n} from '@fluentui/react';\r\n\r\nconst PanelEdit = ({\r\n  item, isOpen, setOpen, handleEdit,\r\n}) => {\r\n  const [val, setVal] = useState(item ? item.name : '');\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    handleEdit(item.id, val).finally(() => {\r\n      setVal('');\r\n      setOpen(false);\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    setVal(item ? item.name : '');\r\n  }, [item]);\r\n\r\n  return (\r\n    <Panel\r\n      isOpen={isOpen}\r\n      onDismiss={() => setOpen(false)}\r\n      type={PanelType.smallFixedFar}\r\n      headerText=\"Edit period\"\r\n    >\r\n      <form onSubmit={handleSubmit}>\r\n        <Stack verticalAlign=\"start\">\r\n          <Stack.Item tokens={{\r\n            margin: '10px 0',\r\n          }}\r\n          >\r\n            <TextField\r\n              label=\"Name\"\r\n              value={val}\r\n              autoFocus\r\n              onChange={(e) => {\r\n                const result = e.target.value;\r\n                setVal(result);\r\n              }}\r\n            />\r\n          </Stack.Item>\r\n          <Stack horizontal horizontalAlign=\"space-evenly\">\r\n            <PrimaryButton type=\"submit\">Update</PrimaryButton>\r\n            <DefaultButton onClick={() => setOpen(false)}>Cancel</DefaultButton>\r\n          </Stack>\r\n        </Stack>\r\n      </form>\r\n    </Panel>\r\n  );\r\n};\r\n\r\nPanelEdit.propTypes = {\r\n  item: PropTypes.shape({\r\n    id: PropTypes.string,\r\n    name: PropTypes.string,\r\n  }),\r\n  isOpen: PropTypes.bool.isRequired,\r\n  setOpen: PropTypes.func.isRequired,\r\n  handleEdit: PropTypes.func.isRequired,\r\n};\r\n\r\nPanelEdit.defaultProps = {\r\n  item: null,\r\n};\r\n\r\nexport default PanelEdit;\r\n","/* eslint-disable no-param-reassign */\r\nimport React, {\r\n  useState, useEffect, useContext,\r\n} from 'react';\r\nimport {\r\n  Switch, Route, useRouteMatch, useHistory,\r\n} from 'react-router-dom';\r\nimport {\r\n  Checkbox,\r\n  CommandBar,\r\n  SearchBox,\r\n  SelectionMode,\r\n  Separator,\r\n  Stack,\r\n  Text,\r\n  useTheme,\r\n} from '@fluentui/react';\r\nimport {\r\n  Col, Container, Row, useScreenClass,\r\n} from 'react-grid-system';\r\nimport { downloadBlob } from 'download.js';\r\nimport Table from '../../components/shared/table';\r\nimport AppraisalService from '../../services/AppraisalService';\r\nimport GlobalContext from '../../services/GlobalContext';\r\nimport AppraisalDetailsPage from '../appraisal-details';\r\nimport PageHeader from '../../components/shared/page-header';\r\nimport Chip from '../../components/shared/chip';\r\nimport PanelNew from '../../components/appraisal-list/panel-new/PanelNew';\r\nimport constants from '../../utils/constants';\r\nimport PanelEdit from '../../components/appraisal-list/panel-edit/PanelEdit';\r\nimport NotificationService from '../../services/NotificationService';\r\nimport ReportingService from '../../services/ReportingService';\r\n\r\nconst { APPRAISAL_PERIODS: AP, REPORTS: REP } = constants.securities;\r\n\r\nconst AppraisalsPage = () => {\r\n  const theme = useTheme();\r\n  const history = useHistory();\r\n  const screenClass = useScreenClass();\r\n  const [items, setItems] = useState([]);\r\n  const [filteredItems, setFilteredItems] = useState([]);\r\n  const [showClosed, setShowClosed] = useState(true);\r\n  const [newPanelOpen, setNewPanelOpen] = useState(false);\r\n  const [editPanelOpen, setEditPanelOpen] = useState(false);\r\n  const [searchValue, setSearchValue] = useState('');\r\n  const global = useContext(GlobalContext);\r\n  const { path } = useRouteMatch();\r\n  const [selectionDetails, setSelectionDetails] = useState({\r\n    count: 0,\r\n    items: [],\r\n  });\r\n\r\n  const [columns] = useState([\r\n    {\r\n      key: 'status',\r\n      name: 'Status',\r\n      fieldName: 'status',\r\n      minWidth: 70,\r\n      maxWidth: 70,\r\n      isSortable: true,\r\n      isFilterable: true,\r\n      sort: (a, b) => (a.status > b.status ? -1 : 1),\r\n      onRender: (item) => (\r\n        <Chip\r\n          style={{\r\n            backgroundColor: item.status === 'Finished'\r\n              ? theme.palette.blue\r\n              : theme.palette.green,\r\n            padding: '3px',\r\n          }}\r\n        >\r\n          <Text\r\n            variant=\"xSmall\"\r\n            style={{\r\n              color: '#fff',\r\n            }}\r\n          >\r\n            {item.status}\r\n          </Text>\r\n        </Chip>\r\n      ),\r\n    },\r\n    {\r\n      key: 'name',\r\n      name: 'Name',\r\n      fieldName: 'name',\r\n      data: 'string',\r\n      isResizable: true,\r\n      isSortable: true,\r\n      isFilterable: true,\r\n      minWidth: 100,\r\n      maxWidth: 350,\r\n    },\r\n    {\r\n      key: 'createdUser',\r\n      name: 'Created by',\r\n      fieldName: 'createdUser',\r\n      isPadded: true,\r\n      isResizable: true,\r\n      isSortable: true,\r\n      isFilterable: true,\r\n      filterValueAccessor: (i) => i.createdUser.username,\r\n      sort: (a, b) => (a.createdUser.username < b.createdUser.username ? -1 : 1),\r\n      data: 'string',\r\n      minWidth: 200,\r\n      maxWidth: 300,\r\n      onRender: (item) => (<div>{item.createdUser.username}</div>),\r\n    },\r\n    {\r\n      key: 'createdDate',\r\n      name: 'Created on',\r\n      fieldName: 'createdDate',\r\n      isResizable: true,\r\n      isPadded: true,\r\n      isSortable: true,\r\n      data: 'date',\r\n      minWidth: 200,\r\n      maxWidth: 300,\r\n      onRender: (item) => (<div>{new Date(item.createdDate).toLocaleString()}</div>),\r\n    },\r\n  ]);\r\n  const [sortedColumn, setSortedColumn] = useState(null);\r\n\r\n  useEffect(() => {\r\n    async function loadData() {\r\n      const result = await AppraisalService.getPeriods();\r\n      setItems(result);\r\n    }\r\n    loadData();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setSortedColumn({\r\n      ...columns[3],\r\n      isSorted: true,\r\n      isSortedDescending: true,\r\n    });\r\n  }, [columns]);\r\n\r\n  useEffect(() => {\r\n    setFilteredItems(showClosed ? items : items.filter((i) => i.status !== 'Finished'));\r\n  }, [showClosed, items]);\r\n\r\n  const handleItemInvoked = (item) => {\r\n    history.push(`${path}/${item.id}`);\r\n  };\r\n\r\n  const clickFinishHandler = async () => {\r\n    if (selectionDetails.count) {\r\n      const item = selectionDetails.items[0];\r\n      const result = await AppraisalService.finishPeriod(item.id);\r\n      if (result) {\r\n        setItems((prev) => prev.map((i) => (i.id === item.id ? { ...item, status: 'Finished' } : i)));\r\n        NotificationService.notifySuccess(`Period '${item.name}' finished`);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleCreate = async (name) => {\r\n    if (global.user\r\n      && global.user.id\r\n      && global.user.organization\r\n      && global.user.organization.id) {\r\n      const result = await AppraisalService.addPeriod({\r\n        name,\r\n        status: 'Active',\r\n        organizationId: global.user.organization.id,\r\n        createdUser: global.user.id,\r\n      });\r\n      setItems((prev) => prev.slice().concat(result));\r\n      NotificationService.notifySuccess(`Period '${name}' created`);\r\n    }\r\n  };\r\n\r\n  const handleEdit = async (id, name) => {\r\n    if (global.user\r\n      && global.user.id\r\n      && global.user.organization\r\n      && global.user.organization.id\r\n      && global.Authorize(AP.code, AP.grants.update)) {\r\n      const result = await AppraisalService.updatePeriod(id, {\r\n        name,\r\n      });\r\n      setItems((prev) => prev.map((i) => (i.id === result.id ? result : i)));\r\n    }\r\n  };\r\n\r\n  const handleGenerateReport = async (id) => {\r\n    try {\r\n      const reportBlob = await ReportingService.generateAppraisalReport({\r\n        periods: [id],\r\n      });\r\n      if (reportBlob) {\r\n        downloadBlob('appraisal.xlsx', reportBlob);\r\n        NotificationService.notifySuccess('Report generated');\r\n      }\r\n    } catch (err) {\r\n      NotificationService.notifyError('Cannot generate report -', err.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Switch>\r\n        <Route exact path={path}>\r\n          <Container md>\r\n            <Row>\r\n              <Col xs={12}>\r\n                <PageHeader text=\"Appraisals\" />\r\n              </Col>\r\n            </Row>\r\n            <Separator />\r\n            <Row>\r\n              <Col xs={12}>\r\n                <Stack horizontalAlign=\"stretch\">\r\n                  <Row align=\"start\">\r\n                    <Col xs={12} sm={6}>\r\n                      <CommandBar items={[\r\n                        {\r\n                          key: 'openItem',\r\n                          text: 'Open',\r\n                          disabled: selectionDetails.count === 0\r\n                          || !global.Authorize(AP.code, AP.grants.read),\r\n                          iconProps: { iconName: 'OpenFile' },\r\n                          onClick: () => handleItemInvoked(\r\n                            selectionDetails.count\r\n                            && selectionDetails.items[0],\r\n                          ),\r\n                        },\r\n                        {\r\n                          key: 'newItem',\r\n                          text: 'New',\r\n                          disabled: !global.Authorize(AP.code, AP.grants.create),\r\n                          iconProps: { iconName: 'Add' },\r\n                          onClick: () => setNewPanelOpen(true),\r\n                        },\r\n                        {\r\n                          key: 'editItem',\r\n                          text: 'Edit',\r\n                          disabled: selectionDetails.count === 0\r\n                          || !global.Authorize(AP.code, AP.grants.update),\r\n                          iconProps: { iconName: 'Edit' },\r\n                          onClick: () => setEditPanelOpen(true),\r\n                        },\r\n                        {\r\n                          key: 'finishItem',\r\n                          text: 'Finish',\r\n                          disabled: selectionDetails.count === 0\r\n                            || (selectionDetails.count && selectionDetails.items[0].status === 'Finished')\r\n                            || !global.Authorize(AP.code, AP.grants.finish),\r\n                          iconProps: { iconName: 'SaveAndClose' },\r\n                          onClick: clickFinishHandler,\r\n                        },\r\n                        {\r\n                          key: 'generateReport',\r\n                          text: 'Appraisal report',\r\n                          disabled: selectionDetails.count === 0\r\n                            || !global.Authorize(REP.code, REP.grants.read),\r\n                          iconProps: { iconName: 'MobileReport' },\r\n                          onClick: () => handleGenerateReport(\r\n                            selectionDetails.count ? selectionDetails.items[0].id : null,\r\n                          ),\r\n                        },\r\n                      ]}\r\n                      />\r\n                    </Col>\r\n                    <Col xs={12} sm={6}>\r\n                      <Stack horizontalAlign={screenClass === 'xs' ? 'start' : 'end'} horizontal>\r\n                        <Stack verticalAlign=\"center\" horizontalAlign=\"start\">\r\n                          <SearchBox\r\n                            placeholder=\"Search\"\r\n                            styles={{\r\n                              root: {\r\n                                minWidth: 250,\r\n                              },\r\n                            }}\r\n                            value={searchValue}\r\n                            onChange={(e) => setSearchValue(e && e.target ? e.target.value : '')}\r\n                          />\r\n                          <Checkbox\r\n                            label=\"Show closed\"\r\n                            checked={showClosed}\r\n                            onChange={() => setShowClosed((prev) => !prev)}\r\n                            styles={{\r\n                              root: {\r\n                                paddingTop: theme.spacing.s1,\r\n                              },\r\n                            }}\r\n                          />\r\n                        </Stack>\r\n                      </Stack>\r\n                    </Col>\r\n                  </Row>\r\n                  <Separator />\r\n                  <Table\r\n                    items={filteredItems}\r\n                    columns={columns}\r\n                    selectionMode={SelectionMode.single}\r\n                    onItemInvoked={handleItemInvoked}\r\n                    searchValue={searchValue}\r\n                    sortedCol={sortedColumn}\r\n                    setSelectionDetails={setSelectionDetails}\r\n                  />\r\n                  <PanelNew\r\n                    isOpen={newPanelOpen}\r\n                    setOpen={setNewPanelOpen}\r\n                    handleCreate={handleCreate}\r\n                  />\r\n                  <PanelEdit\r\n                    item={selectionDetails.count ? selectionDetails.items[0] : null}\r\n                    isOpen={editPanelOpen}\r\n                    setOpen={setEditPanelOpen}\r\n                    handleEdit={handleEdit}\r\n                  />\r\n                </Stack>\r\n              </Col>\r\n            </Row>\r\n          </Container>\r\n        </Route>\r\n        <Route exact path={`${path}/:id/user/:userId`}>\r\n          <AppraisalDetailsPage ctx={global} setCtx={global.setContext} />\r\n        </Route>\r\n        <Route path={`${path}/:id`}>\r\n          <AppraisalDetailsPage ctx={global} setCtx={global.setContext} />\r\n        </Route>\r\n      </Switch>\r\n\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AppraisalsPage;\r\n","import AppraisalsPage from './AppraisalsPage';\r\n\r\nexport default AppraisalsPage;\r\n","import SettingsGeneral from './SettingsGeneral';\r\n\r\nexport default SettingsGeneral;\r\n","import React from 'react';\r\n\r\nconst SettingsGeneral = () => (\r\n  <>\r\n    <h1>Settings general</h1>\r\n  </>\r\n);\r\n\r\nexport default SettingsGeneral;\r\n","import axios from 'axios';\r\nimport NotificationService from './NotificationService';\r\n\r\nconst TeamService = {\r\n  baseUrl: '/api/teams',\r\n\r\n  validate(team) {\r\n    if (!team) throw new Error('Team name missing');\r\n    return true;\r\n  },\r\n\r\n  async getTeams() {\r\n    try {\r\n      const response = await axios.get(this.baseUrl);\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService\r\n        .notifyError((err.response.data && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async addTeam(team) {\r\n    try {\r\n      this.validate(team);\r\n      const response = await axios.post(this.baseUrl, { team });\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService\r\n        .notifyError((err.response.data && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n};\r\n\r\nexport default TeamService;\r\n","import React, { useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  ComboBox,\r\n  DefaultButton, Panel, PanelType, PrimaryButton, Stack,\r\n} from '@fluentui/react';\r\n\r\nconst UserEditPanel = ({\r\n  isOpen, user, setOpen, handleEdit, teams, organizations, roles,\r\n}) => {\r\n  const [selTeams, setSelTeams] = useState([]);\r\n  const [selPrimaryTeam, setSelPrimaryTeam] = useState(null);\r\n  const [selOrganizations, setSelOrganizations] = useState([]);\r\n  const [selRole, setSelRole] = useState(null);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    handleEdit({\r\n      ...user,\r\n      teams: selTeams,\r\n      team: selPrimaryTeam,\r\n      organizations: selOrganizations,\r\n      role: selRole,\r\n    }).finally(() => {\r\n      setOpen(false);\r\n    });\r\n  };\r\n\r\n  const handleSelect = (item, setFunc) => {\r\n    setFunc((prev) => prev.concat(item));\r\n  };\r\n\r\n  const handleDeselect = (item, setFunc) => {\r\n    setFunc((prev) => prev.filter((i) => i.id !== item.id));\r\n  };\r\n\r\n  const handleMultiCombobox = (setFunc) => (evt, item) => {\r\n    if (item.selected) {\r\n      handleSelect(item.data, setFunc);\r\n    } else {\r\n      handleDeselect(item.data, setFunc);\r\n    }\r\n  };\r\n\r\n  const handleCombobox = (setFunc) => (evt, item) => {\r\n    setFunc(item.data);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      setSelTeams(user.teams);\r\n      setSelPrimaryTeam(user.team);\r\n      setSelOrganizations(user.organizations);\r\n      if (user.role) {\r\n        setSelRole(user.role);\r\n      }\r\n    }\r\n  }, [user]);\r\n\r\n  useEffect(() => {\r\n    if (selPrimaryTeam?.id && !selTeams.find((t) => t.id === selPrimaryTeam?.id)) {\r\n      setSelPrimaryTeam(null);\r\n    }\r\n  }, [selTeams]);\r\n\r\n  return (\r\n    <>\r\n      <Panel\r\n        isOpen={isOpen}\r\n        onDismiss={() => setOpen(false)}\r\n        type={PanelType.smallFixedFar}\r\n        headerText=\"Edit user\"\r\n      >\r\n        <form onSubmit={handleSubmit}>\r\n          <Stack verticalAlign=\"start\">\r\n            <Stack.Item tokens={{\r\n              margin: '10px 0',\r\n            }}\r\n            >\r\n              <ComboBox\r\n                label=\"Teams\"\r\n                multiSelect\r\n                id=\"user-edit-select-team\"\r\n                useComboBoxAsMenuWidth\r\n                selectedKey={selTeams.map((t) => t.id)}\r\n                onChange={handleMultiCombobox(setSelTeams)}\r\n                options={teams.map((t) => ({\r\n                  key: t.id,\r\n                  text: t.name,\r\n                  data: t,\r\n                }))}\r\n              />\r\n              <ComboBox\r\n                label=\"Primary team\"\r\n                id=\"user-edit-select-primary-team\"\r\n                useComboBoxAsMenuWidth\r\n                selectedKey={selPrimaryTeam?.id}\r\n                onChange={(evt, option) => setSelPrimaryTeam(option.data)}\r\n                options={selTeams.map((t) => ({\r\n                  key: t.id,\r\n                  text: t.name,\r\n                  data: t,\r\n                }))}\r\n              />\r\n              <ComboBox\r\n                label=\"Organizations\"\r\n                multiSelect\r\n                id=\"user-edit-select-organizations\"\r\n                useComboBoxAsMenuWidth\r\n                selectedKey={selOrganizations.map((o) => o.id)}\r\n                onChange={handleMultiCombobox(setSelOrganizations)}\r\n                options={organizations.map((t) => ({\r\n                  key: t.id,\r\n                  text: t.name,\r\n                  data: t,\r\n                }))}\r\n              />\r\n              <ComboBox\r\n                label=\"Role\"\r\n                id=\"user-edit-select-role\"\r\n                useComboBoxAsMenuWidth\r\n                selectedKey={selRole && selRole.id}\r\n                onChange={handleCombobox(setSelRole)}\r\n                options={roles.map((r) => ({\r\n                  key: r.id,\r\n                  text: r.name,\r\n                  data: r,\r\n                }))}\r\n              />\r\n            </Stack.Item>\r\n            <Stack horizontal horizontalAlign=\"space-evenly\">\r\n              <PrimaryButton type=\"submit\">Update</PrimaryButton>\r\n              <DefaultButton onClick={() => setOpen(false)}>Cancel</DefaultButton>\r\n            </Stack>\r\n          </Stack>\r\n        </form>\r\n      </Panel>\r\n    </>\r\n  );\r\n};\r\n\r\nUserEditPanel.propTypes = {\r\n  isOpen: PropTypes.bool.isRequired,\r\n  user: PropTypes.shape({\r\n    teams: PropTypes.arrayOf(PropTypes.shape({})),\r\n    team: PropTypes.shape({\r\n      id: PropTypes.string,\r\n      name: PropTypes.string,\r\n    }),\r\n    organizations: PropTypes.arrayOf(PropTypes.shape({})),\r\n    role: PropTypes.shape({}),\r\n  }),\r\n  setOpen: PropTypes.func.isRequired,\r\n  handleEdit: PropTypes.func.isRequired,\r\n  teams: PropTypes.arrayOf(PropTypes.shape({\r\n    id: PropTypes.string,\r\n    name: PropTypes.string,\r\n  })),\r\n  organizations: PropTypes.arrayOf(PropTypes.shape({\r\n    id: PropTypes.string,\r\n    name: PropTypes.string,\r\n  })),\r\n  roles: PropTypes.arrayOf(PropTypes.shape({\r\n    id: PropTypes.string,\r\n    name: PropTypes.string,\r\n  })),\r\n};\r\n\r\nUserEditPanel.defaultProps = {\r\n  user: null,\r\n  teams: [],\r\n  organizations: [],\r\n  roles: [],\r\n};\r\n\r\nexport default UserEditPanel;\r\n","import UserEditPanel from './UserEditPanel';\r\n\r\nexport default UserEditPanel;\r\n","import SettingsUsers from './SettingsUsers';\r\n\r\nexport default SettingsUsers;\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport {\r\n  Col, Container, Row,\r\n} from 'react-grid-system';\r\nimport {\r\n  DetailsListLayoutMode, SelectionMode, Separator,\r\n} from '@fluentui/react';\r\nimport UserService from '../../services/UserService';\r\nimport TeamService from '../../services/TeamService';\r\nimport GlobalContext from '../../services/GlobalContext';\r\nimport AuthorizationService from '../../services/AuthorizationService';\r\nimport PageHeader from '../../components/shared/page-header';\r\nimport CommandTable from '../../components/shared/command-table/CommandTable';\r\nimport UserEditPanel from './components/user-edit-panel';\r\n\r\nconst SettingsUsers = () => {\r\n  const [data, setData] = useState([]);\r\n  const [teams, setTeams] = useState([]);\r\n  const [roles, setRoles] = useState([]);\r\n  const [editPanelOpen, setEditPanelOpen] = useState(false);\r\n  const global = useContext(GlobalContext);\r\n  const [selectionDetails, setSelectionDetails] = useState({\r\n    count: 0,\r\n    items: [],\r\n    indices: [],\r\n  });\r\n  const [columns] = useState([\r\n    {\r\n      key: 'username',\r\n      name: ' Username',\r\n      fieldName: 'username',\r\n      isSortable: true,\r\n      isFilterable: true,\r\n      isResizable: true,\r\n      iconName: 'UserOptional',\r\n      minWidth: 100,\r\n      maxWidth: 300,\r\n    },\r\n    {\r\n      key: 'teams',\r\n      name: ' Teams',\r\n      fieldName: 'teams',\r\n      onRender: (item) => item.teams.map((t) => t.name).join(', '),\r\n      isSortable: true,\r\n      isFilterable: true,\r\n      isResizable: true,\r\n      sort: (a, b) => (a.teams[0].name > b.teams[0].name ? -1 : 1),\r\n      filterValueAccessor: (i) => i.teams.map((t) => t.name).join(','),\r\n      iconName: 'Teamwork',\r\n      minWidth: 100,\r\n      maxWidth: 500,\r\n    },\r\n    {\r\n      key: 'organizations',\r\n      name: ' Organizations',\r\n      fieldName: 'organizations',\r\n      onRender: (item) => item.organizations.map((o) => o.name).join(', '),\r\n      isSortable: true,\r\n      isFilterable: true,\r\n      isResizable: true,\r\n      sort: (a, b) => (a.organizations[0]?.name > b.organizations[0]?.name ? -1 : 1),\r\n      filterValueAccessor: (i) => i.organizations.map((o) => o.name).join(','),\r\n      iconName: 'Org',\r\n      minWidth: 50,\r\n      maxWidth: 200,\r\n    },\r\n    {\r\n      key: 'role',\r\n      name: ' Role',\r\n      onRender: (item) => item.role && item.role?.name,\r\n      isSortable: true,\r\n      isFilterable: true,\r\n      isResizable: true,\r\n      sort: (a, b) => (a.role?.name > b.role?.name ? -1 : 1),\r\n      filterValueAccessor: (i) => i.role && i.role?.name,\r\n      iconName: 'Signin',\r\n      isPadded: true,\r\n    },\r\n  ]);\r\n  const [selectedColumn] = useState({\r\n    key: 'role',\r\n    name: ' Role',\r\n    onRender: (item) => item.role && item.role?.name,\r\n    isSortable: true,\r\n    isFilterable: true,\r\n    isResizable: true,\r\n    sort: (a, b) => (a.role?.name > b.role?.name ? -1 : 1),\r\n    filterValueAccessor: (i) => i.role && i.role?.name,\r\n    iconName: 'Signin',\r\n    isPadded: true,\r\n    isSorted: true,\r\n    isSortedDescending: false,\r\n  });\r\n\r\n  const handleUpdate = async (user) => {\r\n    const idx = data.findIndex((u) => u.id === user.id);\r\n    const copy = data.slice();\r\n    if (idx !== -1) {\r\n      let organization = user.organization || null;\r\n      if (!user.organization && user.organizations.length) {\r\n        organization = user.organizations[0].id;\r\n      } else if (user.organizations.length === 0) {\r\n        organization = null;\r\n      }\r\n      const result = await UserService.updateSettingsUser(user.id, {\r\n        ...user,\r\n        teams: user.teams.map((t) => t.id),\r\n        team: user.team?.id || null,\r\n        organizations: user.organizations.map((o) => o.id),\r\n        organization,\r\n      });\r\n      if (result) copy[idx] = result;\r\n      setData(copy);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Retrieve the users list\r\n   */\r\n  useEffect(() => {\r\n    async function run() {\r\n      const [users, _teams, _roles] = await Promise.all(\r\n        [\r\n          UserService.getSettingsUsers(),\r\n          TeamService.getTeams(),\r\n          AuthorizationService.getRoles(),\r\n        ],\r\n      );\r\n      setData(() => users);\r\n      setTeams(() => _teams);\r\n      setRoles(() => _roles);\r\n    }\r\n    run();\r\n  }, []);\r\n\r\n  return (\r\n    <Container fluid>\r\n      <Row justify=\"center\">\r\n        <PageHeader text=\"Users Settings\" />\r\n      </Row>\r\n      <Separator />\r\n      <Row align=\"start\">\r\n        <Col xs={12}>\r\n          <CommandTable\r\n            commandItems={[\r\n              {\r\n                key: 'details',\r\n                text: 'Details',\r\n                disabled: true,\r\n                iconProps: { iconName: 'ProfileSearch' },\r\n              },\r\n              {\r\n                key: 'editItem',\r\n                text: 'Edit',\r\n                disabled: selectionDetails.count === 0,\r\n                iconProps: { iconName: 'Edit' },\r\n                onClick: () => setEditPanelOpen(true),\r\n              },\r\n            ]}\r\n            tableProps={{\r\n              items: data,\r\n              columns,\r\n              selectionMode: SelectionMode.single,\r\n              onItemInvoked: () => setEditPanelOpen(true),\r\n              layoutMode: DetailsListLayoutMode.justified,\r\n              sortedCol: selectedColumn,\r\n              setSelectionDetails,\r\n            }}\r\n          />\r\n        </Col>\r\n      </Row>\r\n      <UserEditPanel\r\n        isOpen={editPanelOpen}\r\n        handleEdit={handleUpdate}\r\n        setOpen={setEditPanelOpen}\r\n        user={selectionDetails.count ? selectionDetails.items[0] : null}\r\n        teams={teams}\r\n        organizations={global.user.organizations}\r\n        roles={roles}\r\n      />\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default SettingsUsers;\r\n","import SettingsAppraisalPeriods from './SettingsAppraisalPeriods';\r\n\r\nexport default SettingsAppraisalPeriods;\r\n","import React from 'react';\r\n\r\nconst SettingsAppraisalPeriods = () => (\r\n  <h1>AppraisalPeriods Settings</h1>\r\n);\r\n\r\nexport default SettingsAppraisalPeriods;\r\n","import SettingsAppraisalItems from './SettingsAppraisalItems';\r\n\r\nexport default SettingsAppraisalItems;\r\n","import React from 'react';\r\n\r\nconst SettingsAppraisalItems = () => (\r\n  <h1>AppraisalItems Settings</h1>\r\n);\r\n\r\nexport default SettingsAppraisalItems;\r\n","import SecurityInfoProvider from './SecurityInfoProvider';\r\n\r\nexport default SecurityInfoProvider;\r\n","import { useEffect } from 'react';\r\nimport AuthorizationService from '../../../../../../services/AuthorizationService';\r\nimport UserService from '../../../../../../services/UserService';\r\n\r\nconst SecurityInfoProvider = ({\r\n  setLoaded,\r\n  setPermissionCodes,\r\n  setRoles,\r\n  setUsers,\r\n  setRolePermissions,\r\n  setUserPermissions,\r\n}) => {\r\n  useEffect(() => {\r\n    async function run() {\r\n      // Get Permission Codes\r\n      const codes = await AuthorizationService.getPermissionCodes();\r\n      setPermissionCodes(codes.sort((a, b) => (a.code < b.code ? -1 : 1)));\r\n\r\n      // get all roles\r\n      const rolesInfo = await AuthorizationService.getRoles();\r\n      setRoles(rolesInfo.sort((a, b) => (a.name < b.name ? -1 : 1)));\r\n\r\n      // get all users\r\n      const userInfo = await UserService.getSettingsUsers();\r\n      setUsers(userInfo.sort((a, b) => (a.username < b.username ? -1 : 1)));\r\n\r\n      // get All role permissions\r\n      const roles = await AuthorizationService.getRolesSecurities();\r\n      const rolesMap = {};\r\n      roles.forEach((role) => {\r\n        rolesMap[role.reference.name] = {\r\n          ...rolesMap[role.reference.name],\r\n          [role.code.code]: role,\r\n        };\r\n      });\r\n      setRolePermissions(rolesMap);\r\n\r\n      // get my organization's user permission\r\n      const userPermissions = await AuthorizationService.getOrganizationUsersSecurities();\r\n      const userPermMap = {};\r\n      userPermissions.forEach((user) => {\r\n        userPermMap[user.reference.username] = {\r\n          ...userPermMap[user.reference.username],\r\n          [user.code.code]: user,\r\n        };\r\n      });\r\n      setUserPermissions(userPermMap);\r\n\r\n      // Confirm information was loaded\r\n      setLoaded(true);\r\n    }\r\n    run();\r\n  }, [\r\n    setPermissionCodes,\r\n    setLoaded,\r\n    setRoles,\r\n    setUsers,\r\n    setRolePermissions,\r\n    setUserPermissions,\r\n  ]);\r\n  return null;\r\n};\r\n\r\nexport default SecurityInfoProvider;\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Col, Container, Row } from 'react-grid-system';\r\nimport {\r\n  Checkbox,\r\n  CommandBar, makeStyles, SearchBox, Stack, Text,\r\n} from '@fluentui/react';\r\nimport AuthorizationService from '../../../../../../services/AuthorizationService';\r\nimport Accordion from '../../../../../shared/accordion/Accordion';\r\nimport SinglePicker from '../../../../../shared/single-picker/SinglePicker';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    '& > * + *': {\r\n      marginTop: theme.spacing.m,\r\n    },\r\n  },\r\n  autocomplete: {\r\n    marginTop: theme.spacing.l2,\r\n  },\r\n  secondaryText: {\r\n    color: theme.palette.neutralTertiary,\r\n  },\r\n  searchBox: {\r\n    alignSelf: 'center',\r\n    marginLeft: theme.spacing.m,\r\n    minWidth: 200,\r\n  },\r\n}));\r\n\r\nconst SecurityDetailsRoleDisplay = ({\r\n  codes,\r\n  roles,\r\n  rolePermissions,\r\n  setRolePermissions,\r\n  selectedRole,\r\n  setSelectedRole,\r\n}) => {\r\n  const classes = useStyles();\r\n  const [expanded, setExpanded] = useState([]);\r\n  const [filter, setFilter] = useState('');\r\n\r\n  const handleExpandSingle = (e, item, isExpanded) => {\r\n    if (isExpanded) {\r\n      setExpanded((prev) => [...prev, item.code]);\r\n    } else {\r\n      setExpanded((prev) => prev.filter((p) => p !== item.code));\r\n    }\r\n  };\r\n\r\n  const handleExpandAll = () => {\r\n    if (expanded.length === codes.length) {\r\n      setExpanded([]);\r\n    } else {\r\n      setExpanded(codes.map((e) => e.code));\r\n    }\r\n  };\r\n\r\n  const handleFilterInputChange = (e) => {\r\n    if (e && e.target) {\r\n      setFilter(e.target.value);\r\n    }\r\n  };\r\n\r\n  const handleSetPermission = (role, code, permission) => {\r\n    setRolePermissions((prev) => ({\r\n      ...prev,\r\n      [role.name]: {\r\n        ...prev[role.name],\r\n        [code.code]: permission,\r\n      },\r\n    }));\r\n  };\r\n\r\n  const handleAdd = async (role, code, grant) => {\r\n    const result = await AuthorizationService.addPermission({\r\n      grants: [grant],\r\n      code: code.id,\r\n      permissionType: 'Role',\r\n      reference: role.id,\r\n    });\r\n    return result;\r\n  };\r\n\r\n  const handleUpdate = async (permission) => {\r\n    const result = await AuthorizationService.updatePermission(permission.id, permission);\r\n    return result;\r\n  };\r\n\r\n  const handleDelete = async (permission) => {\r\n    try {\r\n      const result = await AuthorizationService.deletePermission(permission.id);\r\n      return result;\r\n    } catch (err) {\r\n      return null;\r\n    }\r\n  };\r\n\r\n  const handleClick = (role, code, grant) => async (e) => {\r\n    e.persist();\r\n    // check if it's a new permission\r\n    if (!rolePermissions[role.name] || !rolePermissions[role.name][code.code]) {\r\n      const result = await handleAdd(role, code, grant);\r\n      result && handleSetPermission(role, code, result);\r\n    } else if (e.target.checked) {\r\n      // add a grant\r\n      const grants = [...rolePermissions[role.name][code.code].grants, grant];\r\n      const result = await handleUpdate({ ...rolePermissions[role.name][code.code], grants });\r\n      result && handleSetPermission(role, code, result);\r\n    } else if (!e.target.checked) {\r\n      const grants = rolePermissions[role.name][code.code].grants.filter((g) => g !== grant);\r\n      if (grants.length === 0) {\r\n        await handleDelete(rolePermissions[role.name][code.code]);\r\n        handleSetPermission(role, code, null);\r\n      } else {\r\n        const result = await handleUpdate({ ...rolePermissions[role.name][code.code], grants });\r\n        result && handleSetPermission(role, code, result);\r\n      }\r\n    }\r\n  };\r\n\r\n  const getPermissionChecked = (role, code, grant) => {\r\n    const permission = rolePermissions[role.name] && rolePermissions[role.name][code.code];\r\n    if (permission) {\r\n      return permission.grants.indexOf(grant) !== -1;\r\n    }\r\n    return false;\r\n  };\r\n\r\n  const renderPermissions = () => {\r\n    if (selectedRole) {\r\n      const render = codes.filter((el) => (\r\n        el.code.toLowerCase().indexOf(filter.toLowerCase()) !== -1));\r\n      return (\r\n        <Accordion\r\n          items={render.map(\r\n            (permission) => (\r\n              {\r\n                ...permission,\r\n                text: permission.code,\r\n                isOpen: expanded.indexOf(permission.code) !== -1,\r\n              }),\r\n          )}\r\n          getKey={(code) => code.id}\r\n          headerProps={{\r\n            onRenderHeaderText: (item) => (\r\n              <div>\r\n                <Text variant=\"mediumPlus\" block>{item.code}</Text>\r\n                <Text variant=\"medium\" className={classes.secondaryText}>{item.description}</Text>\r\n              </div>\r\n            ),\r\n          }}\r\n          onRenderItem={(item) => (\r\n            <Stack\r\n              verticalAlign=\"start\"\r\n              tokens={{\r\n                childrenGap: 3,\r\n              }}\r\n            >\r\n              {\r\n                  item.grants.map((grant) => (\r\n                    <Checkbox\r\n                      key={`${item.id}-${grant}`}\r\n                      label={grant}\r\n                      checked={getPermissionChecked(selectedRole, item, grant)}\r\n                      onChange={handleClick(selectedRole, item, grant)}\r\n                    />\r\n                  ))\r\n                }\r\n            </Stack>\r\n          )}\r\n          onToggle={handleExpandSingle}\r\n        />\r\n      );\r\n    }\r\n    return null;\r\n  };\r\n\r\n  return (\r\n    <Container fluid className={classes.root}>\r\n      <Row justify=\"center\">\r\n        <Col xs={12} md={4}>\r\n          <SinglePicker\r\n            className={classes.autocomplete}\r\n            options={roles.map((r) => ({ key: r.id, data: r }))}\r\n            getTextFromItem={(item) => item.data.name}\r\n            selected={{ key: selectedRole.id, data: selectedRole }}\r\n            onSelect={(item) => setSelectedRole(item.data)}\r\n          />\r\n        </Col>\r\n      </Row>\r\n      <Row>\r\n        <Col xs={12}>\r\n          <CommandBar\r\n            items={[\r\n              {\r\n                key: 'expandAll',\r\n                text: `${expanded.length === codes.length ? 'Collapse' : 'Expand'} All`,\r\n                iconProps: {\r\n                  iconName: `${expanded.length === codes.length ? 'ChevronFold10' : 'ChevronUnfold10'}`,\r\n                },\r\n                onClick: handleExpandAll,\r\n                buttonStyles: {\r\n                  root: {\r\n                    minWidth: '120px',\r\n                  },\r\n                },\r\n              },\r\n              {\r\n                key: 'search',\r\n                onRender: () => (\r\n                  <SearchBox\r\n                    className={classes.searchBox}\r\n                    value={filter}\r\n                    onChange={handleFilterInputChange}\r\n                    onClear={() => setFilter('')}\r\n                  />\r\n                ),\r\n              },\r\n            ]}\r\n            styles={{\r\n              root: {\r\n                paddingLeft: 0,\r\n              },\r\n            }}\r\n          />\r\n        </Col>\r\n      </Row>\r\n      <Row>\r\n        { renderPermissions() }\r\n      </Row>\r\n    </Container>\r\n  );\r\n};\r\n\r\nSecurityDetailsRoleDisplay.propTypes = {\r\n  codes: PropTypes.arrayOf(PropTypes.shape({\r\n    code: PropTypes.string,\r\n  })).isRequired,\r\n  roles: PropTypes.arrayOf(PropTypes.shape({\r\n    name: PropTypes.string,\r\n  })).isRequired,\r\n  rolePermissions: PropTypes.shape({}).isRequired,\r\n  setRolePermissions: PropTypes.func.isRequired,\r\n  selectedRole: PropTypes.shape({\r\n    username: PropTypes.string,\r\n    id: PropTypes.string,\r\n  }).isRequired,\r\n  setSelectedRole: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default SecurityDetailsRoleDisplay;\r\n","import SecurityDetailsRoleDisplay from './SecurityDetailsRoleDisplay';\r\n\r\nexport default SecurityDetailsRoleDisplay;\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Col, Container, Row } from 'react-grid-system';\r\nimport {\r\n  Checkbox, CommandBar, makeStyles, SearchBox, Stack, Text,\r\n} from '@fluentui/react';\r\nimport AuthorizationService from '../../../../../../services/AuthorizationService';\r\nimport Accordion from '../../../../../shared/accordion/Accordion';\r\nimport SinglePicker from '../../../../../shared/single-picker/SinglePicker';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    '& > * + *': {\r\n      marginTop: theme.spacing.m,\r\n    },\r\n  },\r\n  autocomplete: {\r\n    marginTop: theme.spacing.l2,\r\n  },\r\n  secondaryText: {\r\n    color: theme.palette.neutralTertiary,\r\n  },\r\n  searchBox: {\r\n    alignSelf: 'center',\r\n    marginLeft: theme.spacing.m,\r\n    minWidth: 200,\r\n  },\r\n}));\r\n\r\nconst SecurityDetailsUserDisplay = ({\r\n  codes,\r\n  users,\r\n  userPermissions,\r\n  setUserPermissions,\r\n  selectedUser,\r\n  setSelectedUser,\r\n}) => {\r\n  const classes = useStyles();\r\n  const [expanded, setExpanded] = useState([]);\r\n  const [filter, setFilter] = useState('');\r\n\r\n  const handleExpandSingle = (e, item, isExpanded) => {\r\n    if (isExpanded) {\r\n      setExpanded((prev) => [...prev, item.code]);\r\n    } else {\r\n      setExpanded((prev) => prev.filter((err) => err !== item.code));\r\n    }\r\n  };\r\n\r\n  const handleExpandAll = () => {\r\n    if (expanded.length === codes.length) {\r\n      setExpanded([]);\r\n    } else {\r\n      setExpanded(codes.map((e) => e.code));\r\n    }\r\n  };\r\n\r\n  const handleFilterInputChange = (e) => {\r\n    if (e && e.target) {\r\n      setFilter(e.target.value);\r\n    }\r\n  };\r\n\r\n  const handleSetPermission = (user, code, permission) => {\r\n    setUserPermissions((prev) => ({\r\n      ...prev,\r\n      [user.username]: {\r\n        ...prev[user.username],\r\n        [code.code]: permission,\r\n      },\r\n    }));\r\n  };\r\n\r\n  const handleAdd = async (user, code, grant) => {\r\n    const result = await AuthorizationService.addPermission({\r\n      grants: [grant],\r\n      code: code.id,\r\n      permissionType: 'User',\r\n      reference: user.id,\r\n    });\r\n    return result;\r\n  };\r\n\r\n  const handleUpdate = async (permission) => {\r\n    const result = await AuthorizationService.updatePermission(permission.id, permission);\r\n    return result;\r\n  };\r\n\r\n  const handleDelete = async (permission) => {\r\n    try {\r\n      const result = await AuthorizationService.deletePermission(permission.id);\r\n      return result;\r\n    } catch (err) {\r\n      return null;\r\n    }\r\n  };\r\n\r\n  const handleClick = (user, code, grant) => async (e) => {\r\n    e.persist();\r\n    // check if it's a new permission\r\n    if (!userPermissions[user.username] || !userPermissions[user.username][code.code]) {\r\n      const result = await handleAdd(user, code, grant);\r\n      result && handleSetPermission(user, code, result);\r\n    } else if (e.target.checked) {\r\n      // add a grant\r\n      const grants = [...userPermissions[user.username][code.code].grants, grant];\r\n      const result = await handleUpdate({ ...userPermissions[user.username][code.code], grants });\r\n      result && handleSetPermission(user, code, result);\r\n    } else if (!e.target.checked) {\r\n      const grants = userPermissions[user.username][code.code].grants.filter((g) => g !== grant);\r\n      if (grants.length === 0) {\r\n        await handleDelete(userPermissions[user.username][code.code]);\r\n        handleSetPermission(user, code, null);\r\n      } else {\r\n        const result = await handleUpdate({ ...userPermissions[user.username][code.code], grants });\r\n        result && handleSetPermission(user, code, result);\r\n      }\r\n    }\r\n  };\r\n\r\n  const getPermissionChecked = (user, code, grant) => {\r\n    const permission = userPermissions[user.username] && userPermissions[user.username][code.code];\r\n    if (permission) {\r\n      return permission.grants.indexOf(grant) !== -1;\r\n    }\r\n    return false;\r\n  };\r\n\r\n  const renderPermissions = () => {\r\n    if (selectedUser) {\r\n      const render = codes.filter((el) => (\r\n        el.code.toLowerCase().indexOf(filter.toLowerCase()) !== -1));\r\n      return (\r\n        <Accordion\r\n          items={render.map(\r\n            (permission) => (\r\n              {\r\n                ...permission,\r\n                text: permission.code,\r\n                isOpen: expanded.indexOf(permission.code) !== -1,\r\n              }),\r\n          )}\r\n          getKey={(code) => code.id}\r\n          headerProps={{\r\n            onRenderHeaderText: (item) => (\r\n              <div>\r\n                <Text variant=\"mediumPlus\" block>{item.code}</Text>\r\n                <Text variant=\"medium\" className={classes.secondaryText}>{item.description}</Text>\r\n              </div>\r\n            ),\r\n          }}\r\n          onRenderItem={(item) => (\r\n            <Stack\r\n              verticalAlign=\"start\"\r\n              tokens={{\r\n                childrenGap: 3,\r\n              }}\r\n            >\r\n              <Checkbox\r\n                label=\"overrule\"\r\n                checked={getPermissionChecked(selectedUser, item, 'overrule')}\r\n                onChange={handleClick(selectedUser, item, 'overrule')}\r\n              />\r\n              {\r\n                  item.grants.map((grant) => (\r\n                    <Checkbox\r\n                      label={grant}\r\n                      checked={getPermissionChecked(selectedUser, item, grant)}\r\n                      onChange={handleClick(selectedUser, item, grant)}\r\n                    />\r\n                  ))\r\n                }\r\n            </Stack>\r\n          )}\r\n          onToggle={handleExpandSingle}\r\n        />\r\n      );\r\n    }\r\n    return null;\r\n  };\r\n\r\n  return (\r\n    <Container fluid className={classes.root}>\r\n      <Row justify=\"center\">\r\n        <Col xs={12} md={4}>\r\n          <SinglePicker\r\n            className={classes.autocomplete}\r\n            options={users.map((u) => ({ key: u.id, data: u }))}\r\n            getTextFromItem={(item) => item.data.username}\r\n            selected={{ key: selectedUser.id, data: selectedUser }}\r\n            onSelect={(item) => setSelectedUser(item.data)}\r\n          />\r\n        </Col>\r\n      </Row>\r\n      <Row>\r\n        <Col xs={12}>\r\n          <CommandBar\r\n            items={[\r\n              {\r\n                key: 'expandAll',\r\n                text: `${expanded.length === codes.length ? 'Collapse' : 'Expand'} All`,\r\n                iconProps: {\r\n                  iconName: `${expanded.length === codes.length ? 'ChevronFold10' : 'ChevronUnfold10'}`,\r\n                },\r\n                onClick: handleExpandAll,\r\n                buttonStyles: {\r\n                  root: {\r\n                    minWidth: '120px',\r\n                  },\r\n                },\r\n              },\r\n              {\r\n                key: 'search',\r\n                onRender: () => (\r\n                  <SearchBox\r\n                    className={classes.searchBox}\r\n                    value={filter}\r\n                    onChange={handleFilterInputChange}\r\n                    onClear={() => setFilter('')}\r\n                  />\r\n                ),\r\n              },\r\n            ]}\r\n            styles={{\r\n              root: {\r\n                paddingLeft: 0,\r\n              },\r\n            }}\r\n          />\r\n        </Col>\r\n      </Row>\r\n      <Row>\r\n        { renderPermissions() }\r\n      </Row>\r\n    </Container>\r\n  );\r\n};\r\n\r\nSecurityDetailsUserDisplay.propTypes = {\r\n  codes: PropTypes.arrayOf(PropTypes.shape({\r\n    code: PropTypes.string,\r\n  })).isRequired,\r\n  users: PropTypes.arrayOf(PropTypes.shape({\r\n    username: PropTypes.string,\r\n  })).isRequired,\r\n  userPermissions: PropTypes.shape({}).isRequired,\r\n  setUserPermissions: PropTypes.func.isRequired,\r\n  selectedUser: PropTypes.shape({\r\n    id: PropTypes.string,\r\n    username: PropTypes.string,\r\n  }).isRequired,\r\n  setSelectedUser: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default SecurityDetailsUserDisplay;\r\n","import SecurityDetailsUserDisplay from './SecurityDetailsUserDisplay';\r\n\r\nexport default SecurityDetailsUserDisplay;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Pivot, PivotItem } from '@fluentui/react';\r\nimport { Container } from 'react-grid-system';\r\nimport SecurityInfoProvider from './components/security-info-provider';\r\nimport SecurityDetailsRoleDisplay from './components/security-details-role-display';\r\nimport SecurityDetailsUserDisplay from './components/security-details-user-display';\r\nimport PageHeader from '../../../shared/page-header';\r\n\r\nconst SecurityDetails = () => {\r\n  const [permissionCodes, setPermissionCodes] = useState([]);\r\n  const [roles, setRoles] = useState([]);\r\n  const [users, setUsers] = useState([]);\r\n  const [rolePermissions, setRolePermissions] = useState({});\r\n  const [userPermissions, setUserPermissions] = useState({});\r\n  const [selectedRole, setSelectedRole] = useState(null);\r\n  const [selectedUser, setSelectedUser] = useState(null);\r\n\r\n  const [loaded, setLoaded] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setSelectedRole((prev) => {\r\n      if (prev === null && roles.length > 0) return roles[0];\r\n      return prev;\r\n    });\r\n  }, [roles]);\r\n\r\n  useEffect(() => {\r\n    setSelectedUser((prev) => {\r\n      if (prev === null && users.length > 0) return users[0];\r\n      return prev;\r\n    });\r\n  }, [users]);\r\n\r\n  return (\r\n    <>\r\n      <SecurityInfoProvider\r\n        setLoaded={setLoaded}\r\n        setPermissionCodes={setPermissionCodes}\r\n        setRoles={setRoles}\r\n        setUsers={setUsers}\r\n        setRolePermissions={setRolePermissions}\r\n        setUserPermissions={setUserPermissions}\r\n      />\r\n      <Container lg>\r\n        <PageHeader text=\"Permissions\" />\r\n        {\r\n        loaded\r\n          ? (\r\n            <Pivot\r\n              aria-label=\"User and Roles permissions\"\r\n              styles={{\r\n                root: {\r\n                  display: 'flex',\r\n                  flexFlow: 'row nowrap',\r\n                  justifyContent: 'center',\r\n                  alignItems: 'center',\r\n                },\r\n              }}\r\n            >\r\n              <PivotItem headerText=\"Roles\" itemIcon=\"SecurityGroup\">\r\n                <SecurityDetailsRoleDisplay\r\n                  codes={permissionCodes}\r\n                  roles={roles}\r\n                  rolePermissions={rolePermissions}\r\n                  setRolePermissions={setRolePermissions}\r\n                  selectedRole={selectedRole}\r\n                  setSelectedRole={setSelectedRole}\r\n                />\r\n              </PivotItem>\r\n              <PivotItem headerText=\"Users\" itemIcon=\"Contact\">\r\n                <SecurityDetailsUserDisplay\r\n                  codes={permissionCodes}\r\n                  users={users}\r\n                  userPermissions={userPermissions}\r\n                  setUserPermissions={setUserPermissions}\r\n                  selectedUser={selectedUser}\r\n                  setSelectedUser={setSelectedUser}\r\n                />\r\n              </PivotItem>\r\n            </Pivot>\r\n          )\r\n          : null\r\n      }\r\n      </Container>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SecurityDetails;\r\n","import SettingsRolesPage from './SettingsRoles';\r\n\r\nexport default SettingsRolesPage;\r\n","import React from 'react';\r\nimport SecurityDetails from '../../components/appraisal-details/components/security-details/SecurityDetails';\r\n\r\nconst SettingsRolesPage = () => (<SecurityDetails />);\r\n\r\nexport default SettingsRolesPage;\r\n","import SettingsPage from './SettingsPage';\r\n\r\nexport default SettingsPage;\r\n","import React from 'react';\r\nimport { useRouteMatch, Switch, Route } from 'react-router-dom';\r\nimport DocumentTitle from 'react-document-title';\r\nimport { Container } from 'react-grid-system';\r\nimport SettingsGeneral from '../settings-general';\r\nimport SettingsUsers from '../settings-users';\r\nimport SettingsAppraisalPeriods from '../settings-app-periods';\r\nimport SettingsAppraisalItems from '../settings-app-items';\r\nimport SettingsRolesPage from '../settings-role-permissions';\r\nimport AuthorizationRedirectComponent from '../../components/shared/authorization-redirect-component';\r\n\r\n/*\r\n * On the settings page the navigation will be done via a\r\n */\r\nconst SettingsPage = () => {\r\n  const { path } = useRouteMatch();\r\n\r\n  return (\r\n    <>\r\n      <Container lg fluid>\r\n        <Switch>\r\n          <Route exact path={path}>\r\n            <AuthorizationRedirectComponent\r\n              code=\"SETTINGS\"\r\n              grant=\"general\"\r\n              to=\"/\"\r\n              failureNotification={{\r\n                header: 'No Access',\r\n                content: 'No permission to access this page. Please contact your administrator.',\r\n              }}\r\n            >\r\n              <SettingsGeneral />\r\n            </AuthorizationRedirectComponent>\r\n          </Route>\r\n          <Route path={`${path}/users`}>\r\n            <AuthorizationRedirectComponent\r\n              code=\"SETTINGS\"\r\n              grant=\"users\"\r\n              to=\"/\"\r\n              failureNotification={{\r\n                header: 'No Access',\r\n                content: 'No permission to access this page. Please contact your administrator.',\r\n              }}\r\n            >\r\n              <DocumentTitle title=\"Users\">\r\n                <SettingsUsers />\r\n              </DocumentTitle>\r\n            </AuthorizationRedirectComponent>\r\n          </Route>\r\n          <Route path={`${path}/appraisal-periods`}>\r\n            <AuthorizationRedirectComponent\r\n              code=\"SETTINGS\"\r\n              grant=\"appraisal-periods\"\r\n              to=\"/\"\r\n              failureNotification={{\r\n                header: 'No Access',\r\n                content: 'No permission to access this page. Please contact your administrator.',\r\n              }}\r\n            >\r\n              <DocumentTitle title=\"Settings - appraisal periods\">\r\n                <SettingsAppraisalPeriods />\r\n              </DocumentTitle>\r\n            </AuthorizationRedirectComponent>\r\n          </Route>\r\n          <Route path={`${path}/appraisal-items`}>\r\n            <AuthorizationRedirectComponent\r\n              code=\"SETTINGS\"\r\n              grant=\"appraisal-items\"\r\n              to=\"/\"\r\n              failureNotification={{\r\n                header: 'No Access',\r\n                content: 'No permission to access this page. Please contact your administrator.',\r\n              }}\r\n            >\r\n              <DocumentTitle title=\"Settings - appraisal items\">\r\n                <SettingsAppraisalItems />\r\n              </DocumentTitle>\r\n            </AuthorizationRedirectComponent>\r\n          </Route>\r\n          <Route path={`${path}/permissions`}>\r\n            <AuthorizationRedirectComponent\r\n              code=\"SETTINGS\"\r\n              grant=\"permissions\"\r\n              to=\"/\"\r\n              failureNotification={{\r\n                header: 'No Access',\r\n                content: 'No permission to access this page. Please contact your administrator.',\r\n              }}\r\n            >\r\n              <DocumentTitle title=\"Settings - Securities\">\r\n                <SettingsRolesPage />\r\n              </DocumentTitle>\r\n            </AuthorizationRedirectComponent>\r\n          </Route>\r\n        </Switch>\r\n      </Container>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SettingsPage;\r\n","import { useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ReportingService from '../../../../services/ReportingService';\r\n\r\nconst ReportsInfoProvider = ({ setReports }) => {\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    async function run() {\r\n      const reports = await ReportingService.getReports();\r\n      if (mounted) {\r\n        setReports(reports);\r\n      }\r\n    }\r\n    run();\r\n    return () => { mounted = false; };\r\n  }, [setReports]);\r\n  return null;\r\n};\r\n\r\nReportsInfoProvider.propTypes = {\r\n  setReports: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ReportsInfoProvider;\r\n","import ReportsInfoProvider from './ReportsInfoProvider';\r\n\r\nexport default ReportsInfoProvider;\r\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useHistory } from 'react-router-dom';\r\nimport {\r\n  Panel, PrimaryButton, DefaultButton, PanelType, Stack, TextField, Separator, Label, makeStyles,\r\n} from '@fluentui/react';\r\nimport { Col, Container, Row } from 'react-grid-system';\r\nimport ReportingService from '../../../../services/ReportingService';\r\nimport NotificationService from '../../../../services/NotificationService';\r\nimport SinglePicker from '../../../shared/single-picker/SinglePicker';\r\nimport Box from '../../../shared/box';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    '& > * + *': {\r\n      marginTop: '16px',\r\n    },\r\n  },\r\n  topMargin: {\r\n    marginTop: '8px',\r\n  },\r\n  box: {\r\n    border: `1px solid ${theme.palette.themeSecondary}`,\r\n    '&:not(:first-of-type)': {\r\n      borderTop: 'none',\r\n    },\r\n  },\r\n  invisibleInput: {\r\n    background: 'none',\r\n    outline: 'none',\r\n    border: 'none',\r\n    height: 0,\r\n  },\r\n}));\r\n\r\nconst ReportsNewPanel = ({ isOpen, setOpen, addReport }) => {\r\n  const classes = useStyles();\r\n  const [name, setName] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [template, setTemplate] = useState('');\r\n  const [parameter, setParameter] = useState('');\r\n  const [templates, setTemplates] = useState([]);\r\n  const [parameters, setParameters] = useState([]);\r\n  const [selectedParameters, setSelectedParameters] = useState([]);\r\n  const history = useHistory();\r\n\r\n  const handleChange = (set) => (e) => {\r\n    set(e.target.value);\r\n  };\r\n\r\n  const handleChangeTempalte = (templ) => {\r\n    setTemplate(templ.data.id);\r\n  };\r\n\r\n  const handleChangeParameter = (item) => {\r\n    setParameter(item.data);\r\n  };\r\n\r\n  const handleAddParameter = () => {\r\n    if (parameter !== '') {\r\n      setParameter('');\r\n      setSelectedParameters((prev) => {\r\n        if (selectedParameters.map((p) => p.name).indexOf(parameter) === -1) {\r\n          return prev.concat({\r\n            name: parameter,\r\n            defaultValue: '',\r\n            path: parameter,\r\n          });\r\n        }\r\n        return prev;\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleChangeParameterName = (idx) => (e) => {\r\n    e.persist();\r\n    setSelectedParameters((prev) => {\r\n      const copy = prev.slice();\r\n      copy[idx].name = e.target.value;\r\n      return copy;\r\n    });\r\n  };\r\n\r\n  const handleChangeParameterValue = (idx) => (e) => {\r\n    e.persist();\r\n    setSelectedParameters((prev) => {\r\n      const copy = prev.slice();\r\n      copy[idx].defaultValue = e.target.value;\r\n      return copy;\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.persist();\r\n    e.preventDefault();\r\n    const formData = new FormData();\r\n    formData.append('name', name);\r\n    formData.append('description', description);\r\n    formData.append('template', template);\r\n    formData.append('parameters', JSON.stringify(selectedParameters));\r\n    const result = await ReportingService.addReport(formData);\r\n    if (result) {\r\n      history.push('/reporting/reports');\r\n      NotificationService.notifySuccess('Report successfully created');\r\n      setOpen(false);\r\n      addReport(result);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    async function run() {\r\n      const t = await ReportingService.getTemplates();\r\n      if (mounted) {\r\n        setTemplates(t);\r\n      }\r\n    }\r\n    run();\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    async function run() {\r\n      if (template !== '') {\r\n        const params = await ReportingService.getTempalteParameters(template);\r\n        if (params.length && mounted) {\r\n          setParameters(params);\r\n        }\r\n      } else {\r\n        setParameters([]);\r\n      }\r\n      setSelectedParameters([]);\r\n      setParameter('');\r\n    }\r\n    run();\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, [template]);\r\n\r\n  const onRenderFooter = () => (\r\n    <Stack\r\n      horizontal\r\n      horizontalAlign=\"start\"\r\n      tokens={{\r\n        childrenGap: 10,\r\n      }}\r\n    >\r\n      <PrimaryButton form=\"new-report-form\" type=\"submit\">Create</PrimaryButton>\r\n      <DefaultButton onClick={() => setOpen(false)}>Close</DefaultButton>\r\n    </Stack>\r\n  );\r\n\r\n  return (\r\n    <Panel\r\n      isOpen={isOpen}\r\n      onDismiss={() => setOpen(false)}\r\n      headerText=\"Create Report\"\r\n      type={PanelType.large}\r\n      onRenderFooterContent={onRenderFooter}\r\n    >\r\n      <form onSubmit={handleSubmit} id=\"new-report-form\">\r\n        <Container fluid className={classes.root}>\r\n          <Separator>General</Separator>\r\n          <Row justify=\"start\">\r\n            <Col xs={12} sm={8} md={6}>\r\n              <TextField\r\n                label=\"Name\"\r\n                value={name}\r\n                onChange={handleChange(setName)}\r\n                required\r\n              />\r\n              <TextField\r\n                label=\"Description\"\r\n                value={description}\r\n                onChange={handleChange(setDescription)}\r\n                multiline\r\n              />\r\n              <Label>Select template</Label>\r\n              <SinglePicker\r\n                options={templates.map((t) => ({ key: t.id, data: t }))}\r\n                getTextFromItem={(item) => item.data.name}\r\n                onSelect={handleChangeTempalte}\r\n                onRenderItem={() => (\r\n                  <TextField\r\n                    value={template ? templates.find((temp) => temp.id === template)?.name : null}\r\n                    underlined\r\n                    readOnly\r\n                  />\r\n                )}\r\n                maxHeight=\"400px\"\r\n              />\r\n              <input value={template} className={classes.invisibleInput} required />\r\n            </Col>\r\n          </Row>\r\n          <Separator>Parameters</Separator>\r\n          <Row justify=\"start\">\r\n            <Col xs={12} sm={8} md={6}>\r\n              <Label>Select parameter</Label>\r\n              <SinglePicker\r\n                options={parameters.map((param) => param.paths.map((path) => ({\r\n                  key: `${param.name}${path}`,\r\n                  data: `${param.name}${path}`,\r\n                }))).flat()}\r\n                getTextFromItem={(item) => item.data}\r\n                onSelect={(item) => handleChangeParameter(item)}\r\n                onRenderItem={() => (\r\n                  <TextField\r\n                    value={parameter}\r\n                    underlined\r\n                    readOnly\r\n                  />\r\n                )}\r\n                maxHeight=\"400px\"\r\n              />\r\n              <DefaultButton\r\n                className={classes.topMargin}\r\n                onClick={handleAddParameter}\r\n              >\r\n                Add Parameter\r\n              </DefaultButton>\r\n            </Col>\r\n          </Row>\r\n          <Separator>Selected Paramaters</Separator>\r\n          <Row justify=\"start\">\r\n            <Col xs={12} sm={8} md={6}>\r\n              {\r\n              selectedParameters.map((sp, idx) => (\r\n                <Box className={classes.box}>\r\n                  <TextField\r\n                    label=\"Name\"\r\n                    value={sp.name}\r\n                    onChange={handleChangeParameterName(idx)}\r\n                  />\r\n                  <TextField\r\n                    label=\"Default value\"\r\n                    value={sp.defaultValue}\r\n                    onChange={handleChangeParameterValue(idx)}\r\n                  />\r\n                  <TextField\r\n                    label=\"Path\"\r\n                    value={sp.path}\r\n                    readOnly\r\n                  />\r\n                </Box>\r\n              ))\r\n            }\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </form>\r\n    </Panel>\r\n  );\r\n};\r\n\r\nReportsNewPanel.propTypes = {\r\n  isOpen: PropTypes.bool.isRequired,\r\n  setOpen: PropTypes.func.isRequired,\r\n  addReport: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ReportsNewPanel;\r\n","import ReportsNewPanel from './ReportsNewPanel';\r\n\r\nexport default ReportsNewPanel;\r\n","import React, { useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  DefaultButton, makeStyles, Panel, PanelType, Separator, Stack, TextField,\r\n} from '@fluentui/react';\r\nimport { Col, Container, Row } from 'react-grid-system';\r\nimport ReportingService from '../../../../services/ReportingService';\r\nimport Box from '../../../shared/box';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    '& > * + *': {\r\n      marginTop: '16px',\r\n    },\r\n  },\r\n  box: {\r\n    border: `1px solid ${theme.palette.themeSecondary}`,\r\n    '&:not(:first-of-type)': {\r\n      borderTop: 'none',\r\n    },\r\n  },\r\n}));\r\n\r\nconst ReportsDetailsPanel = ({ id, isOpen, setOpen }) => {\r\n  const classes = useStyles();\r\n  const [details, setDetails] = useState(null);\r\n  const [parameters, setParameters] = useState([]);\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    async function run() {\r\n      if (id && isOpen) {\r\n        const reportDetails = await ReportingService.getReport(id);\r\n        if (mounted) {\r\n          setDetails(reportDetails);\r\n          setParameters(reportDetails.parameters.map((p) => ({\r\n            name: p.name,\r\n            value: p.defaultValue,\r\n            path: p.path,\r\n          })));\r\n        }\r\n      }\r\n    }\r\n    run();\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, [id, isOpen]);\r\n\r\n  const onRenderFooter = () => (\r\n    <Stack\r\n      horizontal\r\n      horizontalAlign=\"start\"\r\n      tokens={{\r\n        childrenGap: 10,\r\n      }}\r\n    >\r\n      <DefaultButton onClick={() => setOpen(false)}>Close</DefaultButton>\r\n    </Stack>\r\n  );\r\n\r\n  return (\r\n    isOpen && details\r\n      ? (\r\n        <Panel\r\n          isOpen={isOpen}\r\n          onDismiss={() => setOpen(false)}\r\n          headerText=\"Create Report\"\r\n          type={PanelType.large}\r\n          onRenderFooterContent={onRenderFooter}\r\n          isLightDismiss\r\n        >\r\n          <Container fluid className={classes.root}>\r\n            <Separator>General</Separator>\r\n            <Row justify=\"start\">\r\n              <Col xs={12} sm={8} md={6}>\r\n                <TextField\r\n                  label=\"Name: \"\r\n                  value={details.name}\r\n                  underlined\r\n                  readOnly\r\n                />\r\n                <TextField\r\n                  label=\"Description: \"\r\n                  value={details.description}\r\n                  multiline\r\n                  underlined\r\n                  readOnly\r\n                  resizable={false}\r\n                />\r\n                <TextField\r\n                  label=\"Template: \"\r\n                  value={details.template.name}\r\n                  underlined\r\n                  readOnly\r\n                />\r\n              </Col>\r\n            </Row>\r\n            <Separator>Parameters</Separator>\r\n            <Row justify=\"start\">\r\n              <Col xs={12} sm={8} md={6}>\r\n                {\r\n                  parameters.map((parameter) => (\r\n                    <Box className={classes.box}>\r\n                      <TextField\r\n                        label=\"Name: \"\r\n                        value={parameter.name}\r\n                        underlined\r\n                        readOnly\r\n                      />\r\n                      <TextField\r\n                        label=\"Path: \"\r\n                        value={parameter.path}\r\n                        underlined\r\n                        readOnly\r\n                      />\r\n                      <TextField\r\n                        label=\"Default value: \"\r\n                        value={parameter.value}\r\n                        underlined\r\n                        readOnly\r\n                      />\r\n                    </Box>\r\n                  ))\r\n                }\r\n              </Col>\r\n            </Row>\r\n            <Separator>Aggregation</Separator>\r\n            <Row justify=\"start\">\r\n              <Col xs={12} sm={8} md={6}>\r\n                <TextField\r\n                  value={JSON.stringify(JSON.parse(details.template.aggregation), null, 4)}\r\n                  multiline\r\n                  underlined\r\n                  readOnly\r\n                  autoAdjustHeight\r\n                  resizable={false}\r\n                />\r\n              </Col>\r\n            </Row>\r\n          </Container>\r\n        </Panel>\r\n      ) : null\r\n  );\r\n};\r\n\r\nReportsDetailsPanel.propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n  isOpen: PropTypes.bool.isRequired,\r\n  setOpen: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ReportsDetailsPanel;\r\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  ActionButton,\r\n  DefaultButton, makeStyles, Panel, PanelType, PrimaryButton, Separator, Stack, TextField,\r\n} from '@fluentui/react';\r\nimport { Col, Container, Row } from 'react-grid-system';\r\nimport ReportingService from '../../../../services/ReportingService';\r\nimport Box from '../../../shared/box';\r\nimport NotificationService from '../../../../services/NotificationService';\r\nimport SinglePicker from '../../../shared/single-picker/SinglePicker';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    '& > * + *': {\r\n      marginTop: '16px',\r\n    },\r\n  },\r\n  box: {\r\n    border: `1px solid ${theme.palette.themeSecondary}`,\r\n    '&:not(:first-of-type)': {\r\n      borderTop: 'none',\r\n    },\r\n  },\r\n}));\r\n\r\nconst ReportsEditPanel = ({\r\n  id, isOpen, setOpen, setReport,\r\n}) => {\r\n  const classes = useStyles();\r\n  const [details, setDetails] = useState(null);\r\n  const [parameters, setParameters] = useState([]);\r\n  const [parametersList, setParametersList] = useState([]);\r\n  const [inputErrorMessages, setInputErrorMessages] = useState({});\r\n  const [newParameter, setNewParameter] = useState({\r\n    name: '',\r\n    path: '',\r\n    defaultValue: '',\r\n  });\r\n\r\n  const handleChangeDetails = (property) => (evt) => {\r\n    const val = evt.target.value;\r\n    setDetails((prev) => ({\r\n      ...prev,\r\n      [property]: val,\r\n    }));\r\n  };\r\n\r\n  const handleChangeParams = (property, param) => (evt) => {\r\n    const { value } = evt.target;\r\n    setParameters((prev) => prev.map(\r\n      (parameter) => {\r\n        if (parameter && parameter.path === param.path) {\r\n          return { ...parameter, [property]: value };\r\n        }\r\n        return parameter;\r\n      },\r\n    ));\r\n  };\r\n\r\n  const deleteParam = (param) => () => {\r\n    setParameters((prev) => prev.filter((p) => p.path !== param.path));\r\n  };\r\n\r\n  const handleChangeNewParam = (property) => (evt) => {\r\n    const { value } = evt.target;\r\n    setNewParameter((prev) => ({\r\n      ...prev,\r\n      [property]: value,\r\n    }));\r\n  };\r\n\r\n  const handleAdd = () => {\r\n    let error = false;\r\n    if (newParameter.name === '') {\r\n      error = true;\r\n      setInputErrorMessages((prev) => ({\r\n        ...prev,\r\n        newParamName: 'Name is required',\r\n      }));\r\n    } else {\r\n      setInputErrorMessages((prev) => ({\r\n        ...prev,\r\n        newParamName: '',\r\n      }));\r\n    }\r\n    if (newParameter.path === '') {\r\n      error = true;\r\n      setInputErrorMessages((prev) => ({\r\n        ...prev,\r\n        newParamPath: 'Path is required',\r\n      }));\r\n    } else {\r\n      setInputErrorMessages((prev) => ({\r\n        ...prev,\r\n        newParamPath: '',\r\n      }));\r\n    }\r\n    if (error) return;\r\n    setParameters((prev) => {\r\n      const item = prev.find((p) => p.path === newParameter.path);\r\n      if (!item) {\r\n        return prev.concat(newParameter);\r\n      }\r\n      setInputErrorMessages(() => ({\r\n        ...prev,\r\n        newParamPath: 'This parameter is already added.',\r\n      }));\r\n      return prev;\r\n    });\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    const result = await ReportingService.updateReport(details.id, {\r\n      description: details.description,\r\n      parameters,\r\n    });\r\n    if (result) {\r\n      setReport(result);\r\n      setOpen(false);\r\n      setDetails(null);\r\n      setParameters([]);\r\n      setNewParameter({});\r\n      NotificationService.notifySuccess('Report saved');\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    async function run() {\r\n      if (id && isOpen) {\r\n        const reportDetails = await ReportingService.getReport(id);\r\n        let params = [];\r\n        if (reportDetails?.template?.id) {\r\n          params = await ReportingService.getTempalteParameters(reportDetails.template.id);\r\n        }\r\n        if (mounted) {\r\n          setDetails(reportDetails);\r\n          setParameters(reportDetails.parameters);\r\n          setParametersList(params);\r\n        }\r\n      }\r\n    }\r\n    run();\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, [id, isOpen]);\r\n\r\n  const onRenderFooter = () => (\r\n    <Stack\r\n      horizontal\r\n      horizontalAlign=\"start\"\r\n      tokens={{\r\n        childrenGap: 10,\r\n      }}\r\n    >\r\n      <PrimaryButton onClick={handleSave}>Save</PrimaryButton>\r\n      <DefaultButton onClick={() => setOpen(false)}>Close</DefaultButton>\r\n    </Stack>\r\n  );\r\n\r\n  return (\r\n    isOpen && details\r\n      ? (\r\n        <Panel\r\n          isOpen={isOpen}\r\n          onDismiss={() => setOpen(false)}\r\n          headerText=\"Create Report\"\r\n          type={PanelType.large}\r\n          onRenderFooterContent={onRenderFooter}\r\n        >\r\n          <Container fluid className={classes.root}>\r\n            <Separator>General</Separator>\r\n            <Row justify=\"start\">\r\n              <Col xs={12} sm={8} md={6}>\r\n                <TextField\r\n                  label=\"Name: \"\r\n                  value={details.name}\r\n                  underlined\r\n                  disabled\r\n                />\r\n                <TextField\r\n                  label=\"Description: \"\r\n                  value={details.description}\r\n                  multiline\r\n                  underlined\r\n                  resizable={false}\r\n                  onChange={handleChangeDetails('description')}\r\n                />\r\n                <TextField\r\n                  label=\"Template: \"\r\n                  value={details.template.name}\r\n                  underlined\r\n                  disabled\r\n                />\r\n              </Col>\r\n            </Row>\r\n            <Separator>Parameters</Separator>\r\n            <Row justify=\"start\">\r\n              <Col xs={12} sm={8} md={6}>\r\n                {\r\n                  parameters.map((parameter) => (\r\n                    <Box className={classes.box}>\r\n                      <TextField\r\n                        label=\"Name: \"\r\n                        value={parameter.name}\r\n                        underlined\r\n                        onChange={handleChangeParams('name', parameter)}\r\n                      />\r\n                      <TextField\r\n                        label=\"Path: \"\r\n                        value={parameter.path}\r\n                        underlined\r\n                        disabled\r\n                      />\r\n                      <TextField\r\n                        label=\"Default value: \"\r\n                        value={parameter.defaultValue}\r\n                        underlined\r\n                        onChange={handleChangeParams('defaultValue', parameter)}\r\n                      />\r\n                      <ActionButton\r\n                        onClick={deleteParam(parameter)}\r\n                        iconProps={{\r\n                          iconName: 'Delete',\r\n                        }}\r\n                        text=\"Delete\"\r\n                      />\r\n                    </Box>\r\n                  ))\r\n                }\r\n                <Box className={classes.box}>\r\n                  <SinglePicker\r\n                    options={parametersList.map((param) => param.paths.map((path) => ({\r\n                      key: `${param.name}${path}`,\r\n                      data: `${param.name}${path}`,\r\n                    }))).flat()}\r\n                    getTextFromItem={(item) => item.data}\r\n                    onSelect={(item) => setNewParameter((prev) => ({\r\n                      ...prev,\r\n                      path: item.data,\r\n                    }))}\r\n                    onRenderItem={() => null}\r\n                    maxHeight=\"400px\"\r\n                  />\r\n                  <TextField\r\n                    label=\"Name: \"\r\n                    value={newParameter.name || ''}\r\n                    underlined\r\n                    onChange={handleChangeNewParam('name')}\r\n                    required\r\n                    errorMessage={inputErrorMessages.newParamName || ''}\r\n                  />\r\n                  <TextField\r\n                    label=\"Path: \"\r\n                    value={newParameter.path || ''}\r\n                    underlined\r\n                    required\r\n                    errorMessage={inputErrorMessages.newParamPath || ''}\r\n                  />\r\n                  <TextField\r\n                    label=\"Default value: \"\r\n                    value={newParameter.defaultValue || ''}\r\n                    underlined\r\n                    onChange={handleChangeNewParam('defaultValue')}\r\n                  />\r\n                  <ActionButton\r\n                    onClick={handleAdd}\r\n                    iconProps={{\r\n                      iconName: 'Add',\r\n                    }}\r\n                    text=\"Add\"\r\n                  />\r\n                </Box>\r\n              </Col>\r\n            </Row>\r\n            <Separator>Aggregation</Separator>\r\n            <Row justify=\"start\">\r\n              <Col xs={12} sm={8} md={6}>\r\n                <TextField\r\n                  value={JSON.stringify(JSON.parse(details.template.aggregation), null, 4)}\r\n                  multiline\r\n                  underlined\r\n                  disabled\r\n                  autoAdjustHeight\r\n                  resizable={false}\r\n                />\r\n              </Col>\r\n            </Row>\r\n          </Container>\r\n        </Panel>\r\n      ) : null\r\n  );\r\n};\r\n\r\nReportsEditPanel.propTypes = {\r\n  id: PropTypes.string,\r\n  isOpen: PropTypes.bool.isRequired,\r\n  setOpen: PropTypes.func.isRequired,\r\n  setReport: PropTypes.func.isRequired,\r\n};\r\n\r\nReportsEditPanel.defaultProps = {\r\n  id: null,\r\n};\r\n\r\nexport default ReportsEditPanel;\r\n","import ReportsEditPanel from './ReportsEditPanel';\r\n\r\nexport default ReportsEditPanel;\r\n","import Reports from './Reports';\r\n\r\nexport default Reports;\r\n","import React, { useState } from 'react';\r\nimport { Container, Row, Col } from 'react-grid-system';\r\nimport { DetailsListLayoutMode, SelectionMode, Separator } from '@fluentui/react';\r\nimport ReportsInfoProvider from './components/reports-info-provider';\r\nimport PageHeader from '../shared/page-header/PageHeader';\r\nimport CommandTable from '../shared/command-table/CommandTable';\r\nimport ReportsNewPanel from './components/reports-new-panel';\r\nimport ReportsDetailsPanel from './components/reports-details-panel/ReportsDetailsPanel';\r\nimport ReportsEditPanel from './components/reports-edit-panel';\r\n\r\nconst ReportsList = () => {\r\n  const [newPanelOpen, setNewPanelOpen] = useState(false);\r\n  const [detailsPanelOpen, setDetailsPanelOpen] = useState(false);\r\n  const [editPanelOpen, setEditPanelOpen] = useState(false);\r\n  const [reports, setReports] = useState([]);\r\n  const [selectionDetails, setSelectionDetails] = useState({\r\n    count: 0,\r\n    items: [],\r\n  });\r\n\r\n  const [columns] = useState([\r\n    {\r\n      key: 'name',\r\n      name: ' Name',\r\n      fieldName: 'name',\r\n      isSortable: true,\r\n      isFilterable: true,\r\n      isResizable: true,\r\n      iconName: 'FileTemplate',\r\n      minWidth: 100,\r\n      maxWidth: 300,\r\n    },\r\n    {\r\n      key: 'description',\r\n      name: ' Description',\r\n      fieldName: 'description',\r\n      isSortable: true,\r\n      isFilterable: true,\r\n      isResizable: true,\r\n      iconName: 'FileBug',\r\n      minWidth: 200,\r\n      maxWidth: 300,\r\n    },\r\n    {\r\n      key: 'createdby',\r\n      name: ' Created by',\r\n      isSortable: true,\r\n      isFilterable: true,\r\n      isResizable: true,\r\n      iconName: 'Contact',\r\n      minWidth: 100,\r\n      maxWidth: 300,\r\n      sort: (a, b) => (a.createdUser.username < b.createdUser.username ? -1 : 1),\r\n      onRender: (item) => item.createdUser.username,\r\n    },\r\n    {\r\n      key: 'createdon',\r\n      name: ' Created on',\r\n      fieldName: 'createdDate',\r\n      isSortable: true,\r\n      isFilterable: true,\r\n      isResizable: true,\r\n      iconName: 'DateTime',\r\n      minWidth: 200,\r\n      maxWidth: 300,\r\n      onRender: (item) => (new Date(item.createdDate).toLocaleString()),\r\n    },\r\n  ]);\r\n\r\n  const [sortedColumn] = useState(\r\n    {\r\n      key: 'name',\r\n      name: ' Name',\r\n      fieldName: 'name',\r\n      isSortable: true,\r\n      isFilterable: true,\r\n      isResizable: true,\r\n      iconName: 'FileTemplate',\r\n      minWidth: 100,\r\n      maxWidth: 300,\r\n      isSorted: true,\r\n      isSortedDescending: false,\r\n    },\r\n  );\r\n\r\n  return (\r\n    <Container fluid>\r\n      <ReportsInfoProvider setReports={setReports} />\r\n      <PageHeader text=\"Reports\" />\r\n      <Separator />\r\n      <Row>\r\n        <Col xs={12}>\r\n          <CommandTable\r\n            commandItems={[\r\n              {\r\n                key: 'createItem',\r\n                text: 'Create',\r\n                iconProps: { iconName: 'BoxAdditionSolid' },\r\n                onClick: () => setNewPanelOpen(true),\r\n              },\r\n              {\r\n                key: 'details',\r\n                text: 'Details',\r\n                disabled: selectionDetails.count === 0,\r\n                iconProps: { iconName: 'ProfileSearch' },\r\n                onClick: () => setDetailsPanelOpen(true),\r\n              },\r\n              {\r\n                key: 'editItem',\r\n                text: 'Edit',\r\n                disabled: selectionDetails.count === 0,\r\n                iconProps: { iconName: 'Edit' },\r\n                onClick: () => setEditPanelOpen(true),\r\n              },\r\n            ]}\r\n            tableProps={{\r\n              items: reports,\r\n              columns,\r\n              setSelectionDetails,\r\n              selectionMode: SelectionMode.single,\r\n              onItemInvoked: () => setDetailsPanelOpen(true),\r\n              layoutMode: DetailsListLayoutMode.justified,\r\n              sortedCol: sortedColumn,\r\n            }}\r\n          />\r\n        </Col>\r\n      </Row>\r\n      <ReportsNewPanel\r\n        isOpen={newPanelOpen}\r\n        setOpen={setNewPanelOpen}\r\n        addReport={(report) => setReports((prev) => prev.concat(report))}\r\n      />\r\n      <ReportsDetailsPanel\r\n        id={selectionDetails.count > 0 ? selectionDetails.items[0].id : null}\r\n        isOpen={detailsPanelOpen}\r\n        setOpen={setDetailsPanelOpen}\r\n      />\r\n      <ReportsEditPanel\r\n        id={selectionDetails.count > 0 ? selectionDetails.items[0].id : null}\r\n        isOpen={editPanelOpen}\r\n        setOpen={setEditPanelOpen}\r\n        setReport={\r\n          (report) => setReports((prev) => prev.map((r) => (r.id === report.id ? report : r)))\r\n        }\r\n      />\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default ReportsList;\r\n","import ReportsPage from './ReportsPage';\r\n\r\nexport default ReportsPage;\r\n","import React from 'react';\r\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\r\nimport Reports from '../../components/reports';\r\n\r\nconst ReportsPage = () => {\r\n  const { path } = useRouteMatch();\r\n  return (\r\n    <>\r\n      <Switch>\r\n        <Route exact path={path}>\r\n          <Reports />\r\n        </Route>\r\n        <Route exact path={`${path}/new`}>\r\n          <h1>Report</h1>\r\n        </Route>\r\n        <Route exact path={`${path}/:id`}>\r\n          <h1>Report</h1>\r\n        </Route>\r\n      </Switch>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ReportsPage;\r\n","const { default: ReportTemplates } = require('./ReportTemplates');\r\n\r\nexport default ReportTemplates;\r\n","import ReportTemplatesPage from './ReportTemplatesPage';\r\n\r\nexport default ReportTemplatesPage;\r\n","import React from 'react';\r\nimport { useRouteMatch, Switch, Route } from 'react-router-dom';\r\nimport ReportTemplates from '../../components/report-templates';\r\n\r\nconst ReportTemplatesPage = () => {\r\n  const { path } = useRouteMatch();\r\n  return (\r\n    <Switch>\r\n      <Route exact path={path}>\r\n        <ReportTemplates />\r\n      </Route>\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default ReportTemplatesPage;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Container, Row, Col } from 'react-grid-system';\r\nimport {\r\n  PrimaryButton, Separator, Dropdown, makeStyles, DatePicker,\r\n} from '@fluentui/react';\r\nimport { downloadBlob } from 'download.js';\r\nimport PageHeader from '../shared/page-header';\r\nimport AppraisalService from '../../services/AppraisalService';\r\nimport NotificationService from '../../services/NotificationService';\r\nimport ReportingService from '../../services/ReportingService';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    '& > * + *': {\r\n      marginTop: theme.spacing.m,\r\n    },\r\n  },\r\n}));\r\n\r\nconst AppraisalReport = () => {\r\n  const classes = useStyles();\r\n  const [periods, setPeriods] = useState([]);\r\n  const [dateFrom, setDateFrom] = useState(null);\r\n  const [dateTo, setDateTo] = useState(null);\r\n  const [selectedPeriods, setSelectedPeriods] = useState([]);\r\n\r\n  const handlePeriodsChange = (evt, selection) => {\r\n    if (selection) {\r\n      if (selection.selected) {\r\n        setSelectedPeriods((prev) => prev.concat(selection.key));\r\n      } else {\r\n        setSelectedPeriods((prev) => prev.filter((p) => p !== selection.key));\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleChangeDate = (setFunc) => (dt) => {\r\n    setFunc(new Date(Date.UTC(dt.getFullYear(), dt.getMonth(), dt.getDate())));\r\n  };\r\n\r\n  const handleGenerate = async () => {\r\n    if (dateFrom && dateTo && (dateTo < dateFrom)) {\r\n      return NotificationService.notifySevereWarning(\"'Date to' should be bigger than 'Date from'\");\r\n    }\r\n    // if any of the fields are set, generate the report\r\n    if (dateFrom || dateTo || selectedPeriods.length) {\r\n      const report = await ReportingService.generateAppraisalReport({\r\n        dateFrom,\r\n        dateTo,\r\n        periods: selectedPeriods,\r\n      });\r\n      if (report) {\r\n        return downloadBlob('appraisal.xlsx', report);\r\n      }\r\n      return null;\r\n    }\r\n    // otherwise, notify user\r\n    return NotificationService.notifySevereWarning('At least one field should be set');\r\n  };\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    async function run() {\r\n      const result = await AppraisalService.getPeriods();\r\n      if (result && mounted) {\r\n        setPeriods(result.map((r) => ({\r\n          key: r.id,\r\n          text: r.name,\r\n          data: r,\r\n        })));\r\n      }\r\n    }\r\n    run();\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <Container fluid className={classes.root}>\r\n      <PageHeader text=\"Appraisal Report\" />\r\n      <Separator />\r\n      {/* Select periods */}\r\n      <Row align=\"center\" justify=\"center\">\r\n        <Col md={8} sm={12}>\r\n          <Dropdown\r\n            placeholder=\"Select periods\"\r\n            label=\"Select one or multiple periods\"\r\n            multiSelect\r\n            options={periods}\r\n            onChange={handlePeriodsChange}\r\n            selectedKeys={selectedPeriods}\r\n          />\r\n        </Col>\r\n      </Row>\r\n      {/* Select Date range */}\r\n      <Row align=\"center\" justify=\"center\">\r\n        <Col md={4} sm={12}>\r\n          <Row justify=\"center\">\r\n            <DatePicker\r\n              placeholder=\"Select date from...\"\r\n              aria-label=\"Select date from\"\r\n              value={dateFrom}\r\n              label=\"Date from\"\r\n              onSelectDate={handleChangeDate(setDateFrom)}\r\n            />\r\n          </Row>\r\n        </Col>\r\n        <Col md={4} sm={12}>\r\n          <Row justify=\"center\">\r\n            <DatePicker\r\n              placeholder=\"Select date to...\"\r\n              aria-label=\"Select date to\"\r\n              value={dateTo}\r\n              label=\"Date to\"\r\n              onSelectDate={handleChangeDate(setDateTo)}\r\n            />\r\n          </Row>\r\n        </Col>\r\n      </Row>\r\n      {/* Generate button */}\r\n      <Row align=\"center\" justify=\"center\">\r\n        <Col md={4} sm={12}>\r\n          <Row justify=\"center\">\r\n            <PrimaryButton\r\n              text=\"Generate\"\r\n              type=\"submit\"\r\n              onClick={handleGenerate}\r\n            />\r\n          </Row>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default AppraisalReport;\r\n","import ReportingPage from './ReportingPage';\r\n\r\nexport default ReportingPage;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useRouteMatch, Switch, Route } from 'react-router-dom';\r\nimport DocumentTitle from 'react-document-title';\r\nimport { Container } from 'react-grid-system';\r\nimport ReportsPage from '../reporting-reports';\r\nimport ReportingTemplatesPage from '../reporting-templates';\r\nimport AuthorizationRedirectComponent from '../../components/shared/authorization-redirect-component';\r\nimport AppraisalReport from '../../components/appraisal-report/AppraisalReport';\r\n\r\nconst ReportingPage = () => {\r\n  const { path } = useRouteMatch();\r\n  return (\r\n    <Container lg>\r\n      <Switch>\r\n        <Route path={`${path}/reports`}>\r\n          <AuthorizationRedirectComponent\r\n            code=\"REPORTS\"\r\n            grant=\"read\"\r\n            to=\"/\"\r\n            failureNotification={{\r\n              header: 'No Access',\r\n              content: 'No permission to access this page. Please contact your administrator.',\r\n            }}\r\n          >\r\n            <ReportsPage />\r\n          </AuthorizationRedirectComponent>\r\n        </Route>\r\n        <Route path={`${path}/templates`}>\r\n          <AuthorizationRedirectComponent\r\n            code=\"REPORT-TEMPLATES\"\r\n            grant=\"read\"\r\n            to=\"/\"\r\n            failureNotification={{\r\n              header: 'No Access',\r\n              content: 'No permission to access this page. Please contact your administrator.',\r\n            }}\r\n          >\r\n            <DocumentTitle title=\"Reporting Templates\">\r\n              <ReportingTemplatesPage />\r\n            </DocumentTitle>\r\n          </AuthorizationRedirectComponent>\r\n        </Route>\r\n        <Route path={`${path}/appraisal-report`}>\r\n          <AuthorizationRedirectComponent\r\n            code=\"REPORTS\"\r\n            grant=\"read\"\r\n            to=\"/\"\r\n            failureNotification={{\r\n              header: 'No Access',\r\n              content: 'No permission to access this page. Please contact your administrator.',\r\n            }}\r\n          >\r\n            <DocumentTitle title=\"Appraisal Report\">\r\n              <AppraisalReport />\r\n            </DocumentTitle>\r\n          </AuthorizationRedirectComponent>\r\n        </Route>\r\n      </Switch>\r\n    </Container>\r\n  );\r\n};\r\n\r\nReportingPage.propTypes = {\r\n  ctx: PropTypes.shape({\r\n    user: PropTypes.shape({\r\n      username: PropTypes.string,\r\n    }),\r\n  }).isRequired,\r\n};\r\n\r\nexport default ReportingPage;\r\n","import LoginRequired from './LoginRequired';\r\n\r\nexport default LoginRequired;\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport GlobalContext from '../../../services/GlobalContext';\r\n\r\nconst LoginRequired = () => {\r\n  const [redirect, setRedirect] = useState(false);\r\n  const global = useContext(GlobalContext);\r\n\r\n  useEffect(() => {\r\n    async function getUser() {\r\n      // const user = await LoginService.getCurrentUser();\r\n\r\n      if (!global.userLoaded) return;\r\n      // There is no user anymore, probably logged out, so we need to remove it from the state\r\n      if (global.user === null) {\r\n        setRedirect(true);\r\n      }\r\n    }\r\n    getUser();\r\n  }, [global]);\r\n\r\n  return (\r\n    <>\r\n      {redirect\r\n        ? <Redirect to=\"/login\" />\r\n        : null}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LoginRequired;\r\n","import LoginPage from './LoginPage';\r\n\r\nexport default LoginPage;\r\n","import React from 'react';\r\n\r\nconst LoginPage = () => (\r\n  <>\r\n    <h1 style={{ textAlign: 'center' }}>Login</h1>\r\n    <a href=\"/auth/login\">Login</a>\r\n  </>\r\n);\r\n\r\nexport default LoginPage;\r\n","import { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst useFetch = (url, options = null, initialData = [], dependencies = [], cb = null) => {\r\n  const [data, setData] = useState(initialData);\r\n\r\n  useEffect(() => {\r\n    async function run() {\r\n      setData(initialData);\r\n      const result = await axios.get(url, options);\r\n      if (result.status === 200) {\r\n        setData(cb ? cb(result.data) : result.data);\r\n      }\r\n    }\r\n    if (url) {\r\n      run();\r\n    }\r\n  }, [url, ...dependencies]);\r\n\r\n  return [data, setData];\r\n};\r\n\r\nexport default useFetch;\r\n","import { DateTime } from 'luxon';\r\nimport axios from 'axios';\r\nimport NotificationService from '../NotificationService';\r\n\r\nconst TaskService = {\r\n  baseUrl: '/api/tasks',\r\n  taskPath: (id) => `/api/tasks/${id}`,\r\n  taskStatusPath: (id) => `/api/tasks/${id}/status`,\r\n  tasksCheckConflictsPath: '/api/tasks/check-busy',\r\n\r\n  async getTasks(params = {}) {\r\n    try {\r\n      const response = await axios.get(this.baseUrl, {\r\n        params,\r\n      });\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.data} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async getBusyTasks({ user }) {\r\n    try {\r\n      const response = await axios.get(this.tasksCheckConflictsPath, {\r\n        params: { user },\r\n      });\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.data} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async getTask() {\r\n    try {\r\n      // pass\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async createTask(data) {\r\n    try {\r\n      const response = await axios.post(this.baseUrl, data);\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.data} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async updateTask(id, data) {\r\n    try {\r\n      const response = await axios.put(this.taskPath(id), data);\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.data} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async updateTaskStatus(id, data) {\r\n    try {\r\n      const response = await axios.put(this.taskStatusPath(id), data);\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.data} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async deleteTask() {\r\n    try {\r\n      // pass\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  createTaskObject(task) {\r\n    const copy = { ...task };\r\n    const startRaw = DateTime\r\n      .fromISO(task.expectedStartDate).toUTC();\r\n    const endRaw = DateTime\r\n      .fromISO(task.expectedFinishDate).toUTC();\r\n    copy.expectedStartDate = DateTime.fromObject({\r\n      year: startRaw.year,\r\n      month: startRaw.month,\r\n      day: startRaw.day,\r\n      hour: startRaw.hour,\r\n      minute: startRaw.minute,\r\n      second: 0,\r\n      zone: task.zone,\r\n    }).toISO();\r\n    copy.expectedFinishDate = DateTime.fromObject({\r\n      year: endRaw.year,\r\n      month: endRaw.month,\r\n      day: endRaw.day,\r\n      hour: endRaw.hour,\r\n      minute: endRaw.minute,\r\n      second: 0,\r\n      zone: task.zone,\r\n    }).toISO();\r\n    return copy;\r\n  },\r\n};\r\n\r\nexport default TaskService;\r\n","import { DateTime } from 'luxon';\r\n\r\nexport default {\r\n  getHoursFromText(text) {\r\n    const [hours, minutes, seconds] = text.split(':').map((t) => +t);\r\n    return {\r\n      h: hours,\r\n      m: minutes,\r\n      s: seconds ?? 0,\r\n    };\r\n  },\r\n\r\n  combineDateHours(date, hours) {\r\n    return new Date(date.getFullYear(), date.getMonth(), date.getDate(), hours.h, hours.m, hours.s);\r\n  },\r\n\r\n  makeUTC(date) {\r\n    if (Number.isNaN(+new Date(date)) || date === null) return null;\r\n    return new Date(Date.UTC(\r\n      date.getFullYear(),\r\n      date.getMonth(),\r\n      date.getDate(),\r\n      date.getHours(),\r\n      date.getMinutes(),\r\n      date.getSeconds(),\r\n    ));\r\n  },\r\n\r\n  // Return an array containing all days from the same week as date\r\n  // By default first day is monday\r\n  getWeekFromDate(date, firstDay = 1) {\r\n    const result = [];\r\n    // Get first day of the week, take into account firstDay parameter\r\n    const firstDayUTC = this.makeUTCDateOnly(date);\r\n    let day = firstDayUTC.getDay();\r\n    if (day === 0 && firstDay === 1) day = 7;\r\n    firstDayUTC.setDate(firstDayUTC.getDate() - day + firstDay);\r\n    for (let i = 0; i < 7; i += 1) {\r\n      const dt = new Date(firstDayUTC);\r\n      dt.setDate(dt.getDate() + i);\r\n      result.push(dt);\r\n    }\r\n    return result;\r\n  },\r\n\r\n  makeUTCDateOnly(date) {\r\n    if (Number.isNaN(+new Date(date)) || date === null) return null;\r\n    return new Date(Date.UTC(\r\n      date.getFullYear(),\r\n      date.getMonth(),\r\n      date.getDate(),\r\n      0,\r\n      0,\r\n      0,\r\n    ));\r\n  },\r\n\r\n  /**\r\n   * Given a Time, return the nearest time rounded to 10 minutes\r\n   * Ex: 10:59 -> 11:00\r\n   *     11:12 -> 11:10\r\n   * @param {Date} date\r\n   * @returns Date\r\n   */\r\n  getNearestTimeUTC(date) {\r\n    const dt = DateTime.fromJSDate(date).toUTC();\r\n    const minutes = Math.ceil(dt.minute / 10) * 10;\r\n    return dt.set({ minute: minutes });\r\n  },\r\n\r\n  getTimeText(date) {\r\n    return DateTime.fromJSDate(date).toUTC().toFormat('HH:mm');\r\n  },\r\n\r\n  /**\r\n   * Receives a text string of form hh:mm and checks if it's valid\r\n   * @param {String} string\r\n   * @param {Date} baseDate\r\n   * @returns {Date} the adjusted valid utc date, with time set\r\n   */\r\n  getValidTimeStringUTC(string, baseDate = null) {\r\n    const pattern = /\\d{2}:\\d{2}/;\r\n    const dt = baseDate ? DateTime.fromJSDate(baseDate) : DateTime.now();\r\n    if (!pattern.test(string)) {\r\n      return dt.toUTC().set({\r\n        hour: 0,\r\n        minute: 0,\r\n        second: 0,\r\n        millisecond: 0,\r\n      }).toISO();\r\n    }\r\n    // Split and convert to numbers, regex passed so this shouldn't give any issues\r\n    let [hour, minute] = string.split(':');\r\n    // Check if hour is valid\r\n    if (+hour < 0 || +hour > 23) {\r\n      const temp = hour;\r\n      hour = hour.slice(0, 1);\r\n      minute = `${temp.slice(1)}${minute}`.slice(0, 2);\r\n    }\r\n    // Check if minutes are valid\r\n    if (+minute < 0 || +minute > 59) {\r\n      minute = `0${minute}`.slice(0, 2);\r\n    }\r\n    // return the validated date as utc iso string\r\n    return dt.toUTC().set({\r\n      hour,\r\n      minute,\r\n      second: 0,\r\n      millisecond: 0,\r\n    }).toISO();\r\n  },\r\n\r\n  /**\r\n   * Given start time and duration, return end time in format hh:mm\r\n   * @param {Date} startTime\r\n   * @param {Number} duration\r\n   */\r\n  getEndTimeTextUTC(startTime, duration) {\r\n    return DateTime.fromJSDate(startTime).plus({\r\n      minute: duration,\r\n    }).toUTC().toFormat('HH:mm');\r\n  },\r\n\r\n  /**\r\n   * Transform the date to UTC, keeping the same time\r\n   * Example: i have 2021-01-01 10:10 UTC+03:00\r\n   * I want to return 2021-01-01 10:10 UTC+00:00\r\n   * @param {Date} date\r\n   * @returns {Date} the transformed date\r\n   */\r\n  transform2UTCDate(date) {\r\n    const exp = DateTime.fromJSDate(date);\r\n    return DateTime.utc(exp.year, exp.month, exp.day, exp.hour, exp.minute, 0, 0).toJSDate();\r\n  },\r\n\r\n  /**\r\n   * Get's date @from and assigns is to @to\r\n   * @param {Date} from\r\n   * @param {Date} to\r\n   */\r\n  setDateFromTo(from, to) {\r\n    const fromDT = DateTime.fromJSDate(from);\r\n    const toDT = DateTime.fromJSDate(to);\r\n    return toDT.set({\r\n      year: fromDT.year,\r\n      month: fromDT.month,\r\n      day: fromDT.day,\r\n    }).toJSDate();\r\n  },\r\n};\r\n","import React, { useState, createContext, useRef } from 'react';\r\nimport {\r\n  Panel, PanelType,\r\n} from '@fluentui/react';\r\n\r\nconst PanelContext = createContext({\r\n  isPanel: false,\r\n  isOpen: null,\r\n  setOpen: null,\r\n  onRenderFooter: null,\r\n  setOnRenderFooter: null,\r\n});\r\n\r\n/**\r\n * @param {Object} onRenderComponent\r\n * @param {Object} options\r\n * @param {Function} options.onDismiss\r\n * @param {Number} options.type\r\n * @param {String} options.headerText\r\n * @param {Boolean} options.isLightDismiss\r\n * @param {Function} options.onRenderFooterContent\r\n * @param {Boolean} options.isFooterAtBottom\r\n * @param {String} options.id\r\n */\r\nconst usePanel = (Component, options = {}, componentProps = {}) => {\r\n  const [isOpen, setOpen] = useState(false);\r\n  const [onRenderFooter, setOnRenderFooter] = useState(() => options.onRenderFooterContent);\r\n  const componentRef = useRef(null);\r\n  const [ctx] = useState({\r\n    isPanel: true,\r\n    isOpen,\r\n    setOpen,\r\n    onRenderFooter,\r\n    setOnRenderFooter,\r\n  });\r\n\r\n  const render = (\r\n    <PanelContext.Provider value={ctx}>\r\n      <Panel\r\n        id={options.id ?? 'use-panel'}\r\n        componentRef={componentRef}\r\n        isOpen={isOpen}\r\n        onDismiss={(options?.onDismiss && options.onDismiss(isOpen, setOpen))\r\n        ?? (() => setOpen(false))}\r\n        type={options.type ?? PanelType.smallFixedFar}\r\n        headerText={options.headerText ?? 'Panel'}\r\n        isLightDismiss={options.isLightDismiss ?? false}\r\n        onRenderFooterContent={onRenderFooter}\r\n        isFooterAtBottom={options.isFooterAtBottom ?? false}\r\n      >\r\n        {\r\n        isOpen\r\n          // eslint-disable-next-line react/jsx-props-no-spreading\r\n          ? <Component isOpen={isOpen} setOpen={setOpen} {...componentProps} />\r\n          : null\r\n      }\r\n      </Panel>\r\n    </PanelContext.Provider>\r\n  );\r\n\r\n  return {\r\n    isOpen, setOpen, render, componentRef,\r\n  };\r\n};\r\n\r\nexport default usePanel;\r\n\r\nexport {\r\n  PanelContext,\r\n};\r\n","/* eslint-disable react/jsx-props-no-spreading */\r\nimport React, { useMemo } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  BasePickerListBelow, Checkbox, Label, makeStyles, Persona, PersonaSize, Stack, Text,\r\n} from '@fluentui/react';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {},\r\n  picker: {\r\n    '& input': {\r\n      backgroundColor: theme.palette.white,\r\n      color: theme.palette.neutralPrimary,\r\n    },\r\n  },\r\n  suggestionRoot: {\r\n    padding: theme.spacing.s2,\r\n  },\r\n  suggestionCheck: {\r\n    marginRight: theme.spacing.s2,\r\n    padding: theme.spacing.s2,\r\n    outline: 'none',\r\n  },\r\n  suggestionText: {\r\n    textTransform: 'capitalize',\r\n  },\r\n  itemRoot: {\r\n    marginTop: 4,\r\n    '&:first-child': {\r\n      marginTop: 8,\r\n    },\r\n  },\r\n}));\r\n\r\nconst PeoplePicker = ({\r\n  label, options, onSelect, onRemove, selected, ...props\r\n}) => {\r\n  const classes = useStyles();\r\n  const selectedSet = useMemo(() => new Set(selected.map((s) => s.key)), [selected]);\r\n\r\n  const handleCheckboxClick = (item) => (ev) => {\r\n    ev.preventDefault();\r\n    ev.stopPropagation();\r\n    if (selectedSet.has(item.key)) {\r\n      return onRemove(item);\r\n    }\r\n    return onSelect(item);\r\n  };\r\n\r\n  const renderSuggestionsItem = (item) => (\r\n    <Stack\r\n      key={item.key}\r\n      className={classes.suggestionRoot}\r\n      horizontalAlign=\"start\"\r\n      verticalAlign=\"center\"\r\n      horizontal\r\n    >\r\n      <span\r\n        className={classes.suggestionCheck}\r\n        role=\"button\"\r\n        tabIndex={-1}\r\n        onKeyDown={(evt) => (evt.key === 'Space'\r\n          ? renderSuggestionsItem(item)()\r\n          : null)}\r\n        onClick={handleCheckboxClick(item)}\r\n      >\r\n        <Checkbox\r\n          checked={selectedSet.has(item.key)}\r\n        />\r\n      </span>\r\n      <Text className={classes.suggestionText} variant=\"mediumPlus\">{item.data.username}</Text>\r\n    </Stack>\r\n  );\r\n\r\n  const renderItem = (details) => (\r\n    <Stack\r\n      className={classes.itemRoot}\r\n      key={details.item.id}\r\n      horizontalAlign=\"start\"\r\n      verticalAlign=\"center\"\r\n      horizontal\r\n    >\r\n      <Persona text={details.item.data.username} size={PersonaSize.size24} />\r\n    </Stack>\r\n  );\r\n\r\n  const handleSelect = (item) => {\r\n    if (selectedSet.has(item.key)) {\r\n      return onRemove(item);\r\n    }\r\n    return onSelect(item);\r\n  };\r\n\r\n  return (\r\n    <div {...props}>\r\n      { label && (<Label>{label}</Label>) }\r\n      <BasePickerListBelow\r\n        inputProps={{\r\n          placeholder: 'Select...',\r\n        }}\r\n        className={classes.picker}\r\n        onRenderSuggestionsItem={renderSuggestionsItem}\r\n        onResolveSuggestions={(filter) => options\r\n          .filter((o) => o.data.username.toLowerCase().indexOf(filter.toLowerCase()) !== -1)}\r\n        resolveDelay={300}\r\n        onRenderItem={renderItem}\r\n        selectedItems={selected}\r\n        onEmptyResolveSuggestions={() => options}\r\n        onItemSelected={handleSelect}\r\n        pickerCalloutProps={{\r\n          preventDismissOnScroll: true,\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nPeoplePicker.propTypes = {\r\n  label: PropTypes.string,\r\n  options: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\r\n  selected: PropTypes.arrayOf(String).isRequired,\r\n  onSelect: PropTypes.func.isRequired,\r\n  onRemove: PropTypes.func.isRequired,\r\n  props: PropTypes.shape({\r\n    style: PropTypes.shape({}),\r\n  }),\r\n};\r\n\r\nPeoplePicker.defaultProps = {\r\n  label: null,\r\n  props: null,\r\n};\r\n\r\nexport default PeoplePicker;\r\n","import {\r\n  Position,\r\n  SpinButton,\r\n  TextField,\r\n  DatePicker,\r\n  MaskedTextField,\r\n} from '@fluentui/react';\r\nimport PropTypes from 'prop-types';\r\nimport React, { useState } from 'react';\r\nimport { DateTime } from 'luxon';\r\nimport DateUtils from '../../../../utils/date';\r\nimport TaskService from '../../../../services/tasks/TaskService';\r\nimport UserService from '../../../../services/UserService';\r\nimport { useFetch } from '../../../../services/hooks';\r\nimport PeoplePicker from '../../../shared/people-picker/PeoplePicker';\r\n\r\nconst AddTask = ({ setOpen, handleAdd }) => {\r\n  const [users] = useFetch(UserService.teamUsersPath,\r\n    null, [], [],\r\n    (dt) => dt.map((user) => ({\r\n      key: user.id,\r\n      data: user,\r\n    })));\r\n  const [data, setData] = useState({\r\n    title: '',\r\n    description: '',\r\n    remarks: '',\r\n    expectedStartDate: DateUtils.getNearestTimeUTC(\r\n      DateUtils.transform2UTCDate(new Date()),\r\n    ).toJSDate(),\r\n    duration: 60,\r\n    isBackgroundTask: false,\r\n    assignedTo: [],\r\n  });\r\n\r\n  const handleDataChange = (field, func = (args) => args[0].target.value) => (...args) => {\r\n    setData((prev) => ({\r\n      ...prev,\r\n      [field]: func(args),\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async (evt) => {\r\n    evt.persist();\r\n    evt.preventDefault();\r\n    const expDate = DateTime.fromJSDate(data.expectedStartDate);\r\n    const result = await TaskService.createTask({\r\n      title: data.title,\r\n      description: data.description,\r\n      remarks: data.remarks,\r\n      expectedStartDate: data.expectedStartDate,\r\n      expectedFinishDate: expDate.plus({ minute: data.duration }).toJSDate(),\r\n      assignedTo: data.assignedTo.map((u) => u.id),\r\n      isBackgroundTask: data.isBackgroundTask,\r\n      zone: DateTime.local().zoneName,\r\n    });\r\n    if (result) {\r\n      handleAdd(result);\r\n    }\r\n    if (setOpen) {\r\n      setOpen(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <form id=\"create-task-form\" onSubmit={handleSubmit}>\r\n        <TextField\r\n          required\r\n          label=\"Title\"\r\n          value={data.title}\r\n          onChange={handleDataChange('title')}\r\n        />\r\n        <TextField\r\n          label=\"Description\"\r\n          value={data.description}\r\n          onChange={handleDataChange('description')}\r\n        />\r\n        <TextField\r\n          label=\"Remarks\"\r\n          value={data.remarks}\r\n          multiline\r\n          onChange={handleDataChange('remarks')}\r\n        />\r\n        <DatePicker\r\n          label=\"Start date\"\r\n          value={data.expectedStartDate}\r\n          onSelectDate={\r\n            (date) => setData(\r\n              (prev) => (\r\n                {\r\n                  ...prev,\r\n                  expectedStartDate: DateUtils.setDateFromTo(date, prev.expectedStartDate),\r\n                }),\r\n            )\r\n          }\r\n        />\r\n        <MaskedTextField\r\n          label=\"Start time\"\r\n          mask=\"99:99\"\r\n          maskChar=\"0\"\r\n          value={DateTime.fromJSDate(data.expectedStartDate).toUTC().toFormat('HH:mm')}\r\n          onChange={handleDataChange('expectedStartDate', (args) => DateTime.fromISO(DateUtils.getValidTimeStringUTC(args[1], data.expectedStartDate)).toJSDate())}\r\n        />\r\n        <MaskedTextField\r\n          label=\"End time\"\r\n          mask=\"99:99\"\r\n          maskChar=\"0\"\r\n          value={DateUtils.getEndTimeTextUTC(\r\n            data.expectedStartDate,\r\n            data.duration,\r\n          )}\r\n          onChange={\r\n              handleDataChange('duration', (args) => {\r\n                const validTime = DateUtils.getValidTimeStringUTC(args[1]);\r\n                // Check if end time is after start time\r\n                const startDT = DateTime.fromJSDate(data.expectedStartDate);\r\n                const endDT = DateTime.fromISO(validTime);\r\n                if (endDT < startDT) return 0;\r\n                return endDT.diff(startDT, 'minute')?.values?.minutes ?? 0;\r\n              })\r\n        }\r\n        />\r\n        <SpinButton\r\n          label=\"Duration (min)\"\r\n          value={data.duration}\r\n          onChange={(evt) => {\r\n            let val = +evt.target.value;\r\n            if (Number.isNaN(val)) val = 0;\r\n            setData((prev) => ({ ...prev, duration: val }));\r\n          }}\r\n          onIncrement={(val) => setData((prev) => ({ ...prev, duration: (+val + 10) }))}\r\n          onDecrement={(val) => {\r\n            if (val > 10) setData((prev) => ({ ...prev, duration: (+val - 10) }));\r\n          }}\r\n          min={0}\r\n          step={10}\r\n          incrementButtonAriaLabel=\"Increase value by 10\"\r\n          decrementButtonAriaLabel=\"Decrease value by 10\"\r\n          labelPosition={Position.top}\r\n        />\r\n        <PeoplePicker\r\n          label=\"Assigned to\"\r\n          options={users}\r\n          onSelect={(u) => setData((prev) => ({\r\n            ...prev,\r\n            assignedTo: prev.assignedTo.concat(u.data),\r\n          }))}\r\n          onRemove={(u) => setData((prev) => ({\r\n            ...prev,\r\n            assignedTo: prev.assignedTo.filter((user) => user.id !== u.data.id),\r\n          }))}\r\n          selected={data.assignedTo?.map((u) => ({ key: u.id, data: u }))}\r\n        />\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n\r\nAddTask.propTypes = {\r\n  setOpen: PropTypes.func,\r\n  handleAdd: PropTypes.func.isRequired,\r\n};\r\n\r\nAddTask.defaultProps = {\r\n  setOpen: null,\r\n};\r\n\r\nexport default AddTask;\r\n","import AddTask from './AddTask';\r\n\r\nexport default AddTask;\r\n","import { DateTime } from 'luxon';\r\nimport { ActionButton, DatePicker, Stack } from '@fluentui/react';\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\n\r\nconst CurrentDate = ({ currentDate, setCurrentDate }) => (\r\n  <>\r\n    <Stack horizontal verticalAlign=\"center\" horizontalAlign=\"center\">\r\n      <ActionButton\r\n        onClick={() => setCurrentDate((prev) => {\r\n          const from = DateTime.fromJSDate(prev);\r\n          return DateTime.fromObject({\r\n            year: from.year,\r\n            month: from.month,\r\n            day: from.day,\r\n            hour: 0,\r\n            minute: 0,\r\n            second: 0,\r\n            millisecond: 0,\r\n            zone: 'utc',\r\n          }).minus({ day: 1 }).toJSDate();\r\n        })}\r\n        iconProps={{\r\n          iconName: 'Previous',\r\n        }}\r\n      />\r\n      <DatePicker\r\n        value={currentDate}\r\n        onSelectDate={(date) => {\r\n          const from = DateTime.fromJSDate(date);\r\n          const result = DateTime.fromObject({\r\n            year: from.year,\r\n            month: from.month,\r\n            day: from.day,\r\n            hour: 0,\r\n            minute: 0,\r\n            second: 0,\r\n            millisecond: 0,\r\n            zone: 'utc',\r\n          }).toJSDate();\r\n          return setCurrentDate(result);\r\n        }}\r\n        firstDayOfWeek={1}\r\n      />\r\n      <ActionButton\r\n        onClick={() => setCurrentDate((prev) => {\r\n          const from = DateTime.fromJSDate(prev);\r\n          return DateTime.fromObject({\r\n            year: from.year,\r\n            month: from.month,\r\n            day: from.day,\r\n            hour: 0,\r\n            minute: 0,\r\n            second: 0,\r\n            millisecond: 0,\r\n            zone: 'utc',\r\n          }).plus({ day: 1 }).toJSDate();\r\n        })}\r\n        iconProps={{\r\n          iconName: 'Next',\r\n        }}\r\n      />\r\n    </Stack>\r\n  </>\r\n);\r\n\r\nCurrentDate.propTypes = {\r\n  currentDate: PropTypes.instanceOf(Date).isRequired,\r\n  setCurrentDate: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default CurrentDate;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  Facepile, makeStyles, OverflowButtonType, PersonaSize,\r\n} from '@fluentui/react';\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  root: {\r\n    display: 'inline-block',\r\n  },\r\n  container: {\r\n    textAlign: 'center',\r\n  },\r\n}));\r\n\r\nconst TaskPersonas = ({ task }) => {\r\n  const classes = useStyles();\r\n  return (\r\n    <div className={classes.container}>\r\n      <Facepile\r\n        className={classes.root}\r\n        personaSize={PersonaSize.size24}\r\n        maxDisplayablePersonas={1}\r\n        overflowButtonType={OverflowButtonType.descriptive}\r\n        overflowButtonProps={{\r\n          ariaDescription: 'More users',\r\n        }}\r\n        personas={task.assignedTo.map((u) => ({\r\n          personaName: u.username,\r\n        }))}\r\n        // onRenderPersona={(persona) => (\r\n        //   <Persona\r\n        //     size={PersonaSize.size24}\r\n        //     text={persona.personaName}\r\n        //     hidePersonaDetails\r\n        //     imageAlt={persona.personaName}\r\n        //   />\r\n        // )}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nTaskPersonas.propTypes = {\r\n  task: PropTypes.shape({\r\n    assignedTo: PropTypes.arrayOf(PropTypes.shape({\r\n      id: PropTypes.string,\r\n      username: PropTypes.string,\r\n    })),\r\n  }).isRequired,\r\n};\r\n\r\nexport default TaskPersonas;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Collapse } from 'react-collapse';\r\nimport {\r\n  ButtonGrid, DefaultButton, makeStyles, Separator, Text,\r\n} from '@fluentui/react';\r\nimport TaskPersonas from '../task-personas/TaskPersonas';\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  root: {\r\n    '& table': {\r\n      margin: 'auto',\r\n      borderCollapse: 'unset',\r\n    },\r\n  },\r\n  statusText: {\r\n    textAlign: 'center',\r\n  },\r\n}));\r\n\r\nconst TaskCollapsed = ({\r\n  task, collapsed, setCollapsed, handleStatusChange,\r\n}) => {\r\n  const classes = useStyles();\r\n\r\n  const handleChange = (item) => async () => {\r\n    await handleStatusChange(task, item.status);\r\n    setCollapsed(true);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Collapse isOpened={!collapsed}>\r\n        <Separator />\r\n        <TaskPersonas task={task} />\r\n        <Separator>\r\n          <Text variant=\"smallPlus\">Status</Text>\r\n        </Separator>\r\n        <ButtonGrid\r\n          columnCount={2}\r\n          onRenderItem={(item) => (\r\n            <DefaultButton\r\n              onClick={handleChange(item)}\r\n              disabled={item.disabled}\r\n              style={{\r\n                width: 115,\r\n                margin: 3,\r\n                fontSize: 8,\r\n                height: 18,\r\n              }}\r\n            >\r\n              <Text variant=\"small\">{item.text}</Text>\r\n            </DefaultButton>\r\n          )}\r\n          items={[\r\n            {\r\n              key: 'inprogress',\r\n              text: 'In progress',\r\n              status: 'InProgress',\r\n              disabled: task.status === 'InProgress',\r\n            },\r\n            {\r\n              key: 'paused',\r\n              text: 'Paused',\r\n              status: 'Paused',\r\n              disabled: task.status !== 'InProgress',\r\n            },\r\n            {\r\n              key: 'finished',\r\n              text: 'Finished',\r\n              status: 'Finished',\r\n              disabled: task.status === 'Finished',\r\n            },\r\n            {\r\n              key: 'cancelled',\r\n              text: 'Cancelled',\r\n              status: 'Cancelled',\r\n              disabled: task.status === 'Cancelled',\r\n            },\r\n          ]}\r\n        />\r\n      </Collapse>\r\n    </div>\r\n  );\r\n};\r\n\r\nTaskCollapsed.propTypes = {\r\n  handleStatusChange: PropTypes.func.isRequired,\r\n  task: PropTypes.shape({\r\n    id: PropTypes.string,\r\n    status: PropTypes.string,\r\n  }).isRequired,\r\n  collapsed: PropTypes.bool.isRequired,\r\n  setCollapsed: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default TaskCollapsed;\r\n","import React, { useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport clsx from 'clsx';\r\nimport {\r\n  ActionButton, makeStyles, Separator, Text,\r\n} from '@fluentui/react';\r\nimport TaskCollapsed from '../task-collapsed/TaskCollapsed';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    minHeight: '75px',\r\n    position: 'relative',\r\n    '& .task-new': {\r\n      minHeight: 'inherit',\r\n      border: '1px solid #87D7A1',\r\n      borderLeft: '10px solid #87D7A1',\r\n      '& .task-new-status': {\r\n        backgroundColor: '#87D7A1',\r\n      },\r\n    },\r\n    '& .task-inprogress': {\r\n      minHeight: 'inherit',\r\n      border: '1px solid #F4C884',\r\n      borderLeft: '10px solid #F4C884',\r\n      '& .task-inprogress-status': {\r\n        backgroundColor: '#F4C884',\r\n      },\r\n    },\r\n    '& .task-finished': {\r\n      minHeight: 'inherit',\r\n      border: '1px solid #C4C4C4',\r\n      borderLeft: '10px solid #C4C4C4',\r\n      '& .task-finished-status': {\r\n        backgroundColor: '#C4C4C4',\r\n      },\r\n    },\r\n    '& .task-cancelled': {\r\n      minHeight: 'inherit',\r\n      border: '1px solid #FF6B59',\r\n      borderLeft: '10px solid #FF6B59',\r\n      '& .task-cancelled-status': {\r\n        backgroundColor: '#FF6B59',\r\n      },\r\n    },\r\n    '& .task-paused': {\r\n      minHeight: 'inherit',\r\n      border: `1px solid ${theme.palette.neutralLight}`,\r\n      borderLeft: `10px solid ${theme.palette.neutralLight}`,\r\n      '& .task-paused-status': {\r\n        backgroundColor: theme.palette.neutralLight,\r\n      },\r\n    },\r\n  },\r\n  status: {\r\n    alignSelf: 'center',\r\n    display: 'inline',\r\n    minWidth: '80px',\r\n    position: 'absolute',\r\n    textAlign: 'center',\r\n    color: theme.palette.neutralLighterAlt,\r\n    padding: '2px 0',\r\n  },\r\n  collapse: {\r\n    width: '100%',\r\n    textAlign: 'center',\r\n    cursor: 'pointer',\r\n    outline: 'none',\r\n    marginBottom: theme.spacing.s2,\r\n  },\r\n  chevron: {\r\n    height: '100%',\r\n  },\r\n  chevronIcon: {\r\n    color: `${theme.palette.black} !important`,\r\n  },\r\n  rows: {\r\n    display: 'flex',\r\n    flexFlow: 'column nowrap',\r\n    flexGrow: '1',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    minHeight: 'inherit',\r\n    maxWidth: '75%',\r\n  },\r\n  taskDescription: {\r\n    display: 'flex',\r\n    flexFlow: 'column nowrap',\r\n    justifyContent: 'space-between',\r\n    width: '100%',\r\n    margin: '25px 0',\r\n  },\r\n  nowrap: {\r\n    whiteSpace: 'nowrap',\r\n    overflow: 'hidden',\r\n    textOverflow: 'ellipsis',\r\n  },\r\n  prewrap: {\r\n    whiteSpace: 'pre-wrap',\r\n  },\r\n  title: {\r\n    paddingLeft: theme.spacing.s1,\r\n  },\r\n  description: {\r\n    color: theme.palette.neutralSecondaryAlt,\r\n    paddingLeft: theme.spacing.s1,\r\n  },\r\n  time: {\r\n    paddingRight: theme.spacing.s1,\r\n    lineHeight: '10px',\r\n  },\r\n  column: {\r\n    display: 'flex',\r\n    flexFlow: 'column nowrap',\r\n  },\r\n}));\r\n\r\nconst TaskItem = ({ task, setTasks, handleStatusChange }) => {\r\n  const classes = useStyles();\r\n  const [time, setTime] = useState({\r\n    from: '00:00',\r\n    to: '00:00',\r\n  });\r\n  const [collapsed, setCollapsed] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (task) {\r\n      const startDate = new Date(task.expectedStartDate);\r\n      const finishDate = new Date(task.expectedFinishDate);\r\n      const [fromHours, fromMinutes, toHours, toMinutes] = [\r\n        `0${startDate.getHours()}`.slice(-2),\r\n        `0${startDate.getMinutes()}`.slice(-2),\r\n        `0${finishDate.getHours()}`.slice(-2),\r\n        `0${finishDate.getMinutes()}`.slice(-2),\r\n      ];\r\n      setTime(() => ({\r\n        from: `${fromHours}:${fromMinutes}`,\r\n        to: `${toHours}:${toMinutes}`,\r\n      }));\r\n    }\r\n  }, [task]);\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <div className={clsx(`task-${task.status.toLowerCase()}`, classes.column)}>\r\n        <span className={clsx([`task-${task.status.toLowerCase()}-status`, classes.status])}>\r\n          {task.status}\r\n        </span>\r\n        <div style={{\r\n          display: 'flex',\r\n          flexFlow: 'row nowrap',\r\n          justifyContent: 'space-between',\r\n          minHeight: 'inherit',\r\n          alignItems: 'center',\r\n        }}\r\n        >\r\n          <div className={classes.rows}>\r\n            <div className={classes.taskDescription}>\r\n              <Text variant=\"medium\" className={clsx([classes.title, collapsed && classes.nowrap])}>{task.title}</Text>\r\n              <Text variant=\"smallPlus\" className={clsx([classes.description, collapsed ? classes.nowrap : classes.prewrap])}>{task.description}</Text>\r\n            </div>\r\n          </div>\r\n          <div className={classes.time}>\r\n            <Text variant=\"smallPlus\">{time.from}</Text>\r\n            <Separator styles={{\r\n              root: {\r\n                padding: 0,\r\n              },\r\n            }}\r\n            />\r\n            <Text variant=\"smallPlus\">{time.to}</Text>\r\n          </div>\r\n        </div>\r\n        <TaskCollapsed\r\n          task={task}\r\n          setTasks={setTasks}\r\n          collapsed={collapsed}\r\n          setCollapsed={setCollapsed}\r\n          handleStatusChange={handleStatusChange}\r\n        />\r\n        <div\r\n          tabIndex=\"-1\"\r\n          role=\"button\"\r\n          onKeyDown={(evt) => evt.key === 'Enter' && setCollapsed((prev) => !prev)}\r\n          className={clsx(classes.collapse)}\r\n          onClick={() => setCollapsed((prev) => !prev)}\r\n        >\r\n          <ActionButton\r\n            className={classes.chevron}\r\n            iconProps={{\r\n              iconName: collapsed ? 'ChevronDown' : 'ChevronUp',\r\n              className: classes.chevronIcon,\r\n            }}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nTaskItem.propTypes = {\r\n  handleStatusChange: PropTypes.func.isRequired,\r\n  task: PropTypes.shape({\r\n    status: PropTypes.string,\r\n    title: PropTypes.string,\r\n    description: PropTypes.string,\r\n    expectedStartDate: PropTypes.oneOfType([PropTypes.string, PropTypes.instanceOf(Date)]),\r\n    expectedFinishDate: PropTypes.oneOfType([PropTypes.string, PropTypes.instanceOf(Date)]),\r\n  }).isRequired,\r\n  setTasks: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default TaskItem;\r\n","import TaskItem from './TaskItem';\r\n\r\nexport default TaskItem;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  makeStyles,\r\n  Persona, PersonaSize, Separator, Stack, StackItem,\r\n} from '@fluentui/react';\r\nimport TaskItem from '../task-item';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    flexFlow: 'column nowrap',\r\n    alignContent: 'center',\r\n    width: '300px',\r\n    minWidth: '300px',\r\n    minHeight: '400px',\r\n    maxHeight: '600px',\r\n    padding: '5px',\r\n    overflow: 'auto',\r\n    backgroundColor: theme.semanticColors.bodyBackground,\r\n    border: `2px solid ${theme.palette.neutralLight}`,\r\n    '& > * + *': {\r\n      marginTop: '2px',\r\n    },\r\n    marginTop: theme.spacing.l1,\r\n  },\r\n}));\r\n\r\nconst TaskContainer = ({\r\n  tasks,\r\n  setTasks,\r\n  handleStatusChange,\r\n  user,\r\n}) => {\r\n  const classes = useStyles();\r\n  return (\r\n    <div className={classes.root}>\r\n      <Stack horizontalAlign=\"stretch\" verticalAlign=\"stretch\">\r\n        <StackItem align=\"center\">\r\n          <Persona size={PersonaSize.size32} text={user?.username} />\r\n        </StackItem>\r\n        <Separator />\r\n        {\r\n          tasks.map((task) => (\r\n            <TaskItem\r\n              key={task.id}\r\n              task={task}\r\n              setTasks={setTasks}\r\n              handleStatusChange={handleStatusChange}\r\n            />\r\n          ))\r\n        }\r\n      </Stack>\r\n    </div>\r\n  );\r\n};\r\n\r\nTaskContainer.propTypes = {\r\n  user: PropTypes.shape({\r\n    username: PropTypes.string,\r\n  }),\r\n  handleStatusChange: PropTypes.func.isRequired,\r\n  tasks: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\r\n  setTasks: PropTypes.func.isRequired,\r\n};\r\n\r\nTaskContainer.defaultProps = {\r\n  user: null,\r\n};\r\n\r\nexport default TaskContainer;\r\n","import {\r\n  ComboBox, makeStyles, Stack, Text,\r\n} from '@fluentui/react';\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport constants from '../../../../utils/constants';\r\nimport DateUtils from '../../../../utils/date';\r\n\r\nconst hourOptions = [\r\n  { key: '00:00', text: '00:00' },\r\n  { key: '01:00', text: '01:00' },\r\n  { key: '02:00', text: '02:00' },\r\n  { key: '03:00', text: '03:00' },\r\n  { key: '04:00', text: '04:00' },\r\n  { key: '05:00', text: '05:00' },\r\n  { key: '06:00', text: '06:00' },\r\n  { key: '07:00', text: '07:00' },\r\n  { key: '08:00', text: '08:00' },\r\n  { key: '09:00', text: '09:00' },\r\n  { key: '10:00', text: '10:00' },\r\n  { key: '11:00', text: '11:00' },\r\n  { key: '12:00', text: '12:00' },\r\n  { key: '13:00', text: '13:00' },\r\n  { key: '14:00', text: '14:00' },\r\n  { key: '15:00', text: '15:00' },\r\n  { key: '16:00', text: '16:00' },\r\n  { key: '17:00', text: '17:00' },\r\n  { key: '18:00', text: '18:00' },\r\n  { key: '19:00', text: '19:00' },\r\n  { key: '20:00', text: '20:00' },\r\n  { key: '21:00', text: '21:00' },\r\n  { key: '22:00', text: '22:00' },\r\n  { key: '23:00', text: '23:00' },\r\n];\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  combo: {\r\n    width: 100,\r\n  },\r\n  space: {\r\n    padding: '0px 10px',\r\n  },\r\n  text: {\r\n    padding: '10px',\r\n  },\r\n}));\r\n\r\nconst WorkingHours = ({ hours, setHours }) => {\r\n  const classes = useStyles();\r\n\r\n  const handleChange = (type) => (evt, option) => {\r\n    const [hour, minute] = option.key.split(':').map((o) => +o);\r\n    setHours((prev) => ({\r\n      ...prev,\r\n      [type]: prev[type].set({ hour, minute }),\r\n    }));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Stack horizontalAlign=\"center\">\r\n        <Text className={classes.text} variant=\"medium\">Working hours</Text>\r\n        <Stack horizontalAlign=\"center\" horizontal verticalAlign=\"center\">\r\n          <ComboBox\r\n            className={classes.combo}\r\n            options={constants.timeOptions}\r\n            selectedKey={DateUtils.getNearestTimeUTC(hours.from.toJSDate()).toFormat('HH:mm')}\r\n            autoComplete=\"on\"\r\n            useComboBoxAsMenuWidth\r\n            calloutProps={{\r\n              calloutMaxHeight: 500,\r\n            }}\r\n            onChange={handleChange('from')}\r\n          />\r\n          <span className={classes.space}>-</span>\r\n          <ComboBox\r\n            className={classes.combo}\r\n            options={hourOptions}\r\n            selectedKey={DateUtils.getNearestTimeUTC(hours.to.toJSDate()).toFormat('HH:mm')}\r\n            autoComplete=\"on\"\r\n            useComboBoxAsMenuWidth\r\n            calloutProps={{\r\n              calloutMaxHeight: 500,\r\n            }}\r\n            onChange={handleChange('to')}\r\n          />\r\n        </Stack>\r\n      </Stack>\r\n    </>\r\n  );\r\n};\r\n\r\nWorkingHours.propTypes = {\r\n  hours: PropTypes.shape({\r\n    from: PropTypes.string,\r\n    to: PropTypes.string,\r\n  }).isRequired,\r\n  setHours: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default WorkingHours;\r\n","/* eslint-disable react/jsx-props-no-spreading */\r\nimport React, { createContext, useEffect, useState } from 'react';\r\nimport {\r\n  Dialog, DialogFooter, DialogType,\r\n} from '@fluentui/react';\r\nimport constants from '../../utils/constants';\r\n\r\nconst DialogContext = createContext({\r\n  isDialog: false,\r\n  isVisible: false,\r\n  setVisible: null,\r\n  show: null,\r\n  accept: null,\r\n  cancel: null,\r\n  resolve: null,\r\n  setResolve: null,\r\n  dialogFooter: null,\r\n  setDialogFooter: null,\r\n});\r\n\r\n/**\r\n * @param {Object} Component\r\n * @param {Object} options\r\n * @param {Function} options.onDismiss\r\n * @param {Boolean} options.isBlocking\r\n * @param {Number} options.type\r\n * @param {String} options.title\r\n * @param {String} options.subText\r\n * @param {Function} options.dialogFooter\r\n * @param {Object} componentProps\r\n */\r\nconst useDialog = (Component, options = {}, componentProps = {}) => {\r\n  const [visible, setVisible] = useState(false);\r\n  const [resolve, setResolve] = useState(null);\r\n  const [dialogFooter, setDialogFooter] = useState(() => options.dialogFooter);\r\n\r\n  useEffect(() => {\r\n    if (resolve && !visible) {\r\n      resolve(constants.dialogAnswers.No);\r\n    }\r\n  }, [resolve]);\r\n\r\n  const show = async () => {\r\n    setVisible(true);\r\n    return new Promise((res) => {\r\n      setResolve(() => (res));\r\n    });\r\n  };\r\n\r\n  const accept = () => {\r\n    if (resolve !== null) resolve(constants.dialogAnswers.Yes);\r\n    setVisible(false);\r\n  };\r\n\r\n  const cancel = () => {\r\n    if (resolve !== null) resolve(constants.dialogAnswers.No);\r\n    setVisible(false);\r\n  };\r\n\r\n  const [ctx] = useState({\r\n    isDialog: true,\r\n    isVisible: visible,\r\n    setVisible,\r\n    show,\r\n    accept,\r\n    cancel,\r\n    resolve,\r\n    setResolve,\r\n    dialogFooter,\r\n    setDialogFooter,\r\n  });\r\n\r\n  const render = (\r\n    visible\r\n      ? (\r\n        <DialogContext.Provider value={ctx}>\r\n          <Dialog\r\n            hidden={!visible}\r\n            onDismiss={options.onDismiss ?? (() => setVisible(false))}\r\n            modalProps={{\r\n              isBlocking: options.isBlocking ?? false,\r\n            }}\r\n            dialogContentProps={{\r\n              type: options.type ?? DialogType.normal,\r\n              title: options.title ?? 'Title',\r\n              subText: options.subText ?? '',\r\n            }}\r\n          >\r\n            <Component accept={accept} cancel={cancel} {...componentProps} />\r\n            {\r\n              dialogFooter\r\n                ? (\r\n                  <DialogFooter>\r\n                    { dialogFooter(accept, cancel) }\r\n                  </DialogFooter>\r\n                )\r\n                : null\r\n            }\r\n          </Dialog>\r\n        </DialogContext.Provider>\r\n      )\r\n      : null\r\n  );\r\n\r\n  return {\r\n    visible, setVisible, render, show,\r\n  };\r\n};\r\n\r\nexport default useDialog;\r\n\r\nexport {\r\n  DialogContext,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link, Separator, Text } from '@fluentui/react';\r\nimport { Link as RLink } from 'react-router-dom';\r\nimport TaskService from '../../../../services/tasks/TaskService';\r\nimport constants from '../../../../utils/constants';\r\n\r\nconst TaskBusyConflict = ({\r\n  accept, setTasks, conflictTasks = [],\r\n}) => {\r\n  const handleSubmit = async (e) => {\r\n    try {\r\n      e.preventDefault();\r\n      const paused = conflictTasks.map(\r\n        (ctask) => TaskService\r\n          .updateTaskStatus(\r\n            ctask.id,\r\n            { status: constants.tasks.status.Paused },\r\n          ),\r\n      );\r\n      // Update paused tasks\r\n      (await Promise.all(paused)).map(\r\n        (task) => setTasks((prev) => prev.map((t) => (t.id === task.result.id ? task.result : t))),\r\n      );\r\n    } finally {\r\n      accept();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form id=\"task-busy-resolve\" onSubmit={handleSubmit}>\r\n      <Text block variant=\"medium\">Following tasks are still busy:</Text>\r\n      <Separator />\r\n      { conflictTasks.map((ctask, idx) => (\r\n        <RLink to={`/tasks/${ctask.id}`} target=\"_blank\" component={Link}>\r\n          <Text variant=\"medium\">\r\n            {idx + 1}\r\n            .\r\n            {' '}\r\n            {ctask.title}\r\n            {` (${new Date(ctask.actualStartDate).toLocaleString()})`}\r\n          </Text>\r\n        </RLink>\r\n      )) }\r\n      <Separator />\r\n      <Text block variant=\"medium\">If you continue, above tasks will be paused.</Text>\r\n    </form>\r\n  );\r\n};\r\n\r\nTaskBusyConflict.propTypes = {\r\n  accept: PropTypes.func.isRequired,\r\n  setTasks: PropTypes.func.isRequired,\r\n  currentTask: PropTypes.shape({\r\n    id: PropTypes.string,\r\n  }).isRequired,\r\n  conflictTasks: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\r\n};\r\n\r\nexport default TaskBusyConflict;\r\n","import { useEffect, useState } from 'react';\r\n\r\nconst useLocalStorageState = (label, initialValue = [], transform = (d) => d) => {\r\n  const [data, setData] = useState(\r\n    transform(JSON.parse(localStorage.getItem(label))) ?? initialValue,\r\n  );\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(label, JSON.stringify(data));\r\n  }, [data]);\r\n\r\n  return [data, setData];\r\n};\r\n\r\nexport default useLocalStorageState;\r\n","import axios from 'axios';\r\nimport NotificationService from './NotificationService';\r\n\r\nconst ConnectionService = {\r\n  baseUrl: '/stream',\r\n  subscribePath: '/stream/subscribe',\r\n\r\n  async connectSSE() {\r\n    try {\r\n      const es = new EventSource(this.baseUrl);\r\n      return es;\r\n    } catch (err) {\r\n      return null;\r\n    }\r\n  },\r\n\r\n  async subscribe(data) {\r\n    try {\r\n      const response = await axios.post(this.subscribePath, data);\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService\r\n        .notifyError((err.response.data && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n};\r\n\r\nexport default ConnectionService;\r\n","import { useContext, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport GlobalContext from '../../../../services/GlobalContext';\r\nimport constants from '../../../../utils/constants';\r\n\r\nconst TaskLiveUpdate = ({ setTasks }) => {\r\n  const global = useContext(GlobalContext);\r\n\r\n  const handleMessage = async (evt) => {\r\n    const info = JSON.parse(evt.data);\r\n    if (info) {\r\n      if (info.action === constants.connections.actions.INSERT) {\r\n        // Insert\r\n      } else if (info.action === constants.connections.actions.UPDATE) {\r\n        if (info.initiator !== global.user.id) {\r\n          setTasks((prev) => prev.map((task) => (task.id === info.data.id ? info.data : task)));\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (global.connection) {\r\n      global.connection.addEventListener('message', handleMessage);\r\n    }\r\n    return () => {\r\n      if (global.connection) {\r\n        global.connection.removeEventListener('message', handleMessage);\r\n      }\r\n    };\r\n  }, [global.connection]);\r\n\r\n  return null;\r\n};\r\n\r\nTaskLiveUpdate.propTypes = {\r\n  setTasks: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default TaskLiveUpdate;\r\n","import {\r\n  ComboBox,\r\n  CommandBar, DefaultButton, Icon, makeStyles, PrimaryButton, Separator, Stack,\r\n} from '@fluentui/react';\r\nimport React, { useState, useContext, useEffect } from 'react';\r\nimport { Col, Container, Row } from 'react-grid-system';\r\nimport { DateTime } from 'luxon';\r\nimport { useFetch } from '../../services/hooks';\r\nimport DateUtils from '../../utils/date';\r\nimport TaskService from '../../services/tasks/TaskService';\r\nimport PageHeader from '../shared/page-header';\r\nimport usePanel from '../ui-hooks/usePanel';\r\nimport AddTask from './components/add-task';\r\nimport CurrentDate from './components/current-date/CurrentDate';\r\nimport TaskContainer from './components/task-container/TaskContainer';\r\nimport WorkingHours from './components/working-hours/WorkingHours';\r\nimport GlobalContext from '../../services/GlobalContext';\r\nimport useDialog from '../ui-hooks/useDialog';\r\nimport constants from '../../utils/constants';\r\nimport TaskBusyConflict from './components/task-busy-conflict/TaskBusyConflict';\r\nimport UserService from '../../services/UserService';\r\nimport useLocalStorageState from '../ui-hooks/useLocalStorage';\r\nimport ConnectionService from '../../services/ConnectionService';\r\nimport TaskLiveUpdate from './components/task-live-update/TaskLiveUpdate';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  searchIcon: {\r\n    color: theme.palette.themePrimary,\r\n    marginLeft: theme.spacing.s1,\r\n    marginRight: theme.spacing.s1,\r\n  },\r\n}));\r\n\r\nconst TaskDashboard = () => {\r\n  const classes = useStyles();\r\n  const global = useContext(GlobalContext);\r\n  const [users] = useFetch(UserService.teamUsersPath);\r\n  const [userOptions, setUserOptions] = useState([]);\r\n  const [selectedUsers, setSelectedUsers] = useLocalStorageState('DTSelectedUsers', [global.user.id]);\r\n  const [currentDate, setCurrentDate] = useState(new Date());\r\n  const [hours, setHours] = useLocalStorageState('DTWorkingHours', {\r\n    from: DateTime.utc().set({\r\n      hour: 9, minute: 0, second: 0, millisecond: 0,\r\n    }).toISO(),\r\n    to: DateTime.utc().set({\r\n      hour: 18, minute: 0, second: 0, millisecond: 0,\r\n    }).toISO(),\r\n  }, (h) => ({\r\n    from: DateTime.fromISO(h.from).toUTC(),\r\n    to: DateTime.fromISO(h.to).toUTC(),\r\n  }));\r\n  const options = {\r\n    params: {\r\n      fromDate: DateTime.fromJSDate(currentDate).toUTC().set({\r\n        hour: hours.from.hour,\r\n        minute: hours.from.minute,\r\n        second: 0,\r\n        millisecond: 0,\r\n      }).toJSDate(),\r\n      toDate: DateTime.fromJSDate(currentDate).toUTC().set({\r\n        hour: hours.to.hour,\r\n        minute: hours.to.minute,\r\n        second: 0,\r\n        millisecond: 0,\r\n      }).toJSDate(),\r\n      users: selectedUsers,\r\n    },\r\n  };\r\n  const [tasks, setTasks] = useFetch(\r\n    TaskService.baseUrl,\r\n    options,\r\n    [],\r\n    [currentDate, hours, selectedUsers],\r\n    (data) => data.map((task) => TaskService.createTaskObject(task)),\r\n  );\r\n\r\n  const handleTaskAdd = (task) => {\r\n    const expectedStart = DateTime.fromISO(task.expectedStartDate);\r\n    if (expectedStart >= hours.from && expectedStart <= hours.to) {\r\n      setTasks((prev) => prev.concat(TaskService.createTaskObject(task)));\r\n    }\r\n  };\r\n\r\n  const newPanel = usePanel(\r\n    AddTask, {\r\n      headerText: 'Create new task',\r\n      onRenderFooterContent: () => (\r\n        <PrimaryButton text=\"Create\" type=\"submit\" form=\"create-task-form\" />\r\n      ),\r\n    }, {\r\n      handleAdd: handleTaskAdd,\r\n    },\r\n  );\r\n  const [dialogProps, setDialogProps] = useState({});\r\n  const resolveBusyConflictDialog = useDialog(\r\n    TaskBusyConflict,\r\n    {\r\n      isBlocking: true,\r\n      title: 'Busy task found',\r\n      dialogFooter: (_accept, cancel) => (\r\n        <>\r\n          <DefaultButton onClick={cancel}>Cancel</DefaultButton>\r\n          <PrimaryButton style={{ marginLeft: '5px' }} form=\"task-busy-resolve\" type=\"submit\">Continue</PrimaryButton>\r\n        </>\r\n      ),\r\n    }, dialogProps,\r\n  );\r\n\r\n  useEffect(() => {\r\n    async function run() {\r\n      if (global.connectionId) {\r\n        await ConnectionService.subscribe({ to: selectedUsers, connectionId: global.connectionId });\r\n      }\r\n    }\r\n    run();\r\n  }, [selectedUsers, global.connectionId]);\r\n\r\n  // Update working hours when date is updated\r\n  useEffect(() => {\r\n    setHours((prev) => ({\r\n      from: DateTime.fromJSDate(DateUtils.setDateFromTo(currentDate, prev.from.toJSDate())).toUTC(),\r\n      to: DateTime.fromJSDate(DateUtils.setDateFromTo(currentDate, prev.to.toJSDate())).toUTC(),\r\n    }));\r\n  }, [currentDate]);\r\n\r\n  /**\r\n   * Update user options\r\n   */\r\n  useEffect(() => {\r\n    setUserOptions(users.map((user) => ({\r\n      key: user.id,\r\n      text: user.username,\r\n      data: user,\r\n    })));\r\n  }, [users]);\r\n\r\n  const handleUserSelect = (ev, option) => {\r\n    if (option.selected) {\r\n      setSelectedUsers((prev) => prev.concat(option.key));\r\n    } else {\r\n      setSelectedUsers((prev) => prev.filter((user) => user !== option.key));\r\n    }\r\n  };\r\n\r\n  const handleStatusChange = async (task, status) => {\r\n    if (status === constants.tasks.status.InProgress && !task.isBackgroundTask) {\r\n      // If status to be updated is in progress:\r\n      // 1. Check for conflicts first,\r\n      const conflicts = await TaskService.getBusyTasks({ user: global.user.id });\r\n      // if found, show the dialog\r\n      if (conflicts.length > 0) {\r\n        setDialogProps({\r\n          setTasks,\r\n          conflictTasks: conflicts,\r\n        });\r\n        const answer = await resolveBusyConflictDialog.show();\r\n        if (answer === constants.dialogAnswers.No) return;\r\n      }\r\n    }\r\n    const updated = await TaskService.updateTaskStatus(task.id, { status });\r\n    setTasks((ts) => (ts.map((t) => (t.id === task.id\r\n      ? TaskService.createTaskObject(updated.result)\r\n      : t))));\r\n    // if task was unpaused, update it too\r\n    if (updated.unpaused?.id) {\r\n      setTasks((ts) => (ts.map((t) => (t.id === updated.unpaused.id\r\n        ? TaskService.createTaskObject(updated.unpaused)\r\n        : t))));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <TaskLiveUpdate setTasks={setTasks} />\r\n      <Container lg>\r\n        <PageHeader text=\"Daily tasks\" />\r\n        <Row>\r\n          <Col xs={12}>\r\n            <CurrentDate currentDate={currentDate} setCurrentDate={setCurrentDate} />\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n            <WorkingHours hours={hours} date={currentDate} setHours={setHours} />\r\n          </Col>\r\n        </Row>\r\n        <Separator />\r\n        <Row>\r\n          <Col>\r\n            <CommandBar\r\n              items={[\r\n                {\r\n                  key: 'new',\r\n                  text: 'New',\r\n                  iconProps: {\r\n                    iconName: 'Add',\r\n                  },\r\n                  onClick: () => { newPanel.setOpen(true); },\r\n                },\r\n                {\r\n                  key: 'users',\r\n                  text: 'Users',\r\n                  iconProps: {\r\n                    iconName: 'ProfileSearch',\r\n                  },\r\n                  onRender: () => (\r\n                    <Stack horizontal horizontalAlign=\"center\" verticalAlign=\"center\">\r\n                      <Icon className={classes.searchIcon} iconName=\"ProfileSearch\" />\r\n                      <ComboBox\r\n                        autoComplete=\"on\"\r\n                        options={userOptions}\r\n                        multiSelect\r\n                        selectedKey={selectedUsers}\r\n                        openOnKeyboardFocus\r\n                        onChange={handleUserSelect}\r\n                        calloutProps={{\r\n                          calloutMaxHeight: 500,\r\n                        }}\r\n                      />\r\n                    </Stack>\r\n                  ),\r\n                },\r\n              ]}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Separator />\r\n        <Row justify=\"around\">\r\n          {\r\n              selectedUsers.map((selUser) => (\r\n                <TaskContainer\r\n                  key={selUser}\r\n                  tasks={\r\n                    tasks\r\n                      .filter((task) => task\r\n                        .assignedTo\r\n                        .find((user) => user.id === selUser) !== undefined)\r\n                      .sort((t1, t2) => (t1.expectedStartDate < t2.expectedStartDate ? -1 : 1))\r\n                    }\r\n                  user={users.find((u) => u.id === selUser)}\r\n                  setTasks={setTasks}\r\n                  handleStatusChange={handleStatusChange}\r\n                />\r\n              ))\r\n            }\r\n        </Row>\r\n      </Container>\r\n      {newPanel.render}\r\n      {resolveBusyConflictDialog.render}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TaskDashboard;\r\n","import NotificationService from '../services/NotificationService';\r\n\r\n/**\r\n * Wrapper around servise axios request\r\n * Does the call to the backend, checks for successfull return and returns data\r\n * if Failed, notifies the user\r\n * @param {Function} requestFunc\r\n * @returns Object\r\n */\r\nconst serviceRequestWrapper = async (\r\n  requestFunc,\r\n  successStatusCode = 200,\r\n  showNotification = true,\r\n) => {\r\n  try {\r\n    const response = await requestFunc();\r\n    if (response.status === successStatusCode) {\r\n      return response.data;\r\n    }\r\n    throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n  } catch (err) {\r\n    if (showNotification) {\r\n      NotificationService\r\n        .notifyError((err.response.data && err.response.data.error) || err.message);\r\n    }\r\n    throw err;\r\n  }\r\n};\r\n\r\nexport default serviceRequestWrapper;\r\n","import axios from 'axios';\r\nimport serviceRequestWrapper from '../../utils/serviceRequestWrapper';\r\n\r\nconst TaskFlowService = {\r\n  baseUrl: '/api/task-flows',\r\n  singleUrl: (id) => `/api/task-flows/${id}`,\r\n\r\n  async getTaskFlow(id) {\r\n    return serviceRequestWrapper(() => axios.get(this.singleUrl(id)));\r\n  },\r\n\r\n  async createTaskFlow(data) {\r\n    return serviceRequestWrapper(() => axios.post(this.baseUrl, data));\r\n  },\r\n\r\n  async updateTaskFlow(id, data) {\r\n    return serviceRequestWrapper(() => axios.put(this.singleUrl(id), data));\r\n  },\r\n};\r\n\r\nexport default TaskFlowService;\r\n","import React, { useContext, useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  DefaultButton, Dropdown, Label, PrimaryButton, Stack, SwatchColorPicker, TextField,\r\n} from '@fluentui/react';\r\nimport { PanelContext } from '../../../ui-hooks/usePanel';\r\nimport { useFetch } from '../../../../services/hooks';\r\nimport TeamService from '../../../../services/TeamService';\r\nimport NotificationService from '../../../../services/NotificationService';\r\nimport TaskFlowService from '../../../../services/tasks/TaskFlowService';\r\nimport constants from '../../../../utils/constants';\r\n\r\nconst AddFlow = ({ setFlows }) => {\r\n  const [teams] = useFetch(TeamService.baseUrl);\r\n  const [data, setData] = useState({\r\n    name: '',\r\n    teams: [],\r\n    color: '',\r\n  });\r\n  const panel = useContext(PanelContext);\r\n\r\n  const handleDataChange = (field, func = (args) => args[0].target.value) => (...args) => {\r\n    setData((prev) => ({\r\n      ...prev,\r\n      [field]: func(args),\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async (evt) => {\r\n    evt.preventDefault();\r\n    if (!data.name) {\r\n      return NotificationService.notifyError('Flow Name is missing');\r\n    } if (data.teams.length === 0) {\r\n      return NotificationService.notifyError('Please choose at least one team');\r\n    } if (!data.color) {\r\n      return NotificationService.notifyError('Color must be provided');\r\n    }\r\n    const createdFlow = await TaskFlowService.createTaskFlow(data);\r\n    if (createdFlow) {\r\n      setFlows((prev) => prev.concat(createdFlow));\r\n    }\r\n    if (panel.isPanel) panel.setOpen(false);\r\n    return null;\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (panel.isPanel) {\r\n      panel.setOnRenderFooter(() => (() => (\r\n        <Stack horizontal tokens={{ childrenGap: 2 }}>\r\n          <PrimaryButton text=\"Create\" type=\"submit\" form=\"add-flow-form\" />\r\n          <DefaultButton text=\"Close\" onClick={() => panel.setOpen(false)} />\r\n        </Stack>\r\n      )));\r\n    }\r\n  }, [panel]);\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} id=\"add-flow-form\">\r\n      <TextField\r\n        label=\"Name\"\r\n        value={data.name}\r\n        onChange={handleDataChange('name')}\r\n        placeholder=\"Flow name\"\r\n      />\r\n      <Dropdown\r\n        placeholder=\"Flow teams\"\r\n        label=\"Teams\"\r\n        selectedKeys={data.teams}\r\n        multiSelect\r\n        options={teams.map((team) => ({\r\n          key: team.id,\r\n          text: team.name,\r\n        }))}\r\n        // eslint-disable-next-line no-unused-vars\r\n        onChange={handleDataChange('teams', ([evt, option]) => {\r\n          if (option.selected) return data.teams.concat(option.key);\r\n          return data.teams.filter((team) => team !== option.key);\r\n        })}\r\n      />\r\n      <Label htmlFor=\"add-flow-color-picker\">Color</Label>\r\n      <SwatchColorPicker\r\n        id=\"add-flow-color-picker\"\r\n        columnCount={6}\r\n        cellHeight={35}\r\n        cellWidth={35}\r\n        cellShape=\"square\"\r\n        colorCells={constants.colors.map((color) => ({\r\n          id: color,\r\n          color,\r\n        }))}\r\n        selectedId={data.color}\r\n        onColorChanged={handleDataChange('color', ([id]) => id)}\r\n      />\r\n    </form>\r\n  );\r\n};\r\n\r\nAddFlow.propTypes = {\r\n  setFlows: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default AddFlow;\r\n","import React, { useContext, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  Checkbox,\r\n  DefaultButton, Dropdown, Label, PrimaryButton, Stack, SwatchColorPicker, TextField,\r\n} from '@fluentui/react';\r\nimport { useFetch } from '../../../../services/hooks';\r\nimport TaskFlowService from '../../../../services/tasks/TaskFlowService';\r\nimport TeamService from '../../../../services/TeamService';\r\nimport { PanelContext } from '../../../ui-hooks/usePanel';\r\nimport constants from '../../../../utils/constants';\r\n\r\nconst EditFlow = ({ id, setFlows }) => {\r\n  const [flow, setFlow] = useFetch(TaskFlowService.singleUrl(id), null, null, [], (data) => ({\r\n    name: data.name,\r\n    color: data.color,\r\n    isActive: data.isActive,\r\n    teams: data.teams.map((team) => team.id),\r\n  }));\r\n  const [teams] = useFetch(TeamService.baseUrl);\r\n  const panel = useContext(PanelContext);\r\n\r\n  const handleSubmit = async (evt) => {\r\n    evt.preventDefault();\r\n    const result = await TaskFlowService.updateTaskFlow(id, flow);\r\n    if (result) {\r\n      setFlows((prev) => (prev.map((fl) => (fl.id === result.id ? result : fl))));\r\n    }\r\n    if (panel.isPanel) panel.setOpen(false);\r\n  };\r\n\r\n  const handleDataChange = (field, func = (args) => args[0].target.value) => (...args) => {\r\n    setFlow((prev) => ({\r\n      ...prev,\r\n      [field]: func(args),\r\n    }));\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (panel.isPanel) {\r\n      panel.setOnRenderFooter(() => (() => (\r\n        <Stack horizontal tokens={{ childrenGap: 2 }}>\r\n          <PrimaryButton text=\"Update\" type=\"submit\" form=\"edit-flow-form\" />\r\n          <DefaultButton text=\"Close\" onClick={() => panel.setOpen(false)} />\r\n        </Stack>\r\n      )));\r\n    }\r\n  }, [panel]);\r\n\r\n  return flow !== null && (\r\n    <form onSubmit={handleSubmit} id=\"edit-flow-form\">\r\n      <TextField\r\n        label=\"Name\"\r\n        value={flow?.name}\r\n        onChange={handleDataChange('name')}\r\n        placeholder=\"Flow name\"\r\n      />\r\n      <Dropdown\r\n        placeholder=\"Flow teams\"\r\n        label=\"Teams\"\r\n        selectedKeys={flow?.teams}\r\n        multiSelect\r\n        options={teams.map((team) => ({\r\n          key: team.id,\r\n          text: team.name,\r\n        }))}\r\n        // eslint-disable-next-line no-unused-vars\r\n        onChange={handleDataChange('teams', ([evt, option]) => {\r\n          if (option.selected) return flow?.teams.concat(option.key);\r\n          return flow?.teams?.filter((team) => team !== option.key);\r\n        })}\r\n      />\r\n      <Label htmlFor=\"edit-flow-color-picker\">Color</Label>\r\n      <SwatchColorPicker\r\n        id=\"edit-flow-color-picker\"\r\n        columnCount={6}\r\n        cellHeight={35}\r\n        cellWidth={35}\r\n        cellShape=\"square\"\r\n        colorCells={constants.colors.map((color) => ({\r\n          id: color,\r\n          color,\r\n        }))}\r\n        selectedId={flow?.color}\r\n        onColorChanged={handleDataChange('color', ([colorId]) => colorId)}\r\n      />\r\n      <Checkbox\r\n        label=\"Active\"\r\n        checked={flow?.isActive}\r\n        // eslint-disable-next-line no-unused-vars\r\n        onChange={handleDataChange('isActive', ([ev, checked]) => checked)}\r\n      />\r\n    </form>\r\n  );\r\n};\r\n\r\nEditFlow.propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n  setFlows: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default EditFlow;\r\n","import TaskFlows from './TaskFlows';\r\n\r\nexport default TaskFlows;\r\n","import React, { useState } from 'react';\r\nimport { Col, Container, Row } from 'react-grid-system';\r\nimport {\r\n  DetailsListLayoutMode, PanelType, SelectionMode, Separator,\r\n} from '@fluentui/react';\r\nimport PageHeader from '../shared/page-header';\r\nimport CommandTable from '../shared/command-table/CommandTable';\r\nimport usePanel from '../ui-hooks/usePanel';\r\nimport AddFlow from './components/add-flow/AddFlow';\r\nimport { useFetch } from '../../services/hooks';\r\nimport TaskFlowService from '../../services/tasks/TaskFlowService';\r\nimport EditFlow from './components/edit-flow/EditFlow';\r\n\r\nconst TaskFlows = () => {\r\n  const [flows, setFlows] = useFetch(TaskFlowService.baseUrl);\r\n  const [selectionDetails, setSelectionDetails] = useState({\r\n    count: 0,\r\n    items: [],\r\n    indices: [],\r\n  });\r\n  const addFlowPanel = usePanel(AddFlow, {\r\n    id: 'add-flow-panel',\r\n    headerText: 'Create new flow',\r\n    isFooterAtBottom: true,\r\n    type: PanelType.smallFixedFar,\r\n    isLightDismiss: false,\r\n    onDismiss: (isOpen, setOpen) => (ev) => {\r\n      const panel = document.getElementById('add-flow-panel');\r\n      if (panel) {\r\n        if (panel.contains(ev.target)) {\r\n          setOpen(false);\r\n        }\r\n      }\r\n    },\r\n  }, { setFlows });\r\n\r\n  const editFlowPanel = usePanel(EditFlow, {\r\n    id: 'edit-flow-panel',\r\n    headerText: 'Update flow',\r\n    isFooterAtBottom: true,\r\n    type: PanelType.smallFixedFar,\r\n    isLightDismiss: false,\r\n  }, { id: selectionDetails.items[0]?.id, setFlows });\r\n\r\n  const [columns] = useState([\r\n    {\r\n      key: 'color',\r\n      name: ' Color',\r\n      fieldName: 'color',\r\n      isSortable: true,\r\n      isFilterable: true,\r\n      isResizable: false,\r\n      maxWidth: 50,\r\n      onRender: (item) => (\r\n        <div style={{\r\n          backgroundColor: item.color,\r\n          width: 20,\r\n          height: 20,\r\n        }}\r\n        />\r\n      ),\r\n    },\r\n    {\r\n      key: 'name',\r\n      name: ' Name',\r\n      fieldName: 'name',\r\n      isSortable: true,\r\n      isFilterable: true,\r\n      isResizable: true,\r\n      minWidth: 100,\r\n      maxWidth: 300,\r\n    },\r\n    {\r\n      key: 'status',\r\n      name: ' Status',\r\n      fieldName: 'isActive',\r\n      isSortable: true,\r\n      isFilterable: true,\r\n      isResizable: true,\r\n      onRender: (item) => (item.isActive ? 'Active' : 'Disabled'),\r\n      filterValueAccessor: (item) => (item.isActive ? 'Active' : 'Disabled'),\r\n      minWidth: 100,\r\n      maxWidth: 150,\r\n    },\r\n    {\r\n      key: 'teams',\r\n      name: ' Teams',\r\n      fieldName: 'teams',\r\n      isSortable: true,\r\n      isFilterable: true,\r\n      isResizable: true,\r\n      minWidth: 100,\r\n      maxWidth: 300,\r\n      onRender: (item) => item.teams.map((team) => team.name).join(', '),\r\n    },\r\n  ]);\r\n\r\n  return (\r\n    <Container md>\r\n      <Row>\r\n        <Col>\r\n          <PageHeader text=\"Task Flows\" />\r\n        </Col>\r\n      </Row>\r\n      <Separator />\r\n      <Row>\r\n        <Col>\r\n          <CommandTable\r\n            commandItems={[\r\n              {\r\n                key: 'add',\r\n                text: 'Add',\r\n                iconProps: { iconName: 'Add' },\r\n                onClick: () => addFlowPanel.setOpen(true),\r\n              },\r\n              {\r\n                key: 'edit',\r\n                text: 'Edit',\r\n                iconProps: { iconName: 'Edit' },\r\n                disabled: selectionDetails.items.length === 0,\r\n                onClick: () => editFlowPanel.setOpen(true),\r\n              },\r\n            ]}\r\n            tableProps={{\r\n              items: flows,\r\n              columns,\r\n              selectionMode: SelectionMode.single,\r\n              onItemInvoked: () => editFlowPanel.setOpen(true),\r\n              layoutMode: DetailsListLayoutMode.justified,\r\n              setSelectionDetails,\r\n            }}\r\n          />\r\n        </Col>\r\n      </Row>\r\n      {addFlowPanel.render}\r\n      {editFlowPanel.render}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default TaskFlows;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles, Text } from '@fluentui/react';\r\nimport clsx from 'clsx';\r\nimport Chip from '../../../shared/chip/Chip';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    backgroundColor: theme.palette.neutralLighter,\r\n    height: '100%',\r\n    textAlign: 'center',\r\n    display: 'flex',\r\n    flexFlow: 'column nowrap',\r\n    justifyContent: 'center',\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: theme.palette.themePrimary,\r\n    },\r\n  },\r\n  selected: {\r\n    backgroundColor: theme.palette.themeDark,\r\n  },\r\n  flowItem: {\r\n    padding: 3,\r\n  },\r\n  noSelect: {\r\n    userSelect: 'none',\r\n  },\r\n}));\r\n\r\nconst PlanningCell = ({\r\n  userFlows, handleClick, handleInvoke, isSelected,\r\n}) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div\r\n      role=\"button\"\r\n      tabIndex={0}\r\n      className={clsx([classes.root, isSelected && classes.selected])}\r\n      onClick={handleClick}\r\n      onKeyDown={(evt) => evt.code === 'Enter' && handleClick()}\r\n      onDoubleClick={handleInvoke}\r\n    >\r\n      {\r\n        !userFlows?.flows || userFlows?.flows?.length === 0\r\n          ? <Text className={classes.noSelect} variant=\"medium\">-</Text>\r\n          : (\r\n            <ul>\r\n              {Array.from(userFlows?.flows)?.map((f) => (\r\n                <li className={classes.flowItem} key={f.id}>\r\n                  <Chip\r\n                    className={classes.noSelect}\r\n                    style={{\r\n                      backgroundColor: f.color ?? 'transparent',\r\n                      padding: 3,\r\n                      whiteSpace: 'pre-wrap',\r\n                    }}\r\n                  >\r\n                    <Text variant=\"medium\">{f.name}</Text>\r\n                  </Chip>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          )\r\n      }\r\n    </div>\r\n  );\r\n};\r\n\r\nPlanningCell.propTypes = {\r\n  userFlows: PropTypes.shape({\r\n    flows: PropTypes.arrayOf(PropTypes.shape({})),\r\n  }),\r\n  handleClick: PropTypes.func.isRequired,\r\n  handleInvoke: PropTypes.func.isRequired,\r\n  isSelected: PropTypes.bool.isRequired,\r\n};\r\n\r\nPlanningCell.defaultProps = {\r\n  userFlows: null,\r\n};\r\n\r\nexport default PlanningCell;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Container } from 'react-grid-system';\r\nimport {\r\n  DetailsList,\r\n  DetailsListLayoutMode,\r\n  DetailsRow,\r\n  makeStyles,\r\n  Persona,\r\n  PersonaSize,\r\n  SelectionMode,\r\n  useTheme,\r\n} from '@fluentui/react';\r\nimport { DateTime } from 'luxon';\r\nimport PlanningCell from '../planning-cell/PlanningCell';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  row: {\r\n    color: theme.palette.black,\r\n  },\r\n}));\r\n\r\nconst PlanningMatrix = ({\r\n  userFlowMap, dates, users, selectedCell, setSelectedCell, handleInvoke,\r\n}) => {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const today = DateTime.now().toISODate();\r\n  const userCol = {\r\n    key: 'username',\r\n    name: 'Username',\r\n    fieldName: 'username',\r\n    maxWidth: 300,\r\n    onRender: (item) => (<Persona size={PersonaSize.size24} text={item.username} />),\r\n    isResizable: true,\r\n  };\r\n\r\n  const isSelected = (date, userId) => Boolean(selectedCell?.date\r\n      && selectedCell.date === date\r\n      && selectedCell?.user\r\n      && selectedCell.user === userId);\r\n\r\n  const handleSelectCell = (date, user) => () => {\r\n    setSelectedCell({\r\n      date, user,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Container fluid>\r\n      <DetailsList\r\n        layoutMode={DetailsListLayoutMode.fixedColumns}\r\n        onRenderRow={(props) => (\r\n          <DetailsRow\r\n            className={classes.row}\r\n            // eslint-disable-next-line react/jsx-props-no-spreading\r\n            {...props}\r\n            styles={{\r\n              root: {\r\n                '&:hover': {\r\n                  backgroundColor: 'transparent',\r\n                },\r\n              },\r\n            }}\r\n          />\r\n        )}\r\n        columns={[userCol].concat(dates.map((date) => ({\r\n          key: DateTime.fromJSDate(date).toISODate(),\r\n          name: DateTime.fromJSDate(date).toISODate(),\r\n          minWidth: 100,\r\n          styles: {\r\n            root: {\r\n              border: `1px solid ${DateTime.fromJSDate(date).toISODate() === today ? theme.palette.themePrimary : 'transparent'}`,\r\n            },\r\n          },\r\n          onRender: (item, idx, col) => (\r\n            <PlanningCell\r\n              // eslint-disable-next-line react/prop-types\r\n              userFlows={userFlowMap.get(item.id)?.get(col.key)}\r\n              handleClick={handleSelectCell(col.key, item.id)}\r\n              handleInvoke={handleInvoke}\r\n              isSelected={isSelected(col.key, item.id)}\r\n            />\r\n          ),\r\n        })))}\r\n        items={users}\r\n        selectionMode={SelectionMode.none}\r\n      />\r\n    </Container>\r\n  );\r\n};\r\n\r\nPlanningMatrix.propTypes = {\r\n  userFlowMap: PropTypes.instanceOf(Map).isRequired,\r\n  dates: PropTypes.arrayOf(PropTypes.instanceOf(Date)).isRequired,\r\n  users: PropTypes.arrayOf(PropTypes.shape({\r\n    id: PropTypes.string,\r\n    username: PropTypes.string,\r\n  })).isRequired,\r\n  selectedCell: PropTypes.shape({\r\n    date: PropTypes.string,\r\n    user: PropTypes.string,\r\n  }),\r\n  setSelectedCell: PropTypes.func.isRequired,\r\n  handleInvoke: PropTypes.func.isRequired,\r\n};\r\n\r\nPlanningMatrix.defaultProps = {\r\n  selectedCell: null,\r\n};\r\n\r\nexport default PlanningMatrix;\r\n","import axios from 'axios';\r\nimport serviceRequestWrapper from '../../utils/serviceRequestWrapper';\r\n\r\nconst TaskPlanningService = {\r\n  baseUrl: '/api/task-planning',\r\n  addFlowUrl: (planningId, flowId) => `/api/task-planning/${planningId}/add-flow/${flowId}`,\r\n  removeFlowUrl: (planningId, flowId) => `/api/task-planning/${planningId}/remove-flow/${flowId}`,\r\n\r\n  async createPlanning(date, user, flows) {\r\n    return serviceRequestWrapper(() => axios.post(this.baseUrl, {\r\n      date,\r\n      user,\r\n      flows: flows.map((f) => f.id),\r\n    }));\r\n  },\r\n\r\n  async addFlowToPlanning(planningId, flowId) {\r\n    return serviceRequestWrapper(() => axios.put(this.addFlowUrl(planningId, flowId)));\r\n  },\r\n\r\n  async removeFromFromPlanning(planningId, flowId) {\r\n    return serviceRequestWrapper(() => axios.delete(this.removeFlowUrl(planningId, flowId)));\r\n  },\r\n};\r\n\r\nexport default TaskPlanningService;\r\n","/* eslint-disable react/jsx-props-no-spreading */\r\nimport React, { useMemo } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  BasePickerListBelow, Checkbox, IconButton, Label, makeStyles, Stack, Text,\r\n} from '@fluentui/react';\r\nimport Chip from '../../../shared/chip';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {},\r\n  suggestionRoot: {\r\n    padding: theme.spacing.s2,\r\n  },\r\n  suggestionCheck: {\r\n    marginRight: theme.spacing.s2,\r\n    padding: theme.spacing.s2,\r\n    outline: 'none',\r\n  },\r\n  picker: {\r\n    '& input': {\r\n      backgroundColor: theme.palette.white,\r\n      color: theme.palette.neutralPrimary,\r\n    },\r\n  },\r\n  suggestion: {\r\n    padding: theme.spacing.s1,\r\n  },\r\n  colorBox: {\r\n    width: 20,\r\n    height: 20,\r\n    marginRight: theme.spacing.s1,\r\n  },\r\n  secondaryText: {\r\n    color: theme.palette.neutralSecondaryAlt,\r\n  },\r\n  item: {\r\n    marginTop: 4,\r\n    '&:first-child': {\r\n      marginTop: 8,\r\n    },\r\n  },\r\n  removeIcon: {\r\n    width: 32,\r\n    height: 32,\r\n  },\r\n}));\r\n\r\nconst FlowPicker = ({\r\n  label, options, onSelect, onRemove, selected, showDeleteIcon, showCheckboxes, ...props\r\n}) => {\r\n  const classes = useStyles();\r\n  const selectedSet = useMemo(() => new Set(selected.map((s) => s.key)), [selected]);\r\n\r\n  const handleCheckboxClick = (item) => (ev) => {\r\n    ev.preventDefault();\r\n    ev.stopPropagation();\r\n    if (selectedSet.has(item.key)) {\r\n      return onRemove(item);\r\n    }\r\n    return onSelect(item);\r\n  };\r\n\r\n  const renderSuggestionsItem = (item) => (\r\n    <Stack\r\n      className={classes.suggestionRoot}\r\n      key={item.key}\r\n      horizontalAlign=\"start\"\r\n      verticalAlign=\"center\"\r\n      horizontal\r\n    >\r\n      {\r\n        showCheckboxes\r\n        && (\r\n        <span\r\n          className={classes.suggestionCheck}\r\n          role=\"button\"\r\n          tabIndex={-1}\r\n          onKeyDown={(evt) => (evt.key === 'Space'\r\n            ? renderSuggestionsItem(item)()\r\n            : null)}\r\n          onClick={handleCheckboxClick(item)}\r\n        >\r\n          <Checkbox\r\n            checked={selectedSet.has(item.key)}\r\n          />\r\n        </span>\r\n        )\r\n      }\r\n      <div\r\n        className={classes.colorBox}\r\n        style={{\r\n          backgroundColor: item?.data?.color ?? 'transparent',\r\n        }}\r\n      />\r\n      <Stack horizontalAlign=\"start\">\r\n        <Text variant=\"mediumPlus\">{item.data.name}</Text>\r\n        <Text className={classes.secondaryText} variant=\"xSmall\">{item.data.teams.map((t) => t.name).join(', ')}</Text>\r\n      </Stack>\r\n    </Stack>\r\n  );\r\n\r\n  const renderItem = (details) => (\r\n    <Stack\r\n      key={details.item?.data?.id}\r\n      className={classes.item}\r\n      horizontalAlign=\"center\"\r\n      verticalAlign=\"center\"\r\n      horizontal\r\n    >\r\n      <Chip\r\n        style={{\r\n          backgroundColor: details.item?.data?.color ?? 'transparent',\r\n          padding: 3,\r\n          whiteSpace: 'pre-wrap',\r\n          width: '50%',\r\n          marginLeft: showDeleteIcon ? 32 : 0,\r\n        }}\r\n      >\r\n        <Text variant=\"medium\">{details.item?.data?.name}</Text>\r\n      </Chip>\r\n      {\r\n        showDeleteIcon\r\n      && (\r\n      <IconButton\r\n        className={classes.removeIcon}\r\n        iconProps={{\r\n          iconName: 'Delete',\r\n        }}\r\n        onClick={() => onRemove(details.item)}\r\n      />\r\n      )\r\n      }\r\n    </Stack>\r\n  );\r\n\r\n  const handleSelect = (item) => {\r\n    if (selectedSet.has(item.key)) {\r\n      return onRemove(item);\r\n    }\r\n    return onSelect(item);\r\n  };\r\n\r\n  return (\r\n    <div {...props}>\r\n      { label && (<Label>{label}</Label>) }\r\n      <BasePickerListBelow\r\n        inputProps={{\r\n          placeholder: 'Select...',\r\n        }}\r\n        className={classes.picker}\r\n        onRenderSuggestionsItem={renderSuggestionsItem}\r\n        onResolveSuggestions={(filter) => options\r\n          .filter((o) => o.data.name.toLowerCase().indexOf(filter.toLowerCase()) !== -1)}\r\n        resolveDelay={300}\r\n        onRenderItem={renderItem}\r\n        selectedItems={selected}\r\n        onEmptyResolveSuggestions={() => options}\r\n        onItemSelected={handleSelect}\r\n        pickerCalloutProps={{\r\n          preventDismissOnScroll: true,\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nFlowPicker.propTypes = {\r\n  label: PropTypes.string,\r\n  options: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\r\n  selected: PropTypes.arrayOf(String).isRequired,\r\n  onSelect: PropTypes.func.isRequired,\r\n  onRemove: PropTypes.func.isRequired,\r\n  showDeleteIcon: PropTypes.bool,\r\n  showCheckboxes: PropTypes.bool,\r\n  props: PropTypes.shape({\r\n    style: PropTypes.shape({}),\r\n  }),\r\n};\r\n\r\nFlowPicker.defaultProps = {\r\n  label: null,\r\n  props: null,\r\n  showCheckboxes: true,\r\n  showDeleteIcon: false,\r\n};\r\n\r\nexport default FlowPicker;\r\n","import FlowPicker from './FlowPicker';\r\n\r\nexport default FlowPicker;\r\n","import React, { useMemo } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@fluentui/react';\r\nimport FlowPicker from '../flow-picker';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    minWidth: 300,\r\n    minHeight: 200,\r\n  },\r\n  picker: {\r\n    '& input': {\r\n      backgroundColor: theme.palette.neutralLight,\r\n      color: theme.palette.neutralPrimary,\r\n    },\r\n  },\r\n  secondaryText: {\r\n    color: theme.palette.neutralSecondaryAlt,\r\n  },\r\n  suggestion: {\r\n    padding: theme.spacing.s1,\r\n  },\r\n  item: {\r\n    marginTop: theme.spacing.s1,\r\n  },\r\n  colorBox: {\r\n    width: 20,\r\n    height: 20,\r\n    marginRight: theme.spacing.s1,\r\n  },\r\n  focusPoint: {\r\n    visibility: 'hidden',\r\n    height: 0,\r\n    width: 0,\r\n    margin: 0,\r\n    padding: 0,\r\n    border: 'none',\r\n  },\r\n  removeIcon: {\r\n    width: 32,\r\n    height: 32,\r\n  },\r\n}));\r\n\r\nconst PlanningFlowsDialog = ({\r\n  planning, options, addFlow, removeFlow, users, user,\r\n}) => {\r\n  const classes = useStyles();\r\n\r\n  const validOptions = useMemo(() => {\r\n    const selected = new Set(planning?.flows?.map((f) => f.id));\r\n    const userTeams = new Set(\r\n      users.find((u) => u.id === user)?.teams?.map((t) => t.id),\r\n    );\r\n    const active = options.filter((o) => o.data.isActive);\r\n    const teamFlows = active.filter(\r\n      (o) => o.data.teams.filter((t) => userTeams.has(t.id)).length > 0,\r\n    );\r\n    return teamFlows.filter((o) => !selected.has(o.data.id));\r\n  }, [options, planning, users, user]);\r\n\r\n  const handleSelect = (item) => {\r\n    addFlow(planning, item.data);\r\n  };\r\n\r\n  const handleRemove = (item) => {\r\n    removeFlow(planning, item.data);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <input className={classes.focusPoint} />\r\n      <FlowPicker\r\n        options={validOptions}\r\n        showCheckboxes={false}\r\n        showDeleteIcon\r\n        onSelect={handleSelect}\r\n        onRemove={handleRemove}\r\n        selected={planning ? planning?.flows?.map((f) => ({ key: f.id, data: f })) : []}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nPlanningFlowsDialog.propTypes = {\r\n  planning: PropTypes.shape({\r\n    flows: PropTypes.arrayOf(PropTypes.shape({})),\r\n    user: PropTypes.shape({\r\n      id: PropTypes.string,\r\n    }).isRequired,\r\n  }).isRequired,\r\n  options: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\r\n  addFlow: PropTypes.func.isRequired,\r\n  removeFlow: PropTypes.func.isRequired,\r\n  users: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\r\n  user: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default PlanningFlowsDialog;\r\n","import PlanningFlowsDialog from './PlanningFlowsDialog';\r\n\r\nexport default PlanningFlowsDialog;\r\n","import React, { useMemo, useState } from 'react';\r\nimport { Col, Container, Row } from 'react-grid-system';\r\nimport {\r\n  Calendar,\r\n  ComboBox,\r\n  CommandBar,\r\n  DateRangeType,\r\n  DialogType,\r\n  Icon,\r\n  makeStyles,\r\n  PrimaryButton,\r\n  Separator,\r\n  Stack,\r\n} from '@fluentui/react';\r\nimport { DateTime } from 'luxon';\r\nimport PageHeader from '../shared/page-header';\r\nimport PlanningMatrix from './components/planning-matrix/PlanningMatrix';\r\nimport { useFetch } from '../../services/hooks';\r\nimport TeamService from '../../services/TeamService';\r\nimport TaskPlanningService from '../../services/tasks/TaskPlanningService';\r\nimport useLocalStorageState from '../ui-hooks/useLocalStorage';\r\nimport UserService from '../../services/UserService';\r\nimport DateUtils from '../../utils/date';\r\nimport useDialog from '../ui-hooks/useDialog';\r\nimport PlanningFlowsDialog from './components/planning-flows-dialog';\r\nimport TaskFlowService from '../../services/tasks/TaskFlowService';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  searchIcon: {\r\n    color: theme.palette.themePrimary,\r\n    marginLeft: theme.spacing.s1,\r\n    marginRight: theme.spacing.s1,\r\n  },\r\n}));\r\n\r\nconst TaskPlanning = () => {\r\n  const classes = useStyles();\r\n  const [date, setDate] = useState(new Date());\r\n  const [dates, setDates] = useState(DateUtils.getWeekFromDate(date, 1));\r\n  const [flows] = useFetch(TaskFlowService.baseUrl);\r\n  const [selectedCell, setSelectedCell] = useState(null);\r\n  const [teams] = useFetch(\r\n    TeamService.baseUrl,\r\n    null, [], [],\r\n    (data) => data.map((team) => ({\r\n      key: team.id,\r\n      text: team.name,\r\n      data: team,\r\n    })),\r\n  );\r\n  const [selectedTeam, setSelectedTeam] = useLocalStorageState('TaskPlanningSelectedTeam', null);\r\n  const [users] = useFetch(\r\n    UserService.baseUrl,\r\n    {\r\n      params: {\r\n        teams: [selectedTeam],\r\n      },\r\n    }, [], [selectedTeam],\r\n  );\r\n  const [data, setData] = useFetch(\r\n    TaskPlanningService.baseUrl,\r\n    {\r\n      params: {\r\n        dateFrom: DateUtils.makeUTCDateOnly(dates[0]),\r\n        dateTo: DateUtils.makeUTCDateOnly(dates[dates.length - 1]),\r\n        teams: [selectedTeam],\r\n      },\r\n    },\r\n    [],\r\n    [selectedTeam, dates],\r\n  );\r\n\r\n  const userFlowMap = useMemo(() => {\r\n    const result = new Map();\r\n    // Insert all users in the map\r\n    users.forEach((user) => result.set(user.id, new Map()));\r\n    // For each planning item, assign info to the appropriate user\r\n    data.forEach((item) => {\r\n      if (result.has(item.user?.id)) {\r\n        result.get(item.user.id).set(DateTime.fromISO(item.date).toUTC().toISODate(), item);\r\n      }\r\n    });\r\n    return result;\r\n  }, [data, users]);\r\n\r\n  const handleAddFlow = async (planning, flow) => {\r\n    if (!planning) {\r\n      const result = await TaskPlanningService\r\n        .createPlanning(selectedCell.date, selectedCell.user, [flow]);\r\n      setData((prev) => prev.concat(result));\r\n    } else {\r\n      const result = await TaskPlanningService\r\n        .addFlowToPlanning(planning.id, flow.id);\r\n      setData((prev) => prev.map((plan) => (plan.id === result.id ? result : plan)));\r\n    }\r\n  };\r\n\r\n  const handleRemoveFlow = async (planning, flow) => {\r\n    if (planning?.id) {\r\n      const result = await TaskPlanningService.removeFromFromPlanning(planning.id, flow.id);\r\n      setData((prev) => prev.map((plan) => (plan.id === result.id ? result : plan)));\r\n    }\r\n  };\r\n\r\n  const flowsDialog = useDialog(\r\n    PlanningFlowsDialog,\r\n    {\r\n      title: 'Details',\r\n      type: DialogType.largeHeader,\r\n      dialogFooter: () => (\r\n        // eslint-disable-next-line jsx-a11y/tabindex-no-positive\r\n        <PrimaryButton tabIndex={1} onClick={() => flowsDialog.setVisible(false)} text=\"Close\" />\r\n      ),\r\n    }, {\r\n      planning: userFlowMap.get(selectedCell?.user)?.get(selectedCell?.date),\r\n      options: flows.map((f) => ({\r\n        key: f.id,\r\n        data: f,\r\n      })),\r\n      addFlow: handleAddFlow,\r\n      removeFlow: handleRemoveFlow,\r\n      users,\r\n      user: selectedCell?.user,\r\n    },\r\n  );\r\n\r\n  const handleInvoke = () => {\r\n    flowsDialog.setVisible(true);\r\n  };\r\n\r\n  const handleSelectWeek = (selDate, selDates) => {\r\n    setDate(selDate);\r\n    setDates(selDates);\r\n  };\r\n\r\n  return (\r\n    <Container md>\r\n      <Row>\r\n        <Col>\r\n          <PageHeader text=\"Task Planning\" />\r\n        </Col>\r\n      </Row>\r\n      <Separator />\r\n      <CommandBar\r\n        items={[\r\n          {\r\n            key: 'add',\r\n            text: 'Add',\r\n            iconProps: {\r\n              iconName: 'Add',\r\n            },\r\n            disabled: selectedCell === null,\r\n          },\r\n          {\r\n            key: 'copy',\r\n            text: 'Copy',\r\n            iconProps: {\r\n              iconName: 'Copy',\r\n            },\r\n            disabled: selectedCell === null,\r\n          },\r\n          {\r\n            key: 'paste',\r\n            text: 'Paste',\r\n            iconProps: {\r\n              iconName: 'Paste',\r\n            },\r\n            disabled: selectedCell === null,\r\n          },\r\n          {\r\n            key: 'copymult',\r\n            text: 'Copy mult.',\r\n            iconProps: {\r\n              iconName: 'Copy',\r\n            },\r\n            disabled: selectedCell === null,\r\n          },\r\n          {\r\n            key: 'teams',\r\n            text: 'Teams',\r\n            iconProps: {\r\n              iconName: 'Search',\r\n            },\r\n            onRender: () => (\r\n              <Stack horizontal horizontalAlign=\"center\" verticalAlign=\"center\">\r\n                <Icon className={classes.searchIcon} iconName=\"ProfileSearch\" />\r\n                <ComboBox\r\n                  placeholder=\"Teams\"\r\n                  autoComplete=\"on\"\r\n                  options={teams}\r\n                  selectedKey={selectedTeam}\r\n                  openOnKeyboardFocus\r\n                  onChange={(evt, option) => setSelectedTeam(option.key)}\r\n                  calloutProps={{\r\n                    calloutMaxHeight: 500,\r\n                  }}\r\n                  useComboBoxAsMenuWidth\r\n                />\r\n              </Stack>\r\n            ),\r\n          },\r\n        ]}\r\n      />\r\n      <Separator />\r\n      <Row>\r\n        <Calendar\r\n          isMonthPickerVisible={false}\r\n          dateRangeType={DateRangeType.Week}\r\n          showWeekNumbers\r\n          showSixWeeksByDefault\r\n          showGoToToday\r\n          value={date}\r\n          onSelectDate={handleSelectWeek}\r\n          firstDayOfWeek={1}\r\n        />\r\n        <Col>\r\n          <PlanningMatrix\r\n            userFlowMap={userFlowMap}\r\n            users={users}\r\n            dates={dates}\r\n            selectedCell={selectedCell}\r\n            setSelectedCell={setSelectedCell}\r\n            handleInvoke={handleInvoke}\r\n          />\r\n        </Col>\r\n      </Row>\r\n      {flowsDialog.render}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default TaskPlanning;\r\n","import axios from 'axios';\r\nimport NotificationService from '../NotificationService';\r\n\r\nconst TaskRuleService = {\r\n  baseUrl: '/api/task-rules',\r\n  taskRulePath: (id) => `/api/task-rules/${id}`,\r\n\r\n  async getTaskRules(params = {}) {\r\n    try {\r\n      const response = await axios.get(this.baseUrl, {\r\n        params,\r\n      });\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.data} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async getTaskRule() {\r\n    try {\r\n      // pass\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async createTaskRule(data) {\r\n    try {\r\n      const response = await axios.post(this.baseUrl, data);\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.data} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async updateTaskRule(id, data) {\r\n    try {\r\n      const response = await axios.put(this.taskRulePath(id), data);\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.data} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async deleteTaskRule() {\r\n    try {\r\n      // pass\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n};\r\n\r\nexport default TaskRuleService;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  Checkbox, ChoiceGroup, Stack, makeStyles, Dropdown, SpinButton, Position,\r\n} from '@fluentui/react';\r\nimport constants from '../../../../utils/constants';\r\n\r\nconst monthlyOptions = [\r\n  {\r\n    key: constants.tasks.MonthlyOnType.Day,\r\n    text: 'Callendar day',\r\n  },\r\n  {\r\n    key: constants.tasks.MonthlyOnType.Workday,\r\n    text: 'Workday',\r\n  },\r\n  {\r\n    key: constants.tasks.MonthlyOnType.Monday,\r\n    text: 'Monday',\r\n  },\r\n  {\r\n    key: constants.tasks.MonthlyOnType.Tuesday,\r\n    text: 'Tuesday',\r\n  },\r\n  {\r\n    key: constants.tasks.MonthlyOnType.Wednesday,\r\n    text: 'Wednesday',\r\n  },\r\n  {\r\n    key: constants.tasks.MonthlyOnType.Thursday,\r\n    text: 'Thursday',\r\n  },\r\n  {\r\n    key: constants.tasks.MonthlyOnType.Friday,\r\n    text: 'Friday',\r\n  },\r\n  {\r\n    key: constants.tasks.MonthlyOnType.Saturday,\r\n    text: 'Saturday',\r\n  },\r\n  {\r\n    key: constants.tasks.MonthlyOnType.Sunday,\r\n    text: 'Sunday',\r\n  },\r\n];\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  weeklyCheck: {\r\n    '& > * + *': {\r\n      marginTop: `${theme.spacing.s2} !important`,\r\n    },\r\n  },\r\n  monthlyCheck: {\r\n    '& > * + *': {\r\n      marginTop: `${theme.spacing.s2} !important`,\r\n    },\r\n  },\r\n  monthlyDropdown: {\r\n    marginBottom: theme.spacing.m,\r\n  },\r\n}));\r\n\r\nconst AddRuleType = ({ data, setData }) => {\r\n  const classes = useStyles();\r\n  const options = [\r\n    { key: 'Work', text: 'Workday' },\r\n    { key: 'Calendar', text: 'Calendar day' },\r\n  ];\r\n\r\n  const handleSetWeeklyData = (day) => (evt, checked) => {\r\n    const dt = data.weeklyDays ?? [];\r\n    if (checked) {\r\n      return setData((prev) => ({\r\n        ...prev,\r\n        weeklyDays: dt.concat(day).sort(),\r\n      }));\r\n    }\r\n    return setData((prev) => ({\r\n      ...prev,\r\n      weeklyDays: dt.filter((d) => d !== day).sort(),\r\n    }));\r\n  };\r\n\r\n  const handleSetMonths = (month) => (evt, checked) => {\r\n    const dt = data.monthlyMonths ?? [];\r\n    if (checked) {\r\n      return setData((prev) => ({\r\n        ...prev,\r\n        monthlyMonths: dt.concat(month).sort(),\r\n      }));\r\n    }\r\n    return setData((prev) => ({\r\n      ...prev,\r\n      monthlyMonths: dt.filter((d) => d !== month).sort(),\r\n    }));\r\n  };\r\n\r\n  const isDaySelected = (day) => {\r\n    if (!data.weeklyDays) return false;\r\n    return data.weeklyDays.indexOf(day) !== -1;\r\n  };\r\n\r\n  let render;\r\n\r\n  switch (data.type) {\r\n    case constants.tasks.types.Daily:\r\n      render = (\r\n        <>\r\n          <ChoiceGroup\r\n            label=\"Day type\"\r\n            defaultSelectedKey={data.dailyType}\r\n            options={options}\r\n            onChange={(ev, option) => setData((prev) => ({\r\n              ...prev,\r\n              dailyType: option.key,\r\n            }))}\r\n          />\r\n        </>\r\n      );\r\n      break;\r\n    case constants.tasks.types.Weekly:\r\n      render = (\r\n        <Stack className={classes.weeklyCheck} verticalFill verticalAlign=\"start\">\r\n          <Checkbox onChange={handleSetWeeklyData(1)} checked={isDaySelected(1)} label=\"Monday\" />\r\n          <Checkbox onChange={handleSetWeeklyData(2)} checked={isDaySelected(2)} label=\"Tuesday\" />\r\n          <Checkbox onChange={handleSetWeeklyData(3)} checked={isDaySelected(3)} label=\"Wednesday\" />\r\n          <Checkbox onChange={handleSetWeeklyData(4)} checked={isDaySelected(4)} label=\"Thursday\" />\r\n          <Checkbox onChange={handleSetWeeklyData(5)} checked={isDaySelected(5)} label=\"Friday\" />\r\n          <Checkbox onChange={handleSetWeeklyData(6)} checked={isDaySelected(6)} label=\"Saturday\" />\r\n          <Checkbox onChange={handleSetWeeklyData(7)} checked={isDaySelected(7)} label=\"Sunday\" />\r\n        </Stack>\r\n      );\r\n      break;\r\n    case constants.tasks.types.Monthly:\r\n      render = (\r\n        <Stack verticalAlign=\"start\" verticalFill>\r\n          <SpinButton\r\n            value={data.monthlyOn}\r\n            onChange={(evt, newVal) => {\r\n              if (newVal && !Number.isNaN(+newVal)) {\r\n                setData((prev) => ({\r\n                  ...prev,\r\n                  monthlyOn: +newVal,\r\n                }));\r\n              }\r\n            }}\r\n            min={1}\r\n            max={31}\r\n            label=\"On\"\r\n            incrementButtonAriaLabel=\"Increase value by 1\"\r\n            decrementButtonAriaLabel=\"Decrease value by 1\"\r\n            labelPosition={Position.top}\r\n          />\r\n          <Dropdown\r\n            className={classes.monthlyDropdown}\r\n            options={monthlyOptions}\r\n            placeHolder=\"Select\"\r\n            onChange={(evt, option) => setData((prev) => ({\r\n              ...prev,\r\n              monthlyOnType: option.key,\r\n            }))}\r\n            label=\"Type\"\r\n          />\r\n          <Checkbox className={classes.monthlyCheck} onChange={handleSetMonths(0)} label=\"January\" />\r\n          <Checkbox className={classes.monthlyCheck} onChange={handleSetMonths(1)} label=\"February\" />\r\n          <Checkbox className={classes.monthlyCheck} onChange={handleSetMonths(2)} label=\"March\" />\r\n          <Checkbox className={classes.monthlyCheck} onChange={handleSetMonths(3)} label=\"April\" />\r\n          <Checkbox className={classes.monthlyCheck} onChange={handleSetMonths(4)} label=\"May\" />\r\n          <Checkbox className={classes.monthlyCheck} onChange={handleSetMonths(5)} label=\"June\" />\r\n          <Checkbox className={classes.monthlyCheck} onChange={handleSetMonths(6)} label=\"July\" />\r\n          <Checkbox className={classes.monthlyCheck} onChange={handleSetMonths(7)} label=\"August\" />\r\n          <Checkbox className={classes.monthlyCheck} onChange={handleSetMonths(8)} label=\"September\" />\r\n          <Checkbox className={classes.monthlyCheck} onChange={handleSetMonths(9)} label=\"October\" />\r\n          <Checkbox className={classes.monthlyCheck} onChange={handleSetMonths(10)} label=\"November\" />\r\n          <Checkbox className={classes.monthlyCheck} onChange={handleSetMonths(11)} label=\"December\" />\r\n        </Stack>\r\n      );\r\n      break;\r\n    default:\r\n      render = null;\r\n      break;\r\n  }\r\n\r\n  return render;\r\n};\r\n\r\nAddRuleType.propTypes = {\r\n  setData: PropTypes.func.isRequired,\r\n  data: PropTypes.shape({\r\n    type: PropTypes.string,\r\n    dailyType: PropTypes.string,\r\n  }).isRequired,\r\n};\r\n\r\nexport default AddRuleType;\r\n","import React, { useRef, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  Checkbox,\r\n  Dropdown,\r\n  makeStyles,\r\n  Position,\r\n  SpinButton,\r\n  TextField,\r\n  DatePicker,\r\n  Separator,\r\n  MaskedTextField,\r\n} from '@fluentui/react';\r\nimport { DateTime } from 'luxon';\r\nimport constants from '../../../../utils/constants';\r\nimport UserService from '../../../../services/UserService';\r\nimport AddRuleType from '../add-rule-type/AddRuleType';\r\nimport TaskRuleService from '../../../../services/tasks/TaskRuleService';\r\nimport NotificationService from '../../../../services/NotificationService';\r\nimport { useFetch } from '../../../../services/hooks';\r\nimport DateUtils from '../../../../utils/date';\r\nimport PeoplePicker from '../../../shared/people-picker/PeoplePicker';\r\nimport FlowPicker from '../../../task-planning/components/flow-picker';\r\nimport TaskFlowService from '../../../../services/tasks/TaskFlowService';\r\n\r\nconst { tasks } = constants;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  form: {\r\n    '& > * + *': {\r\n      paddingTop: theme.spacing.s1,\r\n    },\r\n  },\r\n}));\r\n\r\nconst AddRule = ({ setRules, setOpen }) => {\r\n  const classes = useStyles();\r\n  const [users] = useFetch(UserService.teamUsersPath,\r\n    null, [], [],\r\n    (dt) => dt.map((user) => ({\r\n      key: user.id,\r\n      data: user,\r\n    })));\r\n  const [flows] = useFetch(TaskFlowService.baseUrl,\r\n    null, [], [],\r\n    (dt) => dt.map((flow) => ({\r\n      key: flow.id,\r\n      data: flow,\r\n    })));\r\n  const [data, setData] = useState({\r\n    title: '',\r\n    description: '',\r\n    type: tasks.types.Daily,\r\n    dailyType: tasks.DayTypes.Workday,\r\n    isBackgroundTask: false,\r\n    isSharedTask: false,\r\n    taskStartTime: DateUtils.getNearestTimeUTC(DateUtils.transform2UTCDate(new Date())).toJSDate(),\r\n    validFrom: new Date(),\r\n    taskDuration: 60,\r\n    users: [],\r\n    flows: [],\r\n    zone: DateTime.local().zoneName,\r\n  });\r\n  const typeOptions = useRef(Object.keys(tasks.types).map((t) => ({\r\n    key: t,\r\n    text: t,\r\n  })));\r\n\r\n  const handleTypeChange = (evt, item) => {\r\n    setData((prev) => ({\r\n      ...prev,\r\n      type: item.key,\r\n    }));\r\n  };\r\n\r\n  const handleSelectDate = (field) => (date) => {\r\n    setData((prev) => ({\r\n      ...prev,\r\n      [field]: new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate(), 0, 0, 0)),\r\n    }));\r\n  };\r\n\r\n  const handleDataChange = (field, func = (args) => args[0].target.value) => (...args) => {\r\n    setData((prev) => ({\r\n      ...prev,\r\n      [field]: func(args),\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async (evt) => {\r\n    evt.preventDefault();\r\n    if (data.validFrom && data.validTo && data.validTo < data.validFrom) {\r\n      await NotificationService.notifyError(\"'Valid From' cannot be bigger than 'Valid To'\");\r\n      return;\r\n    }\r\n    // Send weeklyDays as an Array of dates instead of numbers\r\n    if (data.weeklyDays && data.weeklyDays.length) {\r\n      data.weeklyDays = data.weeklyDays.map((day) => {\r\n        const date = DateTime.local().toUTC().set({\r\n          weekday: day,\r\n        });\r\n        return date;\r\n      });\r\n    }\r\n    if (data.monthlyMonths && data.monthlyMonths.length) {\r\n      data.monthlyMonths = data.monthlyMonths.map((month) => {\r\n        const date = new Date(2020, 1, 1);\r\n        date.setMonth(month);\r\n        date.setHours(data.taskStartTime.getHours());\r\n        date.setMinutes(data.taskStartTime.getMinutes());\r\n        return date;\r\n      });\r\n    }\r\n    const result = await TaskRuleService.createTaskRule({\r\n      ...data,\r\n      users: data.users.map((u) => u.id),\r\n      flows: data.flows.map((f) => f.id),\r\n    });\r\n    setRules((prev) => [...prev, result]);\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <form className={classes.form} id=\"add-task-rule-form\" onSubmit={handleSubmit}>\r\n      <TextField\r\n        required\r\n        label=\"Title\"\r\n        value={data.title}\r\n        onChange={handleDataChange('title')}\r\n        name=\"task-rule-title\"\r\n      />\r\n      <TextField\r\n        label=\"Description\"\r\n        multiline\r\n        name=\"task-rule-description\"\r\n        onChange={handleDataChange('description')}\r\n        value={data.description}\r\n      />\r\n      <Dropdown\r\n        label=\"Type\"\r\n        selectedKey={data.type}\r\n        onChange={handleTypeChange}\r\n        options={typeOptions.current}\r\n        name=\"task-rule-type\"\r\n      />\r\n      <AddRuleType data={data} setData={setData} />\r\n      <MaskedTextField\r\n        label=\"Start time\"\r\n        mask=\"99:99\"\r\n        maskChar=\"0\"\r\n        value={DateTime.fromJSDate(data.taskStartTime).toUTC().toFormat('HH:mm')}\r\n        onChange={handleDataChange('taskStartTime', (args) => DateTime.fromISO(DateUtils.getValidTimeStringUTC(args[1])).toJSDate())}\r\n      />\r\n      <MaskedTextField\r\n        label=\"End time\"\r\n        mask=\"99:99\"\r\n        maskChar=\"0\"\r\n        value={DateUtils.getEndTimeTextUTC(\r\n          data.taskStartTime,\r\n          data.taskDuration,\r\n        )}\r\n        onChange={\r\n              handleDataChange('taskDuration', (args) => {\r\n                const validTime = DateUtils.getValidTimeStringUTC(args[1]);\r\n                // Check if end time is after start time\r\n                const startDT = DateTime.fromJSDate(data.taskStartTime);\r\n                const endDT = DateTime.fromISO(validTime);\r\n                if (endDT < startDT) return 0;\r\n                return endDT.diff(startDT, 'minute')?.values?.minutes ?? 0;\r\n              })\r\n        }\r\n      />\r\n      <SpinButton\r\n        label=\"Duration (min)\"\r\n        value={data.taskDuration}\r\n        onChange={(evt) => {\r\n          let val = +evt.target.value;\r\n          if (Number.isNaN(val)) val = 0;\r\n          setData((prev) => ({ ...prev, taskDuration: val }));\r\n        }}\r\n        onIncrement={(val) => setData((prev) => ({ ...prev, taskDuration: (+val + 10) }))}\r\n        onDecrement={(val) => {\r\n          if (val > 10) setData((prev) => ({ ...prev, taskDuration: (+val - 10) }));\r\n        }}\r\n        min={0}\r\n        step={10}\r\n        incrementButtonAriaLabel=\"Increase value by 10\"\r\n        decrementButtonAriaLabel=\"Decrease value by 10\"\r\n        labelPosition={Position.top}\r\n      />\r\n      <DatePicker\r\n        required\r\n        label=\"Valid From\"\r\n        value={data.validFrom}\r\n        onSelectDate={handleSelectDate('validFrom')}\r\n      />\r\n      <DatePicker\r\n        label=\"Valid To\"\r\n        value={data.validTo}\r\n        onSelectDate={handleSelectDate('validTo')}\r\n      />\r\n      <Checkbox\r\n        className={classes.checkbox}\r\n        label=\"Background\"\r\n        value={data.isBackgroundTask}\r\n        onChange={(ev, checked) => setData((prev) => ({\r\n          ...prev,\r\n          isBackgroundTask: checked,\r\n        }))}\r\n      />\r\n      <Checkbox\r\n        className={classes.checkbox}\r\n        label=\"Shared\"\r\n        value={data.isSharedTask}\r\n        onChange={(ev, checked) => setData((prev) => ({\r\n          ...prev,\r\n          isSharedTask: checked,\r\n        }))}\r\n      />\r\n      <PeoplePicker\r\n        label=\"Assigned to (Users)\"\r\n        options={users}\r\n        onSelect={(u) => setData((prev) => ({\r\n          ...prev,\r\n          users: prev.users.concat(u.data),\r\n        }))}\r\n        onRemove={(u) => setData((prev) => ({\r\n          ...prev,\r\n          users: prev.users.filter((user) => user.id !== u.data.id),\r\n        }))}\r\n        selected={data.users?.map((u) => ({ key: u.id, data: u }))}\r\n      />\r\n      <Separator />\r\n      <FlowPicker\r\n        label=\"Assigned to (Flows)\"\r\n        options={flows}\r\n        onSelect={(f) => setData((prev) => ({\r\n          ...prev,\r\n          flows: prev.flows?.concat(f.data),\r\n        }))}\r\n        onRemove={(u) => setData((prev) => ({\r\n          ...prev,\r\n          flows: prev.flows?.filter((flow) => flow.id !== u.data.id),\r\n        }))}\r\n        selected={data.flows?.map((f) => ({ key: f.id, data: f }))}\r\n      />\r\n    </form>\r\n  );\r\n};\r\n\r\nAddRule.propTypes = {\r\n  setRules: PropTypes.func.isRequired,\r\n  setOpen: PropTypes.func,\r\n};\r\n\r\nAddRule.defaultProps = {\r\n  setOpen: null,\r\n};\r\n\r\nexport default AddRule;\r\n","import React, {\r\n  useCallback, useContext, useEffect, useState,\r\n} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  Checkbox,\r\n  DefaultButton,\r\n  Icon,\r\n  Label,\r\n  makeStyles,\r\n  Persona,\r\n  PersonaSize,\r\n  Position,\r\n  PrimaryButton,\r\n  Separator,\r\n  SpinButton,\r\n  Stack,\r\n  StackItem,\r\n  Text,\r\n  TextField,\r\n  DatePicker,\r\n  MaskedTextField,\r\n} from '@fluentui/react';\r\nimport { DateTime } from 'luxon';\r\nimport { useFetch } from '../../../../services/hooks';\r\nimport TaskRuleService from '../../../../services/tasks/TaskRuleService';\r\nimport TaskFlowService from '../../../../services/tasks/TaskFlowService';\r\nimport constants from '../../../../utils/constants';\r\nimport { PanelContext } from '../../../ui-hooks/usePanel';\r\nimport DateUtils from '../../../../utils/date';\r\nimport PeoplePicker from '../../../shared/people-picker/PeoplePicker';\r\nimport UserService from '../../../../services/UserService';\r\nimport GlobalContext from '../../../../services/GlobalContext';\r\nimport FlowPicker from '../../../task-planning/components/flow-picker';\r\nimport Chip from '../../../shared/chip';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    '& > * + *': {\r\n      marginTop: `${theme.spacing.s2} !important`,\r\n    },\r\n  },\r\n  description: {\r\n    color: theme.palette.neutralSecondaryAlt,\r\n    '& textarea': {\r\n      color: 'inherit',\r\n    },\r\n  },\r\n  typeIcon: {\r\n    fontSize: 50,\r\n    height: 50,\r\n    width: 50,\r\n  },\r\n  typeDetails: {\r\n    width: '50%',\r\n    borderTop: `1px solid ${theme.palette.themeSecondary}`,\r\n    borderBottom: `1px solid ${theme.palette.themeSecondary}`,\r\n    marginTop: `${theme.spacing.s2} !important`,\r\n    paddingTop: theme.spacing.m,\r\n    paddingBottom: theme.spacing.m,\r\n  },\r\n  paddingLeft: {\r\n    paddingLeft: theme.spacing.s2,\r\n  },\r\n  userColumn: {\r\n    width: '50%',\r\n  },\r\n  separator: {\r\n    margin: `${theme.spacing.m} 0`,\r\n    '& div[role=\\'separator\\']': {\r\n      backgroundColor: theme.palette.themePrimary,\r\n      padding: '3px',\r\n      borderRadius: '5px',\r\n      minWidth: 60,\r\n    },\r\n  },\r\n  weekDay: {\r\n    backgroundColor: theme.palette.themePrimary,\r\n    color: theme.palette.black,\r\n    padding: '5px 10px',\r\n    marginRight: theme.spacing.s2,\r\n  },\r\n  month: {\r\n    backgroundColor: theme.palette.themePrimary,\r\n    color: theme.palette.black,\r\n    padding: '5px 10px',\r\n    marginRight: theme.spacing.s2,\r\n    marginTop: theme.spacing.s2,\r\n  },\r\n}));\r\n\r\nconst weekDays = [null, 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];\r\nconst months = [\r\n  null,\r\n  'January', 'February', 'March', 'April',\r\n  'May', 'June', 'July', 'August',\r\n  'September', 'October', 'November', 'December',\r\n];\r\n\r\nconst getOrdinalSuffix = (number) => {\r\n  switch (number) {\r\n    case 1:\r\n      return 'st';\r\n    case 2:\r\n      return 'nd';\r\n    case 3:\r\n      return 'rd';\r\n    default:\r\n      return 'th';\r\n  }\r\n};\r\n\r\nconst RuleTypeDetails = ({ rule }) => {\r\n  const classes = useStyles();\r\n\r\n  const getTypeIcon = (type) => {\r\n    switch (type) {\r\n      case constants.tasks.types.Daily:\r\n        return 'CalendarDay';\r\n      case constants.tasks.types.Weekly:\r\n        return 'CalendarWorkWeek';\r\n      case constants.tasks.types.Monthly:\r\n        return 'Calendar';\r\n      default:\r\n        return 'Unknown';\r\n    }\r\n  };\r\n\r\n  const getRenderDetails = (ruleDetails) => {\r\n    switch (ruleDetails.type) {\r\n      case constants.tasks.types.Daily:\r\n        return (\r\n          <Stack horizontal horizontalAlign=\"center\" verticalAlign=\"center\">\r\n            <Label>Day type: </Label>\r\n            <Text block className={classes.paddingLeft} variant=\"medium\">\r\n              {rule.dailyType}\r\n            </Text>\r\n          </Stack>\r\n        );\r\n      case constants.tasks.types.Weekly:\r\n        return (\r\n          <Stack horizontalAlign=\"center\" verticalAlign=\"center\">\r\n            <Label style={{ display: 'block' }}>Days: </Label>\r\n            <Stack horizontal horizontalAlign=\"center\">\r\n              {\r\n                rule.weeklyDays.map((day) => (\r\n                  <Chip className={classes.weekDay}>\r\n                    <Text variant=\"medium\">{weekDays[new Date(day).getDay()]}</Text>\r\n                  </Chip>\r\n                ))\r\n              }\r\n            </Stack>\r\n          </Stack>\r\n        );\r\n      case constants.tasks.types.Monthly:\r\n        return (\r\n          <Stack horizontalAlign=\"center\" verticalAlign=\"center\">\r\n            <Label>Occurs on: </Label>\r\n            <Text variant=\"medium\">\r\n              {`${rule.monthlyOn}${getOrdinalSuffix(rule.monthlyOn)} ${rule.monthlyOnType} of the month`}\r\n            </Text>\r\n            <Label>Months:</Label>\r\n            <Stack\r\n              horizontal\r\n              horizontalAlign=\"center\"\r\n              wrap\r\n              tokens={{\r\n                childrenGap: 4,\r\n              }}\r\n            >\r\n              {\r\n                rule.monthlyMonths.map((month) => (\r\n                  <Chip className={classes.month}>\r\n                    <Text variant=\"medium\">{months[month]}</Text>\r\n                  </Chip>\r\n                ))\r\n              }\r\n            </Stack>\r\n          </Stack>\r\n        );\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Separator className={classes.separator}>Type</Separator>\r\n      <Stack horizontalAlign=\"center\">\r\n        <Icon className={classes.typeIcon} iconName={getTypeIcon(rule.type)} />\r\n        <Text variant=\"medium\">{rule.type}</Text>\r\n        <StackItem className={classes.typeDetails}>\r\n          {getRenderDetails(rule)}\r\n        </StackItem>\r\n      </Stack>\r\n    </>\r\n  );\r\n};\r\n\r\nRuleTypeDetails.propTypes = {\r\n  rule: PropTypes.shape({\r\n    type: PropTypes.string,\r\n    dailyType: PropTypes.string,\r\n    weeklyDays: PropTypes.arrayOf(PropTypes.number),\r\n    monthlyOn: PropTypes.number,\r\n    monthlyOnType: PropTypes.string,\r\n    monthlyMonths: PropTypes.arrayOf(PropTypes.number),\r\n  }).isRequired,\r\n};\r\n\r\nconst RuleDetails = ({\r\n  id, editing, setEditing, setRules,\r\n}) => {\r\n  const classes = useStyles();\r\n  const global = useContext(GlobalContext);\r\n  const [rule] = useFetch(id && TaskRuleService.taskRulePath(id), null, null);\r\n  const panel = useContext(PanelContext);\r\n  const [data, setData] = useState({});\r\n  const [users] = useFetch(UserService.baseUrl,\r\n    {\r\n      params: {\r\n        teams: global.user.teams.map((t) => t.id),\r\n      },\r\n    },\r\n    [], [],\r\n    (dt) => dt.map((u) => ({\r\n      key: u.id,\r\n      data: u,\r\n    })));\r\n  const [flows] = useFetch(TaskFlowService.baseUrl,\r\n    null, [], [],\r\n    (flowsData) => flowsData.map((flow) => ({\r\n      key: flow.id,\r\n      data: flow,\r\n    })));\r\n\r\n  const handleUpdate = useCallback(async () => {\r\n    const update = { ...data };\r\n    // If we changed users, map them to their id's\r\n    if (data.users) {\r\n      update.users = data.users.map((u) => u.id);\r\n    }\r\n    // If we changed flows, map them to the ids\r\n    if (data.flows) {\r\n      update.flows = data.flows.map((f) => f.id);\r\n    }\r\n    const result = await TaskRuleService.updateTaskRule(rule.id, update);\r\n    setRules((prev) => prev.map((r) => (r.id === result.id ? result : r)));\r\n    panel.setOpen(false);\r\n    setEditing(false);\r\n  }, [rule, data]);\r\n\r\n  const handleDataChange = (field, func = (args) => args[0].target.value) => (...args) => {\r\n    setData((prev) => ({\r\n      ...prev,\r\n      [field]: func(args),\r\n    }));\r\n  };\r\n\r\n  const renderFooter = useCallback(() => (\r\n    <>\r\n      {\r\n        editing\r\n          ? (<PrimaryButton onClick={handleUpdate}>Save</PrimaryButton>)\r\n          : (<PrimaryButton onClick={() => setEditing(true)}>Edit</PrimaryButton>)\r\n      }\r\n      <DefaultButton\r\n        style={{ marginLeft: '8px' }}\r\n        onClick={() => {\r\n          setEditing(false);\r\n          panel.setOpen(false);\r\n        }}\r\n      >\r\n        Close\r\n      </DefaultButton>\r\n    </>\r\n  ), [panel, editing, handleUpdate]);\r\n\r\n  /**\r\n   * In case it's opened in a panel\r\n   */\r\n  useEffect(() => {\r\n    if (panel.isPanel) {\r\n      panel.setOnRenderFooter(() => (renderFooter));\r\n    }\r\n  }, [panel, renderFooter]);\r\n\r\n  return rule && (\r\n    <Stack className={classes.root} verticalAlign=\"start\">\r\n      <Separator className={classes.separator}>General</Separator>\r\n      <TextField\r\n        borderless={!editing}\r\n        label=\"Title\"\r\n        readOnly={!editing}\r\n        value={data.title ?? rule.title}\r\n        onChange={handleDataChange('title')}\r\n      />\r\n      <TextField\r\n        autoAdjustHeight\r\n        borderless={!editing}\r\n        className={classes.description}\r\n        label=\"Description\"\r\n        multiline\r\n        readOnly={!editing}\r\n        resizable={false}\r\n        value={data.description ?? rule.description ?? '-'}\r\n        onChange={handleDataChange('description')}\r\n      />\r\n      <MaskedTextField\r\n        label=\"Start time\"\r\n        disabled={!editing}\r\n        mask=\"99:99\"\r\n        maskChar=\"0\"\r\n        value={DateUtils.getTimeText(data.taskStartTime ?? new Date(rule.taskStartTime))}\r\n        onChange={\r\n          editing\r\n            ? handleDataChange('taskStartTime', (args) => new Date(DateUtils.getValidTimeStringUTC(args[1])))\r\n            : null\r\n        }\r\n      />\r\n      <MaskedTextField\r\n        label=\"End time\"\r\n        disabled={!editing}\r\n        mask=\"99:99\"\r\n        maskChar=\"0\"\r\n        value={DateUtils.getEndTimeTextUTC(\r\n          data.taskStartTime ?? new Date(rule.taskStartTime),\r\n          (data.taskDuration ?? rule.taskDuration),\r\n        )}\r\n        onChange={\r\n          editing\r\n            ? handleDataChange('taskDuration', (args) => {\r\n              const validTime = DateUtils.getValidTimeStringUTC(args[1]);\r\n              // Check if end time is after start time\r\n              const startDT = DateTime.fromJSDate(\r\n                data.taskStartTime ?? new Date(rule.taskStartTime),\r\n              );\r\n              const endDT = DateTime.fromISO(validTime);\r\n              if (endDT < startDT) return 0;\r\n              return endDT.diff(startDT, 'minute').values.minutes;\r\n            })\r\n            : null\r\n        }\r\n      />\r\n      {\r\n        editing\r\n          ? (\r\n            <SpinButton\r\n              label=\"Duration\"\r\n              labelPosition={Position.top}\r\n              value={data.taskDuration ?? rule.taskDuration}\r\n              onChange={handleDataChange('taskDuration', (args) => (Number.isNaN(+args[0].target.value) ? 0 : +args[0].target.value))}\r\n              onIncrement={(val) => setData((prev) => ({ ...prev, taskDuration: (+val + 10) }))}\r\n              onDecrement={(val) => {\r\n                if (val > 10) setData((prev) => ({ ...prev, taskDuration: (+val - 10) }));\r\n              }}\r\n              type=\"number\"\r\n              min={0}\r\n              max={1440}\r\n              step={10}\r\n            />\r\n          )\r\n          : (\r\n            <TextField\r\n              label=\"Duration\"\r\n              disabled={!editing}\r\n              value={data.taskDuration ?? rule.taskDuration}\r\n              onChange={handleDataChange('taskDuration')}\r\n              min=\"1\"\r\n              max=\"1440\"\r\n              type=\"number\"\r\n            />\r\n          )\r\n      }\r\n      <DatePicker\r\n        borderless={!editing}\r\n        value={data.validFrom ?? new Date(rule.validFrom)}\r\n        disabled={!editing}\r\n        label=\"Valid from\"\r\n        onSelectDate={handleDataChange('validFrom', (args) => DateUtils.makeUTC(args[0]))}\r\n      />\r\n      <DatePicker\r\n        borderless={!editing}\r\n        value={data.validTo ?? (rule.validTo && new Date(rule.validTo))}\r\n        disabled={!editing}\r\n        onSelectDate={handleDataChange('validTo', (args) => DateUtils.makeUTC(args[0]))}\r\n        label=\"Valid to\"\r\n        allowTextInput\r\n      />\r\n      <RuleTypeDetails rule={rule} />\r\n      <Separator className={classes.separator}>Assigned</Separator>\r\n      <Stack horizontal horizontalAlign=\"stretch\" verticalAlign=\"stretch\">\r\n        <StackItem className={classes.userColumn} grow={1}>\r\n          <Stack horizontalAlign=\"center\">\r\n            <Label>Users</Label>\r\n            {\r\n              editing\r\n                ? (\r\n                  <PeoplePicker\r\n                    style={{\r\n                      width: '90%',\r\n                    }}\r\n                    options={users}\r\n                    onSelect={(item) => setData((prev) => {\r\n                      if (prev.users) {\r\n                        return ({\r\n                          ...prev,\r\n                          users: prev.users.concat(item.data),\r\n                        });\r\n                      }\r\n                      return ({\r\n                        ...prev,\r\n                        users: rule.users.concat(item.data),\r\n                      });\r\n                    })}\r\n                    onRemove={(item) => setData((prev) => {\r\n                      if (prev.users) {\r\n                        return ({\r\n                          ...prev,\r\n                          users: prev.users.filter((u) => u.id !== item.data.id),\r\n                        });\r\n                      }\r\n                      return ({\r\n                        ...prev,\r\n                        users: rule.users.filter((u) => u.id !== item.data.id),\r\n                      });\r\n                    })}\r\n                    selected={\r\n                      data.users\r\n                        ? data.users.map((u) => ({ key: u.id, data: u }))\r\n                        : rule.users.map((u) => ({ key: u.id, data: u }))\r\n                    }\r\n                  />\r\n                )\r\n                : (\r\n                  rule.users?.map((user) => (\r\n                    <StackItem align=\"start\" key={user.id}>\r\n                      <Persona text={user.username} size={PersonaSize.size24} />\r\n                    </StackItem>\r\n                  ))\r\n                )\r\n            }\r\n          </Stack>\r\n        </StackItem>\r\n        <Separator vertical />\r\n        <StackItem className={classes.userColumn} grow={1}>\r\n          <Stack horizontalAlign=\"center\">\r\n            <Label>Flows</Label>\r\n            {\r\n              editing\r\n                ? (\r\n                  <FlowPicker\r\n                    style={{ width: '90%' }}\r\n                    options={flows}\r\n                    showCheckboxes\r\n                    showDeleteIcon={false}\r\n                    onSelect={(item) => setData((prev) => {\r\n                      if (prev.flows) {\r\n                        return ({\r\n                          ...prev,\r\n                          flows: prev.flows.concat(item.data),\r\n                        });\r\n                      }\r\n                      return ({\r\n                        ...prev,\r\n                        flows: rule.flows.concat(item.data),\r\n                      });\r\n                    })}\r\n                    onRemove={(item) => setData((prev) => {\r\n                      if (prev.flows) {\r\n                        return ({\r\n                          ...prev,\r\n                          flows: prev.flows.filter((u) => u.id !== item.data.id),\r\n                        });\r\n                      }\r\n                      return ({\r\n                        ...prev,\r\n                        flows: rule.flows.filter((u) => u.id !== item.data.id),\r\n                      });\r\n                    })}\r\n                    selected={\r\n                      data.flows\r\n                        ? data.flows.map((u) => ({ key: u.id, data: u }))\r\n                        : rule.flows.map((u) => ({ key: u.id, data: u }))\r\n                    }\r\n                  />\r\n                )\r\n                : (\r\n                  rule.flows.map((f) => (\r\n                    <Chip\r\n                      style={{\r\n                        backgroundColor: f.color ?? 'transparent',\r\n                        padding: 3,\r\n                        whiteSpace: 'pre-wrap',\r\n                        width: '50%',\r\n                        marginLeft: 32,\r\n                        marginTop: 4,\r\n                      }}\r\n                    >\r\n                      <Text variant=\"medium\">{f.name}</Text>\r\n                    </Chip>\r\n                  ))\r\n                )\r\n            }\r\n          </Stack>\r\n        </StackItem>\r\n      </Stack>\r\n      <Separator className={classes.separator}>Flags</Separator>\r\n      <Checkbox\r\n        checked={data.isBackgroundTask ?? rule.isBackgroundTask}\r\n        label=\"Background\"\r\n        disabled={!editing}\r\n        onChange={handleDataChange('isBackgroundTask', (args) => args[0].target.checked)}\r\n      />\r\n      <Checkbox\r\n        checked={rule.isSharedTask}\r\n        label=\"Shared\"\r\n        disabled\r\n      />\r\n      <Separator className={classes.separator}>Created</Separator>\r\n      <Stack horizontalAlign=\"center\">\r\n        <Text variant=\"medium\">{rule.createdUser?.username}</Text>\r\n        <Text variant=\"medium\">{new Date(rule.createdDate).toLocaleString()}</Text>\r\n      </Stack>\r\n    </Stack>\r\n  );\r\n};\r\n\r\nRuleDetails.propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n  editing: PropTypes.bool.isRequired,\r\n  setEditing: PropTypes.func.isRequired,\r\n  setRules: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default RuleDetails;\r\n","import TaskRules from './TaskRules';\r\n\r\nexport default TaskRules;\r\n","import React, { useState } from 'react';\r\nimport { Col, Container, Row } from 'react-grid-system';\r\nimport {\r\n  DetailsListLayoutMode, PanelType, PrimaryButton, SelectionMode, Separator,\r\n} from '@fluentui/react';\r\nimport PageHeader from '../shared/page-header';\r\nimport CommandTable from '../shared/command-table/CommandTable';\r\nimport TaskRuleService from '../../services/tasks/TaskRuleService';\r\nimport usePanel from '../ui-hooks/usePanel';\r\nimport AddRule from './components/add-rule/AddRule';\r\nimport { useFetch } from '../../services/hooks';\r\nimport RuleDetails from './components/rule-details/RuleDetails';\r\n\r\nconst TaskRules = () => {\r\n  // TODO: later add options to retrieve only tasks of active teams\r\n  const [rules, setRules] = useFetch(TaskRuleService.baseUrl);\r\n  const [selectionDetails, setSelectionDetails] = useState({\r\n    count: 0,\r\n    items: [],\r\n  });\r\n  const newPanel = usePanel(\r\n    AddRule, {\r\n      headerText: 'Create new rule',\r\n      onRenderFooterContent: () => (\r\n        <PrimaryButton text=\"Create\" type=\"submit\" form=\"add-task-rule-form\" />\r\n      ),\r\n    }, {\r\n      setRules,\r\n    },\r\n  );\r\n  const [editing, setEditing] = useState(false);\r\n\r\n  const detailsPanel = usePanel(\r\n    RuleDetails, {\r\n      headerText: 'Rule Details',\r\n      isLightDismiss: !editing,\r\n      type: PanelType.medium,\r\n      isFooterAtBottom: true,\r\n      onDismiss: (_isOpen, setOpen) => () => {\r\n        setEditing(false);\r\n        setOpen(false);\r\n      },\r\n    }, {\r\n      id: selectionDetails.items.length > 0 ? selectionDetails.items[0].id : null,\r\n      editing,\r\n      setEditing,\r\n      setRules,\r\n    },\r\n  );\r\n\r\n  const [sortedColumn] = useState(\r\n    {\r\n      key: 'createdDate',\r\n      name: ' Created on',\r\n      fieldName: 'createdDate',\r\n      isSortable: true,\r\n      isFilterable: true,\r\n      isResizable: true,\r\n      iconName: 'People',\r\n      minWidth: 100,\r\n      maxWidth: 300,\r\n      isSorted: true,\r\n      isSortedDescending: true,\r\n    },\r\n  );\r\n\r\n  const [columns] = useState([\r\n    {\r\n      key: 'title',\r\n      name: ' Title',\r\n      fieldName: 'title',\r\n      isSortable: true,\r\n      isFilterable: true,\r\n      isResizable: true,\r\n      iconName: 'FileTemplate',\r\n      minWidth: 100,\r\n      maxWidth: 300,\r\n    },\r\n    {\r\n      key: 'type',\r\n      name: ' Type',\r\n      fieldName: 'type',\r\n      isSortable: true,\r\n      isFilterable: true,\r\n      isResizable: true,\r\n      iconName: '',\r\n      minWidth: 100,\r\n      maxWidth: 300,\r\n    },\r\n    {\r\n      key: 'users',\r\n      name: ' Users',\r\n      fieldName: 'users',\r\n      isSortable: true,\r\n      isFilterable: true,\r\n      isResizable: true,\r\n      iconName: 'People',\r\n      minWidth: 300,\r\n      maxWidth: 400,\r\n      onRender: (item) => item.users.map((u) => u.username).join(', '),\r\n      sort: (a, b) => (\r\n        a.users[0]?.username?.toLowerCase() < b.users[0]?.username?.toLowerCase()\r\n          ? -1\r\n          : 1\r\n      ),\r\n      filterValueAccessor: (item) => item.users.map((u) => u.username).join(' '),\r\n    },\r\n    {\r\n      key: 'createdDate',\r\n      name: ' Created on',\r\n      fieldName: 'createdDate',\r\n      isSortable: true,\r\n      isFilterable: true,\r\n      isResizable: true,\r\n      iconName: 'People',\r\n      minWidth: 100,\r\n      maxWidth: 300,\r\n      onRender: (item) => (<div>{new Date(item.createdDate).toLocaleString()}</div>),\r\n    },\r\n  ]);\r\n\r\n  return (\r\n    <Container fluid>\r\n      <PageHeader text=\"Rules\" />\r\n      <Separator />\r\n      <Row>\r\n        <Col xs={12}>\r\n          <CommandTable\r\n            commandItems={[\r\n              {\r\n                key: 'createItem',\r\n                text: 'Create',\r\n                iconProps: { iconName: 'BoxAdditionSolid' },\r\n                onClick: () => { newPanel.setOpen(true); },\r\n              },\r\n            ]}\r\n            tableProps={{\r\n              items: rules,\r\n              columns,\r\n              setSelectionDetails,\r\n              selectionMode: SelectionMode.single,\r\n              onItemInvoked: () => detailsPanel.setOpen(true),\r\n              layoutMode: DetailsListLayoutMode.justified,\r\n              sortedCol: sortedColumn,\r\n            }}\r\n          />\r\n        </Col>\r\n      </Row>\r\n      {newPanel.render}\r\n      {detailsPanel.render}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default TaskRules;\r\n","import Tasks from './Tasks';\r\n\r\nexport default Tasks;\r\n","import React from 'react';\r\nimport DocumentTitle from 'react-document-title';\r\nimport { Container } from 'react-grid-system';\r\nimport { useRouteMatch, Switch, Route } from 'react-router-dom';\r\nimport AuthorizationRedirectComponent from '../../components/shared/authorization-redirect-component';\r\nimport TaskDashboard from '../../components/task-dashboard/TaskDashboard';\r\nimport TaskFlows from '../../components/task-flows';\r\nimport TaskPlanning from '../../components/task-planning/TaskPlanning';\r\nimport TaskRules from '../../components/task-rules';\r\nimport constants from '../../utils/constants';\r\n\r\nconst Tasks = () => {\r\n  const { path } = useRouteMatch();\r\n\r\n  return (\r\n    <Container fluid>\r\n      <Switch>\r\n        <Route exact path={`${path}`}>\r\n          <AuthorizationRedirectComponent\r\n            code={constants.securities.TASK.code}\r\n            grant={constants.securities.TASK.grants.read}\r\n            to=\"/\"\r\n            failureNotification={{\r\n              header: 'No Access',\r\n              content: 'No permission to access this page. Please contact your administrator.',\r\n            }}\r\n          >\r\n            <DocumentTitle title=\"Task Dashboard\">\r\n              <TaskDashboard />\r\n            </DocumentTitle>\r\n          </AuthorizationRedirectComponent>\r\n        </Route>\r\n        <Route path={`${path}/planning`}>\r\n          <AuthorizationRedirectComponent\r\n            code={constants.securities.TASK_PLANNING.code}\r\n            grant={constants.securities.TASK_PLANNING.grants.read}\r\n            to=\"/\"\r\n            failureNotification={{\r\n              header: 'No Access',\r\n              content: 'No permission to access this page. Please contact your administrator.',\r\n            }}\r\n          >\r\n            <DocumentTitle title=\"Planning\">\r\n              <TaskPlanning />\r\n            </DocumentTitle>\r\n          </AuthorizationRedirectComponent>\r\n        </Route>\r\n        <Route path={`${path}/task-rules`}>\r\n          <AuthorizationRedirectComponent\r\n            code={constants.securities.TASK_RULE.code}\r\n            grant={constants.securities.TASK_RULE.grants.read}\r\n            to=\"/\"\r\n            failureNotification={{\r\n              header: 'No Access',\r\n              content: 'No permission to access this page. Please contact your administrator.',\r\n            }}\r\n          >\r\n            <DocumentTitle title=\"Task Rules\">\r\n              <TaskRules />\r\n            </DocumentTitle>\r\n          </AuthorizationRedirectComponent>\r\n        </Route>\r\n        <Route path={`${path}/task-flows`}>\r\n          <AuthorizationRedirectComponent\r\n            code={constants.securities.TASK_FLOW.code}\r\n            grant={constants.securities.TASK_FLOW.grants.read}\r\n            to=\"/\"\r\n            failureNotification={{\r\n              header: 'No Access',\r\n              content: 'No permission to access this page. Please contact your administrator.',\r\n            }}\r\n          >\r\n            <DocumentTitle title=\"Flows\">\r\n              <TaskFlows />\r\n            </DocumentTitle>\r\n          </AuthorizationRedirectComponent>\r\n        </Route>\r\n        <Route exact path={`${path}/:id`}>\r\n          <AuthorizationRedirectComponent\r\n            code={constants.securities.TASK.code}\r\n            grant={constants.securities.TASK.grants.read}\r\n            to=\"/\"\r\n            failureNotification={{\r\n              header: 'No Access',\r\n              content: 'No permission to access this page. Please contact your administrator.',\r\n            }}\r\n          >\r\n            <DocumentTitle title=\"Task\">\r\n              <div>Task</div>\r\n            </DocumentTitle>\r\n          </AuthorizationRedirectComponent>\r\n        </Route>\r\n      </Switch>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Tasks;\r\n","import { useContext, useEffect } from 'react';\r\nimport ConnectionService from '../../../services/ConnectionService';\r\nimport GlobalContext from '../../../services/GlobalContext';\r\n\r\nconst ConnectionManager = () => {\r\n  const global = useContext(GlobalContext);\r\n  // ConnectionService.connectSSE();\r\n\r\n  useEffect(() => {\r\n    async function run() {\r\n      if (global.user) {\r\n        const con = await ConnectionService.connectSSE();\r\n        con.addEventListener('init', (evt) => {\r\n          global.setContext((prev) => ({\r\n            ...prev,\r\n            connectionId: JSON.parse(evt.data)[0],\r\n            connection: con,\r\n          }));\r\n        });\r\n      }\r\n    }\r\n    run();\r\n  }, [global.user]);\r\n\r\n  return null;\r\n};\r\n\r\nexport default ConnectionManager;\r\n","import {\n  KeytipLayer, KeyCodes, ThemeProvider,\n} from '@fluentui/react';\nimport DocumentTitle from 'react-document-title';\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch,\n} from 'react-router-dom';\nimport React, {\n  useState, useEffect, useContext, Suspense,\n} from 'react';\nimport GlobalContext from '../../services/GlobalContext';\nimport AuthorizationService from '../../services/AuthorizationService';\nimport UserInfoProvider from '../shared/user-info-provider';\nimport UserSecuritiesProvider from '../shared/user-securities-provider';\nimport Navigation from '../navigation/Navigation';\nimport AppraisalsPage from '../../routes/appraisals';\nimport SettingsPage from '../../routes/settings';\nimport ReportingPage from '../../routes/reporting';\nimport LoginRequired from '../shared/login-required';\nimport LoginPage from '../../routes/login';\nimport { selectTheme } from '../../themes';\nimport NotificationContainer from '../notification/NotificationContainer';\nimport Tasks from '../../routes/tasks';\nimport ConnectionManager from '../shared/connection-manager/ConnectionManager';\n\nconst HomePage = React.lazy(() => import('../../routes/home'));\n\nconst App = () => {\n  const [context, setContext] = useState({\n    user: null,\n    Authorize: AuthorizationService.Authorize,\n    setContext: null,\n    userPreferences: {\n      theme: selectTheme(),\n    },\n  });\n  const initContext = useContext(GlobalContext);\n\n  const { userPreferences } = context;\n  const { theme } = userPreferences;\n\n  useEffect(() => {\n    setContext((prev) => ({\n      ...initContext,\n      ...prev,\n      setContext,\n    }));\n  }, [initContext]);\n\n  return (\n    <GlobalContext.Provider value={context}>\n      <ThemeProvider applyTo=\"body\" theme={theme}>\n        <ConnectionManager />\n        <NotificationContainer timeout={10000} />\n        <Router>\n          <UserInfoProvider ctx={context} setCtx={setContext} />\n          <UserSecuritiesProvider />\n          <Navigation />\n          <LoginRequired />\n          <KeytipLayer\n            keytipStartSequences={[{\n              key: 'a',\n              modifierKeys: [KeyCodes.alt],\n            }]}\n          />\n          {/* The page switch */}\n          <Switch>\n            <div style={{ marginTop: '40px' }}>\n              <Route path=\"/appraisals\">\n                <DocumentTitle title=\"Appraisals\">\n                  <AppraisalsPage ctx={context} setCtx={setContext} />\n                </DocumentTitle>\n              </Route>\n              <Route path=\"/audits\">\n                <DocumentTitle title=\"Audits\">\n                  <h1>IN PROGRESS</h1>\n                </DocumentTitle>\n              </Route>\n              <Route path=\"/reporting\">\n                <DocumentTitle title=\"Reporting\">\n                  <ReportingPage ctx={context} setCtx={setContext} />\n                </DocumentTitle>\n              </Route>\n              <Route path=\"/settings\">\n                <DocumentTitle title=\"Settings\">\n                  <SettingsPage />\n                </DocumentTitle>\n              </Route>\n              <Route path=\"/tasks\">\n                <DocumentTitle title=\"Tasks\">\n                  <Tasks />\n                </DocumentTitle>\n              </Route>\n              <Route path=\"/login\">\n                <DocumentTitle title=\"Sign in\">\n                  <LoginPage ctx={context} setCtx={setContext} />\n                </DocumentTitle>\n              </Route>\n              <Route exact path=\"/\">\n                <Suspense fallback={<div>Loading...</div>}>\n                  <HomePage ctx={context} setCtx={setContext} />\n                </Suspense>\n              </Route>\n            </div>\n          </Switch>\n        </Router>\n      </ThemeProvider>\n    </GlobalContext.Provider>\n  );\n};\n\nexport default App;\n","import App from './App';\n\nexport default App;\n","/* eslint-disable react/jsx-filename-extension */\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { initializeIcons } from '@uifabric/icons';\nimport App from './components/app';\nimport './styles/reset.css';\n\ninitializeIcons();\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","import Accordion from './Accordion';\r\n\r\nexport default Accordion;\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  DefaultButton, makeStyles, Panel, PanelType, PrimaryButton, Separator, Stack, Text, TextField,\r\n} from '@fluentui/react';\r\nimport { Col, Container, Row } from 'react-grid-system';\r\nimport { downloadBlob } from 'download.js';\r\nimport ReportingService from '../../../../services/ReportingService';\r\nimport Accordion from '../../../shared/accordion';\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  root: {\r\n    '& > * + *': {\r\n      marginTop: '16px',\r\n    },\r\n  },\r\n}));\r\n\r\nconst CreateTemplatePanel = ({ isOpen, setOpen }) => {\r\n  const classes = useStyles();\r\n  const [aggregation, setAggregation] = useState('');\r\n  const [name, setName] = useState('');\r\n  const [file, setFile] = useState(null);\r\n  const [sample, setSample] = useState('');\r\n  const [openAcordion, setOpenAccordion] = useState({\r\n    aggregation: true,\r\n    sample: false,\r\n  });\r\n\r\n  const handleChange = (set) => (evt) => {\r\n    if (evt && evt.target) {\r\n      if (set) set(evt.target.value);\r\n    }\r\n  };\r\n\r\n  const handleFileUpload = (evt) => {\r\n    if (evt && evt.target) {\r\n      const filelist = evt.target.files;\r\n      if (filelist.length > 0) {\r\n        setFile(filelist[0]);\r\n      } else {\r\n        setFile(null);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleGenerate = async () => {\r\n    const formData = new FormData();\r\n    formData.append('aggregation', aggregation);\r\n    formData.append('name', name);\r\n    formData.append('template', file);\r\n\r\n    const result = await ReportingService.generateTemplate(formData);\r\n    await downloadBlob(file.name, result);\r\n  };\r\n\r\n  const handleSample = async () => {\r\n    const result = await ReportingService.getSample(aggregation);\r\n    if (result && result.data) {\r\n      setSample(JSON.stringify(result.data, null, 4));\r\n      setOpenAccordion({\r\n        aggregation: false,\r\n        sample: true,\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    const formData = new FormData();\r\n    formData.append('aggregation', aggregation);\r\n    formData.append('name', name);\r\n    formData.append('template', file);\r\n\r\n    await ReportingService.createTemplate(formData);\r\n    setOpen(false);\r\n  };\r\n\r\n  const onRenderFooter = () => (\r\n    <Stack\r\n      horizontal\r\n      horizontalAlign=\"start\"\r\n      tokens={{\r\n        childrenGap: 10,\r\n      }}\r\n    >\r\n      <PrimaryButton type=\"submit\" form=\"new-template-form\">Create</PrimaryButton>\r\n      <DefaultButton onClick={handleSample}>Sample</DefaultButton>\r\n      <DefaultButton onClick={handleGenerate}>Generate</DefaultButton>\r\n      <DefaultButton onClick={() => setOpen(false)}>Cancel</DefaultButton>\r\n    </Stack>\r\n  );\r\n\r\n  return (\r\n    <Panel\r\n      isOpen={isOpen}\r\n      onDismiss={() => setOpen(false)}\r\n      headerText=\"Create template\"\r\n      type={PanelType.large}\r\n      onRenderFooterContent={onRenderFooter}\r\n    >\r\n      <form id=\"new-template-form\" onSubmit={handleSubmit}>\r\n        <Container\r\n          fluid\r\n          className={classes.root}\r\n        >\r\n          <Separator>Aggregation</Separator>\r\n          <Row justify=\"center\">\r\n            <Text variant=\"mediumPlus\">\r\n              Create a valid MongoDB aggregation.\r\n              Test and verify if it returns valid info below.\r\n              For more info, refer to MongoDB\r\n              {' '}\r\n              <a href=\"https://docs.mongodb.com/manual/aggregation/\" target=\"_blank\" rel=\"noopener noreferrer\">documentation</a>\r\n              .\r\n            </Text>\r\n          </Row>\r\n          <Accordion\r\n            items={[\r\n              {\r\n                key: 'aggregation',\r\n                text: 'Aggregation',\r\n                isOpen: openAcordion.aggregation,\r\n                render: () => (\r\n                  <Row>\r\n                    <Col xs={12}>\r\n                      <TextField\r\n                        multiline\r\n                        value={aggregation}\r\n                        onChange={handleChange(setAggregation)}\r\n                        autoAdjustHeight\r\n                        required\r\n                      />\r\n                    </Col>\r\n                  </Row>\r\n                ),\r\n              },\r\n              {\r\n                key: 'sample',\r\n                text: 'Sample Data',\r\n                isOpen: openAcordion.sample,\r\n                render: () => (\r\n                  <Row>\r\n                    <Col xs={12}>\r\n                      <TextField\r\n                        multiline\r\n                        readOnly\r\n                        value={sample}\r\n                        autoAdjustHeight\r\n                      />\r\n                    </Col>\r\n                  </Row>\r\n                ),\r\n              },\r\n            ]}\r\n            onRenderItem={(item) => item.render()}\r\n            onToggle={(evt, item, open) => setOpenAccordion((prev) => ({\r\n              ...prev,\r\n              [item.key]: open,\r\n            }))}\r\n          />\r\n          <Separator>Template</Separator>\r\n          <Row justify=\"center\">\r\n            <Text variant=\"mediumPlus\">\r\n              Specify your template name, then attach your template file.\r\n              { ' ' }\r\n              (Ex: All user info, or Items per user).\r\n            </Text>\r\n          </Row>\r\n          <Row>\r\n            <Col xs={12}>\r\n              <TextField\r\n                label=\"Template name\"\r\n                value={name}\r\n                onChange={handleChange(setName)}\r\n                required\r\n              />\r\n              <TextField\r\n                styles={{\r\n                  fieldGroup: {\r\n                    padding: '8px',\r\n                    height: 'auto',\r\n                  },\r\n                }}\r\n                onChange={handleFileUpload}\r\n                type=\"file\"\r\n                label=\"Template file\"\r\n                required\r\n              />\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </form>\r\n    </Panel>\r\n  );\r\n};\r\n\r\nCreateTemplatePanel.propTypes = {\r\n  isOpen: PropTypes.bool.isRequired,\r\n  setOpen: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default CreateTemplatePanel;\r\n","import CreateTemplatePanel from './CreateTemplatePanel';\r\n\r\nexport default CreateTemplatePanel;\r\n","import React, { useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  ActionButton,\r\n  DefaultButton, makeStyles, Panel, PanelType, PrimaryButton, Separator, Stack, TextField,\r\n} from '@fluentui/react';\r\nimport { Col, Container, Row } from 'react-grid-system';\r\nimport ReportingService from '../../../../services/ReportingService';\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  root: {\r\n    '& > * + *': {\r\n      marginTop: '16px',\r\n    },\r\n  },\r\n}));\r\n\r\nconst TemplateDetailsPanel = ({\r\n  id, isOpen, setOpen, setEdit,\r\n}) => {\r\n  const classes = useStyles();\r\n  const [template, setTemplate] = useState(null);\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    async function run() {\r\n      const data = await ReportingService.getTemplate(id);\r\n      if (mounted) {\r\n        setTemplate(data);\r\n      }\r\n    }\r\n    if (id) run();\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, [id]);\r\n\r\n  const handleDownload = () => {\r\n    ReportingService.downloadTemplate(id, template.filename || 'template');\r\n  };\r\n\r\n  const handleEdit = () => {\r\n    setEdit(true);\r\n    setOpen(false);\r\n  };\r\n\r\n  const onRenderFooter = () => (\r\n    <Stack\r\n      horizontal\r\n      horizontalAlign=\"start\"\r\n      tokens={{\r\n        childrenGap: 10,\r\n      }}\r\n    >\r\n      <PrimaryButton onClick={handleEdit}>Edit</PrimaryButton>\r\n      <DefaultButton onClick={() => setOpen(false)}>Close</DefaultButton>\r\n    </Stack>\r\n  );\r\n\r\n  return (\r\n    <Panel\r\n      isOpen={isOpen}\r\n      onDismiss={() => setOpen(false)}\r\n      headerText={`Details - ${template ? template.name : ''}`}\r\n      type={PanelType.large}\r\n      onRenderFooterContent={onRenderFooter}\r\n      isLightDismiss\r\n    >\r\n      <Container\r\n        fluid\r\n        className={classes.root}\r\n      >\r\n        <Separator>General</Separator>\r\n        {\r\n          template\r\n          && (\r\n            <>\r\n              <Row justify=\"start\">\r\n                <Col xs={12} sm={8} md={4}>\r\n                  <TextField label=\"Name: \" value={template && template.name} readOnly underlined />\r\n                  <TextField label=\"Created by: \" value={template && template.createdUser && template.createdUser.username} readOnly underlined />\r\n                  <TextField label=\"Created on: \" value={template && new Date(template.createdDate).toLocaleString()} readOnly underlined />\r\n                  {\r\n              template.modifiedUser\r\n              && (\r\n              <>\r\n                <TextField label=\"Modified by: \" value={template.modifiedUser.username} readOnly underlined />\r\n                <TextField label=\"Modified on: \" value={template.modifiedDate && new Date(template.modifiedDate).toLocaleString()} readOnly underlined />\r\n              </>\r\n              )\r\n            }\r\n                </Col>\r\n              </Row>\r\n              <Separator>Details</Separator>\r\n              <Row justify=\"start\">\r\n                <Col xs={12} sm={8} md={4}>\r\n                  <TextField label=\"Filename: \" value={template.filename} readOnly underlined />\r\n                </Col>\r\n                <Col xs={12} sm={8} md={4}>\r\n                  <ActionButton\r\n                    iconProps={{\r\n                      iconName: 'DownloadDocument',\r\n                    }}\r\n                    text=\"Download template\"\r\n                    onClick={handleDownload}\r\n                  />\r\n                </Col>\r\n              </Row>\r\n              <Row justify=\"start\">\r\n                <Col xs={12} sm={8} md={6}>\r\n                  <TextField\r\n                    readOnly\r\n                    multiline\r\n                    autoAdjustHeight\r\n                    value={template.aggregation || ''}\r\n                    label=\"Aggregation\"\r\n                  />\r\n                </Col>\r\n              </Row>\r\n            </>\r\n          )\r\n        }\r\n      </Container>\r\n    </Panel>\r\n  );\r\n};\r\n\r\nTemplateDetailsPanel.propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n  isOpen: PropTypes.bool.isRequired,\r\n  setOpen: PropTypes.func.isRequired,\r\n  setEdit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default TemplateDetailsPanel;\r\n","import TemplateDetailsPanel from './TemplateDetailsPanel';\r\n\r\nexport default TemplateDetailsPanel;\r\n","import React, { useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  ActionButton,\r\n  DefaultButton, Icon, makeStyles, Panel, PanelType, PrimaryButton, Separator, Stack, TextField,\r\n} from '@fluentui/react';\r\nimport { Col, Container, Row } from 'react-grid-system';\r\nimport ReportingService from '../../../../services/ReportingService';\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  root: {\r\n    '& > * + *': {\r\n      marginTop: '16px',\r\n    },\r\n  },\r\n}));\r\n\r\nconst TemplateEditPanel = ({\r\n  id, isOpen, updateTemplates, setOpen,\r\n}) => {\r\n  const classes = useStyles();\r\n  const [template, setTemplate] = useState({});\r\n  const [update, setUpdate] = useState({});\r\n  const [file, setFile] = useState(null);\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    async function run() {\r\n      const data = await ReportingService.getTemplate(id);\r\n      if (mounted) {\r\n        setTemplate(data);\r\n        setUpdate({\r\n          name: data.name,\r\n          filename: data.filename,\r\n          aggregation: data.aggregation,\r\n        });\r\n      }\r\n    }\r\n    if (id) {\r\n      run();\r\n    }\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, [id]);\r\n\r\n  const handleUpdate = (field) => (evt) => {\r\n    if (evt && evt.target) {\r\n      setUpdate((prev) => ({\r\n        ...prev,\r\n        [field]: evt.target.value,\r\n      }));\r\n    }\r\n  };\r\n\r\n  const handleFileUpload = (evt) => {\r\n    if (evt && evt.target) {\r\n      const filelist = evt.target.files;\r\n      if (filelist.length > 0) {\r\n        setFile(filelist[0]);\r\n        setUpdate((prev) => ({\r\n          ...prev,\r\n          filename: filelist[0].name,\r\n        }));\r\n      } else {\r\n        setFile(null);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleDownload = () => {\r\n    ReportingService.downloadTemplate(id, template.filename || 'template');\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    const formData = new FormData();\r\n    formData.append('aggregation', update.aggregation);\r\n    formData.append('name', update.name);\r\n    formData.append('filename', update.filename);\r\n    if (file) formData.append('template', file);\r\n    const updateResult = await ReportingService.updateTemplate(template.id, formData);\r\n    setTemplate(updateResult);\r\n    updateTemplates(updateResult);\r\n    setOpen(false);\r\n  };\r\n\r\n  const onRenderLabel = (labelId, controlId, iconName) => (options) => (\r\n    <label\r\n      style={{\r\n        lineHeight: '2em',\r\n        fontWeight: 600,\r\n      }}\r\n      htmlFor={controlId}\r\n      id={labelId}\r\n    >\r\n      <Icon iconName={iconName} />\r\n      { ' ' }\r\n      {options.label}\r\n    </label>\r\n  );\r\n\r\n  const onRenderFooter = () => (\r\n    <Stack\r\n      horizontal\r\n      horizontalAlign=\"start\"\r\n      tokens={{\r\n        childrenGap: 10,\r\n      }}\r\n    >\r\n      <PrimaryButton onClick={handleSave}>Update</PrimaryButton>\r\n      <DefaultButton onClick={() => setOpen(false)}>Close</DefaultButton>\r\n    </Stack>\r\n  );\r\n\r\n  return (\r\n    <Panel\r\n      isOpen={isOpen}\r\n      onDismiss={() => setOpen(false)}\r\n      headerText={`Edit - ${template ? template.name : ''}`}\r\n      type={PanelType.large}\r\n      onRenderFooterContent={onRenderFooter}\r\n    >\r\n      <Container\r\n        fluid\r\n        className={classes.root}\r\n      >\r\n        <Separator>General</Separator>\r\n        {\r\n          template\r\n          && (\r\n            <>\r\n              <Row justify=\"start\">\r\n                <Col xs={12} sm={8} md={4}>\r\n                  <TextField\r\n                    onRenderLabel={onRenderLabel(\r\n                      'label-aggregation-edit',\r\n                      'aggregation-edit',\r\n                      'Edit',\r\n                    )}\r\n                    label=\"Name: \"\r\n                    value={update && update.name}\r\n                    onChange={handleUpdate('name')}\r\n                    underlined\r\n                  />\r\n                  <TextField label=\"Created by: \" value={template && template.createdUser && template.createdUser.username} readOnly underlined tabIndex={-1} />\r\n                  <TextField label=\"Created on: \" value={template && new Date(template.createdDate).toLocaleString()} readOnly underlined tabIndex={-1} />\r\n                  {\r\n              template.modifiedUser\r\n              && (\r\n              <>\r\n                <TextField label=\"Modified by: \" value={template.modifiedUser.username} readOnly underlined tabIndex={-1} />\r\n                <TextField label=\"Modified on: \" value={template.modifiedDate && new Date(template.modifiedDate).toLocaleString()} readOnly underlined tabIndex={-1} />\r\n              </>\r\n              )\r\n            }\r\n                </Col>\r\n              </Row>\r\n              <Separator>Details</Separator>\r\n              <Row justify=\"start\">\r\n                <Col xs={12} sm={8} md={4}>\r\n                  <TextField\r\n                    onRenderLabel={onRenderLabel(\r\n                      'label-aggregation-edit',\r\n                      'aggregation-edit',\r\n                      'Edit',\r\n                    )}\r\n                    label=\"Filename: \"\r\n                    value={update.filename}\r\n                    onChange={handleUpdate('filename')}\r\n                    underlined\r\n                  />\r\n                </Col>\r\n                <Col xs={12} sm={8} md={4}>\r\n                  <ActionButton\r\n                    iconProps={{\r\n                      iconName: 'DownloadDocument',\r\n                    }}\r\n                    text=\"Download template\"\r\n                    onClick={handleDownload}\r\n                  />\r\n                </Col>\r\n              </Row>\r\n              <Row justify=\"start\">\r\n                <Col xs={12} sm={8} md={4}>\r\n                  <TextField\r\n                    styles={{\r\n                      fieldGroup: {\r\n                        padding: '8px',\r\n                        height: 'auto',\r\n                      },\r\n                    }}\r\n                    onChange={handleFileUpload}\r\n                    type=\"file\"\r\n                    label=\"Template file\"\r\n                  />\r\n                </Col>\r\n              </Row>\r\n              <Row justify=\"start\">\r\n                <Col xs={12} sm={8} md={6}>\r\n                  <TextField\r\n                    onRenderLabel={onRenderLabel(\r\n                      'label-aggregation-edit',\r\n                      'aggregation-edit',\r\n                      'Edit',\r\n                    )}\r\n                    multiline\r\n                    autoAdjustHeight\r\n                    value={update.aggregation || ''}\r\n                    onChange={handleUpdate('aggregation')}\r\n                    label=\"Aggregation\"\r\n                    aria-labelledby=\"label-aggregation-edit\"\r\n                    id=\"aggregation-edit\"\r\n                  />\r\n                </Col>\r\n              </Row>\r\n            </>\r\n          )\r\n        }\r\n      </Container>\r\n    </Panel>\r\n  );\r\n};\r\n\r\nTemplateEditPanel.propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n  isOpen: PropTypes.bool.isRequired,\r\n  setOpen: PropTypes.func.isRequired,\r\n  updateTemplates: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default TemplateEditPanel;\r\n","import {\r\n  DetailsListLayoutMode, Icon, SelectionMode, Separator,\r\n} from '@fluentui/react';\r\nimport React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Col, Container, Row } from 'react-grid-system';\r\nimport ReportingService from '../../services/ReportingService';\r\nimport CommandTable from '../shared/command-table/CommandTable';\r\nimport PageHeader from '../shared/page-header/PageHeader';\r\nimport CreateTemplatePanel from './components/create-panel';\r\nimport TemplateDetailsPanel from './components/details-panel';\r\nimport TemplateEditPanel from './components/edit-panel/TemplateEditPanel';\r\n\r\nconst ItemType = ({ item }) => {\r\n  if (item.filename) {\r\n    let iconName;\r\n    const tokens = item.filename.split('.');\r\n    const ext = tokens[tokens.length - 1];\r\n    switch (ext) {\r\n      case 'xlsx':\r\n        iconName = 'ExcelLogo';\r\n        break;\r\n      case 'docx':\r\n        iconName = 'WordLogo';\r\n        break;\r\n      default:\r\n        iconName = 'FileBug';\r\n        break;\r\n    }\r\n\r\n    return (\r\n      <div style={{ textAlign: 'center' }}>\r\n        <Icon styles={{ root: { fontSize: '1.3em' } }} iconName={iconName} />\r\n      </div>\r\n    );\r\n  }\r\n  return null;\r\n};\r\n\r\nconst ReportTemplates = () => {\r\n  const [templates, setTemplates] = useState([]);\r\n  const [createPanelOpen, setCreatePanelOpen] = useState(false);\r\n  const [detailsPanelOpen, setDetailsPanelOpen] = useState(false);\r\n  const [editPanelOpen, setEditPanelOpen] = useState(false);\r\n  const [selectionDetails, setSelectionDetails] = useState({\r\n    count: 0,\r\n    items: [],\r\n  });\r\n  const [columns] = useState([\r\n    {\r\n      key: 'type',\r\n      name: ' Type',\r\n      fieldName: 'name',\r\n      iconName: 'ToDoLogoBottom',\r\n      minWidth: 70,\r\n      maxWidth: 70,\r\n      onRender: (item) => <ItemType item={item} />,\r\n    },\r\n    {\r\n      key: 'name',\r\n      name: ' Name',\r\n      fieldName: 'name',\r\n      isSortable: true,\r\n      isFilterable: true,\r\n      iconName: 'FileTemplate',\r\n      minWidth: 100,\r\n      maxWidth: 300,\r\n    },\r\n    {\r\n      key: 'filename',\r\n      name: ' Filename',\r\n      fieldName: 'filename',\r\n      isSortable: true,\r\n      isFilterable: true,\r\n      iconName: 'FileBug',\r\n      minWidth: 100,\r\n      maxWidth: 200,\r\n    },\r\n    {\r\n      key: 'createdby',\r\n      name: ' Created by',\r\n      isSortable: true,\r\n      isFilterable: true,\r\n      iconName: 'Contact',\r\n      minWidth: 100,\r\n      maxWidth: 300,\r\n      sort: (a, b) => (a.createdUser.username < b.createdUser.username ? -1 : 1),\r\n      onRender: (item) => item.createdUser.username,\r\n    },\r\n    {\r\n      key: 'createdon',\r\n      name: ' Created on',\r\n      fieldName: 'createdDate',\r\n      isSortable: true,\r\n      isFilterable: true,\r\n      iconName: 'DateTime',\r\n      minWidth: 200,\r\n      maxWidth: 300,\r\n      onRender: (item) => (new Date(item.createdDate).toLocaleString()),\r\n    },\r\n  ]);\r\n  const [sortedColumn] = useState(\r\n    {\r\n      key: 'createdon',\r\n      name: ' Created on',\r\n      fieldName: 'createdDate',\r\n      isSorted: true,\r\n      isSortedDescending: true,\r\n      isSortable: true,\r\n      isFilterable: true,\r\n      iconName: 'DateTime',\r\n      minWidth: 200,\r\n      maxWidth: 300,\r\n      onRender: (item) => (new Date(item.createdDate).toLocaleString()),\r\n    },\r\n  );\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    async function run() {\r\n      const result = await ReportingService.getTemplates();\r\n      if (mounted) {\r\n        setTemplates(result);\r\n      }\r\n    }\r\n    run();\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <Container fluid>\r\n      <PageHeader text=\"Templates\" />\r\n      <Separator />\r\n      <Row>\r\n        <Col xs={12}>\r\n          <CommandTable\r\n            commandItems={[\r\n              {\r\n                key: 'createItem',\r\n                text: 'Create',\r\n                iconProps: { iconName: 'BoxAdditionSolid' },\r\n                onClick: () => setCreatePanelOpen(true),\r\n              },\r\n              {\r\n                key: 'details',\r\n                text: 'Details',\r\n                disabled: selectionDetails.count === 0,\r\n                iconProps: { iconName: 'ProfileSearch' },\r\n                onClick: () => setDetailsPanelOpen(true),\r\n              },\r\n              {\r\n                key: 'editItem',\r\n                text: 'Edit',\r\n                disabled: selectionDetails.count === 0,\r\n                iconProps: { iconName: 'Edit' },\r\n                onClick: () => setEditPanelOpen(true),\r\n              },\r\n            ]}\r\n            tableProps={{\r\n              items: templates,\r\n              columns,\r\n              setSelectionDetails,\r\n              selectionMode: SelectionMode.single,\r\n              onItemInvoked: () => setDetailsPanelOpen(true),\r\n              layoutMode: DetailsListLayoutMode.justified,\r\n              sortedCol: sortedColumn,\r\n            }}\r\n          />\r\n        </Col>\r\n      </Row>\r\n      <CreateTemplatePanel\r\n        isOpen={createPanelOpen}\r\n        setOpen={setCreatePanelOpen}\r\n      />\r\n      <TemplateDetailsPanel\r\n        isOpen={detailsPanelOpen}\r\n        setOpen={setDetailsPanelOpen}\r\n        id={selectionDetails.items.length > 0\r\n          ? selectionDetails.items[0].id\r\n          : ''}\r\n        setEdit={setEditPanelOpen}\r\n      />\r\n      <TemplateEditPanel\r\n        isOpen={editPanelOpen}\r\n        setOpen={setEditPanelOpen}\r\n        updateTemplates={(template) => setTemplates(\r\n          (prev) => prev.map((t) => (t.id === template.id ? template : t)),\r\n        )}\r\n        id={selectionDetails.items.length > 0\r\n          ? selectionDetails.items[0].id\r\n          : ''}\r\n      />\r\n    </Container>\r\n  );\r\n};\r\n\r\nItemType.propTypes = {\r\n  item: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default ReportTemplates;\r\n","import axios from 'axios';\nimport { downloadBlob } from 'download.js';\nimport NotificationService from './NotificationService';\n\nconst ReportingService = {\n  /**\n   * Templates\n   */\n  templatesPath: '/api/reporting/templates',\n  templatePath: (id) => `/api/reporting/templates/${id}`,\n  templateDownloadPath: (id) => `/api/reporting/templates/${id}/download`,\n  templateParametersPath: (id) => `/api/reporting/templates/${id}/parameters`,\n  generateTemplatePath: '/api/reporting/templates/generate',\n  templateSamplePath: '/api/reporting/templates/sample',\n\n  async getTemplates() {\n    try {\n      const response = await axios.get(this.templatesPath);\n      if (response.status === 200) {\n        return response.data;\n      }\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\n    } catch (err) {\n      NotificationService\n        .notifyError((err.response && err.response.data && err.response.data.error));\n      throw err;\n    }\n  },\n\n  async getTemplate(id) {\n    try {\n      const response = await axios.get(this.templatePath(id));\n      if (response.status === 200) {\n        return response.data;\n      }\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\n    } catch (err) {\n      NotificationService\n        .notifyError((err.response && err.response.data && err.response.data.error));\n      throw err;\n    }\n  },\n\n  async createTemplate(formdata) {\n    try {\n      const response = await axios.post(this.templatesPath, formdata, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      });\n      if (response.status === 200) {\n        NotificationService\n          .notifySuccess('Tempalte successfully created');\n        return response.data;\n      }\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\n    } catch (err) {\n      NotificationService\n        .notifyError((err.response && err.response.data && err.response.data.error));\n      throw err;\n    }\n  },\n\n  async updateTemplate(id, update) {\n    try {\n      const response = await axios.put(this.templatePath(id), update, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      });\n      if (response.status === 200) {\n        return response.data;\n      }\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\n    } catch (err) {\n      NotificationService\n        .notifyError(err.response && err.response.data && err.response.data.error);\n      throw err;\n    }\n  },\n\n  async downloadTemplate(id, filename) {\n    try {\n      const response = await axios.post(this.templateDownloadPath(id), null, {\n        responseType: 'blob',\n      });\n      if (response.status === 200) {\n        await downloadBlob(filename, response.data);\n      }\n    } catch (err) {\n      NotificationService\n        .notifyError(err.response && err.response.data && err.response.data.error);\n      throw err;\n    }\n  },\n\n  async getTempalteParameters(id) {\n    try {\n      const response = await axios.get(this.templateParametersPath(id));\n      if (response.status === 200) {\n        return response.data;\n      }\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\n    } catch (err) {\n      NotificationService\n        .notifyError(err.response && err.response.data && err.response.data.error);\n      throw err;\n    }\n  },\n\n  async generateTemplate(formdata) {\n    try {\n      const response = await axios.post(this.generateTemplatePath, formdata, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n        responseType: 'blob',\n      });\n      if (response.status === 200) {\n        NotificationService\n          .notifySuccess('Tempalte successfully generated');\n        return response.data;\n      }\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\n    } catch (err) {\n      NotificationService\n        .notifyError((err.response && err.response.data && err.response.data.error));\n      throw err;\n    }\n  },\n\n  async getSample(aggregation) {\n    try {\n      const response = await axios.post(this.templateSamplePath, { aggregation });\n      if (response.status === 200) {\n        return response.data;\n      }\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\n    } catch (err) {\n      NotificationService\n        .notifyError((err.response && err.response.data && err.response.data.error));\n      throw err;\n    }\n  },\n\n  /**\n   * Reports\n   */\n  appraisalReportPath: '/api/reporting/reports/appraisal-report',\n  reportPath: (id) => `/api/reporting/reports/${id}`,\n  postReportGeneratePath: (id) => `/api/reporting/reports/${id}/generate`,\n  reportsPath: '/api/reporting/reports',\n\n  async generateAppraisalReport(params) {\n    try {\n      const response = await axios.post(this.appraisalReportPath, params, {\n        responseType: 'blob',\n      });\n      if (response.status === 200) {\n        return response.data;\n      } if (response.status === 204) {\n        NotificationService\n          .notifyError('No data available for this filter');\n        return null;\n      }\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\n    } catch (err) {\n      if (err.response && err.response.status === 400) {\n        NotificationService.notifyError('Invalid filters provided');\n      } else {\n        NotificationService\n          .notifyError(err.message);\n      }\n      return null;\n    }\n  },\n\n  async getReports() {\n    try {\n      const response = await axios.get(this.reportsPath);\n      if (response.status === 200) {\n        return response.data;\n      }\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\n    } catch (err) {\n      NotificationService\n        .notifyError((err.response && err.response.data && err.response.data.error));\n      throw err;\n    }\n  },\n\n  async getReport(id) {\n    try {\n      const response = await axios.get(this.reportPath(id));\n      if (response.status === 200) {\n        return response.data;\n      }\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\n    } catch (err) {\n      NotificationService\n        .notifyError((err.response && err.response.data && err.response.data.error));\n      throw err;\n    }\n  },\n\n  async addReport(formData) {\n    try {\n      const result = await axios.post(this.reportsPath, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      });\n      return result.data;\n    } catch (err) {\n      NotificationService\n        .notifyError((err.response && err.response.data && err.response.data.error));\n      throw err;\n    }\n  },\n\n  async updateReport(id, update) {\n    try {\n      const result = await axios.put(this.reportPath(id), update);\n      return result.data;\n    } catch (err) {\n      NotificationService\n        .notifyError((err.response && err.response.data && err.response.data.error));\n      throw err;\n    }\n  },\n\n  async generateReport(id, params) {\n    try {\n      const response = await axios.post(this.postReportGeneratePath(id), params, {\n        responseType: 'blob',\n      });\n      if (response.status === 200) {\n        return response.data;\n      }\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\n    } catch (err) {\n      NotificationService\n        .notifyError((err.response && err.response.data && err.response.data.error));\n      throw err;\n    }\n  },\n};\n\nexport default ReportingService;\n","import axios from 'axios';\r\nimport NotificationService from './NotificationService';\r\nimport {\r\n  and, perform, validate,\r\n} from './validators';\r\n\r\nfunction Item(item) {\r\n  this.id = item.id ? item.id : 0;\r\n  this.type = item.type;\r\n  this.status = item.status ? item.status : 'Active';\r\n  this.content = item.content ? item.content : '';\r\n  this.periodId = item.periodId;\r\n  this.organizationId = item.organizationId ? item.organizationId : null;\r\n  this.user = item.user;\r\n  this.modifiedUser = item.modifiedUser ? item.modifiedUser : null;\r\n  this.modifiedDate = item.modifiedDate ? item.modifiedDate : null;\r\n  this.createdUser = item.createdUser ? item.createdUser : item.user;\r\n  this.createdDate = item.createdDate ? item.createdDate : new Date();\r\n}\r\n\r\nconst AppraisalService = {\r\n  getPeriodsPath: '/api/periods',\r\n  addPeriodsPath: '/api/periods',\r\n  periodPath: (periodId) => `/api/periods/${periodId}`,\r\n  periodFinishPath: (periodId) => `/api/periods/${periodId}/finish`,\r\n  getItemsPath: (id) => `/api/periods/${id}`,\r\n  getUserItemsPath: (id, userId) => `/api/periods/${id}/users/${userId}`,\r\n  toggleLockPeriodPath: (id, userId) => `/api/periods/${id}/users/${userId}/toggle-lock`,\r\n  getItemPath: (periodId, itemId) => `/api/periods/${periodId}/items/${itemId}`,\r\n  getOrphansPath: '/api/appraisal-items',\r\n  addItemPath: '/api/appraisal-items',\r\n  updateItemPath: (id) => `/api/appraisal-items/${id}`,\r\n  deleteItemPath: (id) => `/api/appraisal-items/${id}`,\r\n  addItemToPeriodPath: (periodId) => `/api/periods/${periodId}/items`,\r\n  addUserItemPath: (periodId, userId) => `/api/periods/${periodId}/users/${userId}/items`,\r\n  updateItemInPeriodPath: (periodId, itemId) => `/api/periods/${periodId}/items/${itemId}`,\r\n  updateUserItemPath: (periodId, userId, itemId) => `/api/periods/${periodId}/users/${userId}/items/${itemId}`,\r\n  deleteItemFromPeriodPath: (periodId, itemId) => `/api/periods/${periodId}/items/${itemId}`,\r\n  deleteUserItemPath: (periodId, userId, itemId) => `/api/periods/${periodId}/users/${userId}/items/${itemId}`,\r\n  updateItemTypePath: (periodId, itemId) => `/api/periods/${periodId}/items/${itemId}/change-type`,\r\n  updateUserItemTypePath: (periodId, userId, itemId) => `/api/periods/${periodId}/users/${userId}/items/${itemId}/change-type`,\r\n\r\n  async getPeriods() {\r\n    try {\r\n      const response = await axios.get(this.getPeriodsPath);\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async getItems(periodId) {\r\n    try {\r\n      const response = await axios.get(this.getItemsPath(periodId));\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async getOrphans(type = null) {\r\n    try {\r\n      const response = await axios.get(this.getOrphansPath, {\r\n        params: {\r\n          type,\r\n        },\r\n      });\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async getUserItems(periodId, userId) {\r\n    try {\r\n      const response = await axios.get(this.getUserItemsPath(periodId, userId));\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async getItem(periodId, itemId) {\r\n    try {\r\n      const response = await axios.get(this.getItemPath(periodId, itemId));\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async addItem(periodId, item) {\r\n    try {\r\n      const validations = and([\r\n        validate.itemContentNotNull(item),\r\n        validate.isTruthy(item.user),\r\n      ]);\r\n      await perform(validations);\r\n      const response = await axios.post(this.addItemToPeriodPath(periodId), { ...item });\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async addOrphan(item) {\r\n    try {\r\n      const response = await axios.post(this.addItemPath, item);\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async addUserItem(periodId, userId, item) {\r\n    try {\r\n      const validations = and([\r\n        validate.itemContentNotNull(item),\r\n        validate.isTruthy(item.user),\r\n      ]);\r\n      await perform(validations);\r\n      const response = await axios.post(this.addUserItemPath(periodId, userId), { ...item });\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async updateItemInPeriod(periodId, item) {\r\n    try {\r\n      const validations = and([\r\n        validate.itemContentNotNull(item),\r\n        validate.isTruthy(item.user),\r\n        validate.isTruthy(item.periodId),\r\n      ]);\r\n      await perform(validations);\r\n      const response = await axios.put(this.updateItemInPeriodPath(periodId, item.id), { ...item });\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async updateItem(item) {\r\n    try {\r\n      const validations = and([\r\n        validate.itemContentNotNull(item),\r\n        validate.isTruthy(item.user),\r\n      ]);\r\n      await perform(validations);\r\n      const response = await axios.put(this.updateItemPath(item.id), item);\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async updateUserItem(periodId, userId, item) {\r\n    try {\r\n      const validations = and([\r\n        validate.itemContentNotNull(item),\r\n        validate.isTruthy(item.user),\r\n      ]);\r\n      await perform(validations);\r\n      const response = await axios.put(\r\n        this.updateUserItemPath(periodId, userId, item.id), { ...item },\r\n      );\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async updateItemType(periodId, item) {\r\n    try {\r\n      const validations = and([\r\n        validate.itemContentNotNull(item),\r\n        validate.isTruthy(item.user),\r\n      ]);\r\n      await perform(validations);\r\n      const response = await axios.post(\r\n        this.updateItemTypePath(periodId, item.id), { type: item.type },\r\n      );\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async updateUserItemType(periodId, userId, item) {\r\n    try {\r\n      const validations = and([\r\n        validate.itemContentNotNull(item),\r\n        validate.isTruthy(item.user),\r\n      ]);\r\n      await perform(validations);\r\n      const response = await axios.post(\r\n        this.updateUserItemTypePath(periodId, userId, item.id), { type: item.type },\r\n      );\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async deleteItemFromPeriod(periodId, itemId) {\r\n    try {\r\n      const response = await axios.delete(this.deleteItemFromPeriodPath(periodId, itemId));\r\n      if (response.status === 204) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async deleteItem(itemId) {\r\n    try {\r\n      const response = await axios.delete(this.deleteItemPath(itemId));\r\n      if (response.status === 204) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async deleteUserItem(periodId, userId, itemId) {\r\n    try {\r\n      const response = await axios.delete(this.deleteUserItemPath(periodId, userId, itemId));\r\n      if (response.status === 204) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async addPeriod(body) {\r\n    try {\r\n      const response = await axios.post(this.addPeriodsPath, body);\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async updatePeriod(periodId, body) {\r\n    try {\r\n      const response = await axios.put(this.periodPath(periodId), body);\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async finishPeriod(periodId) {\r\n    try {\r\n      const response = await axios.post(this.periodFinishPath(periodId), null, {\r\n        timeout: 200000,\r\n      });\r\n      if (response.status === 200) {\r\n        return true;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  /**\r\n   *\r\n   * @param {String} periodId\r\n   * @param {String} userId\r\n   * @returns {any} the updated period\r\n   */\r\n  async toggleLockPeriod(periodId, userId) {\r\n    try {\r\n      if (!userId) throw new Error('User is unknown');\r\n      const response = await axios.post(this.toggleLockPeriodPath(periodId, userId));\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notifyError((err.response && err.response.data.error) || err.message);\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  blankItem(periodId, user, type, status = 'Active') {\r\n    return new Item({\r\n      type,\r\n      status,\r\n      periodId,\r\n      user: user ? user.id : null,\r\n    });\r\n  },\r\n\r\n  /*\r\n   * Given the items, minimum amount and their type:\r\n   * this function should return back the adjusted items collection:\r\n   * 1. if number of items < min => add blank items to fullfil the list\r\n   * 2. if number of items > min and blank items > 1 => remove blank items until\r\n   * blank items = 1 or number of items = min\r\n   */\r\n  normalizeSet(periodId, user, items, min, type) {\r\n    const copy = items.slice().filter((i) => i.user !== null);\r\n    if (!user) {\r\n      return copy;\r\n    } if (type === 'Feedback' && items.length > 0) {\r\n      return copy;\r\n    }\r\n    // array of empty indexes ex: [1, 4, 5]\r\n    const empty = copy.map((i, idx) => idx).filter((i) => copy[i].content === '');\r\n    if (empty.length === 0) {\r\n      copy.push(this.blankItem(periodId, user, type));\r\n    }\r\n    let dif = min - copy.length;\r\n    while (dif > 0) {\r\n      copy.push(this.blankItem(periodId, user, type));\r\n      dif -= 1;\r\n    }\r\n    return copy;\r\n  },\r\n\r\n  async addItemToSet(periodId, item) {\r\n    try {\r\n      const result = await this.addItem(periodId, item);\r\n      return {\r\n        value: result,\r\n        error: null,\r\n      };\r\n    } catch (err) {\r\n      return {\r\n        value: null,\r\n        error: err,\r\n      };\r\n    }\r\n  },\r\n\r\n  async addUserItemToSet(periodId, userId, item) {\r\n    try {\r\n      const result = await this.addUserItem(periodId, userId, item);\r\n      return {\r\n        value: result,\r\n        error: null,\r\n      };\r\n    } catch (err) {\r\n      return {\r\n        value: null,\r\n        error: err,\r\n      };\r\n    }\r\n  },\r\n\r\n  async deleteItemFromSet(periodId, item) {\r\n    try {\r\n      const result = await this.deleteItemFromPeriod(periodId, item.id);\r\n      return {\r\n        value: result,\r\n        error: null,\r\n      };\r\n    } catch (err) {\r\n      return {\r\n        value: await this.getItem(periodId, item.id),\r\n        error: err,\r\n      };\r\n    }\r\n  },\r\n\r\n  async deleteUserItemFromSet(periodId, userId, item) {\r\n    try {\r\n      const result = await this.deleteUserItem(periodId, userId, item.id);\r\n      return {\r\n        value: result,\r\n        error: null,\r\n      };\r\n    } catch (err) {\r\n      return {\r\n        value: await this.getItem(periodId, item.id),\r\n        error: err,\r\n      };\r\n    }\r\n  },\r\n\r\n  async updateItemInSet(periodId, item) {\r\n    try {\r\n      const result = await this.updateItemInPeriod(periodId, item);\r\n      return {\r\n        value: result,\r\n        error: null,\r\n      };\r\n    } catch (err) {\r\n      return {\r\n        value: await this.getItem(periodId, item.id),\r\n        error: err,\r\n      };\r\n    }\r\n  },\r\n\r\n  async updateUserItemInSet(periodId, userId, item) {\r\n    try {\r\n      const result = await this.updateUserItem(periodId, userId, item);\r\n      return {\r\n        value: result,\r\n        error: null,\r\n      };\r\n    } catch (err) {\r\n      return {\r\n        value: await this.getItem(periodId, item.id),\r\n        error: err,\r\n      };\r\n    }\r\n  },\r\n};\r\n\r\nexport default AppraisalService;\r\n","import PageHeader from './PageHeader';\n\nexport default PageHeader;\n","/**\r\n * A Table with Command Panel ad a Search box.\r\n * Standartized to be used univarsally on any lists.\r\n */\r\nimport React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  Container, Row, Col,\r\n} from 'react-grid-system';\r\nimport {\r\n  CommandBar, SearchBox, Separator, Stack,\r\n} from '@fluentui/react';\r\nimport Table from '../table';\r\n\r\nconst CommandTable = ({ commandItems, tableProps }) => {\r\n  const [searchValue, setSearchValue] = useState('');\r\n\r\n  return (\r\n    <Container fluid>\r\n      <Row>\r\n        <Col xs={12}>\r\n          <Stack horizontalAlign=\"stretch\">\r\n            <Row align=\"start\">\r\n              <Col xs={12} sm={9}>\r\n                <CommandBar items={commandItems} />\r\n              </Col>\r\n              <Col xs={12} sm={3}>\r\n                <SearchBox\r\n                  placeholder=\"Search\"\r\n                  value={searchValue}\r\n                  onChange={(e) => setSearchValue(e && e.target ? e.target.value : '')}\r\n                />\r\n              </Col>\r\n            </Row>\r\n            <Separator />\r\n            {/* eslint-disable-next-line react/jsx-props-no-spreading */}\r\n            <Table {...tableProps} searchValue={searchValue} />\r\n          </Stack>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  );\r\n};\r\n\r\nCommandTable.propTypes = {\r\n  commandItems: PropTypes.arrayOf(PropTypes.shape({\r\n    key: PropTypes.string,\r\n    text: PropTypes.string,\r\n    disabled: PropTypes.bool,\r\n    iconProps: PropTypes.shape({\r\n      iconName: PropTypes.string,\r\n    }),\r\n    onClick: PropTypes.func,\r\n  })),\r\n  tableProps: PropTypes.shape({\r\n    columns: PropTypes.arrayOf(PropTypes.shape({\r\n      key: PropTypes.string,\r\n      name: PropTypes.string,\r\n      fieldName: PropTypes.string,\r\n      minWidth: PropTypes.number,\r\n      maxWidth: PropTypes.number,\r\n      isSortable: PropTypes.bool,\r\n      isFilterable: PropTypes.bool,\r\n      isResizable: PropTypes.bool,\r\n      sort: PropTypes.func,\r\n      onRender: PropTypes.func,\r\n    })).isRequired,\r\n    items: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\r\n    searchValue: PropTypes.string,\r\n    sortedCol: PropTypes.shape({\r\n      key: PropTypes.string,\r\n      name: PropTypes.string,\r\n      fieldName: PropTypes.string,\r\n      minWidth: PropTypes.number,\r\n      maxWidth: PropTypes.number,\r\n      isSortable: PropTypes.bool,\r\n      isFilterable: PropTypes.bool,\r\n      isResizable: PropTypes.bool,\r\n      sort: PropTypes.func,\r\n      onRender: PropTypes.func,\r\n      isSorted: PropTypes.bool,\r\n      isSortedDescending: PropTypes.bool,\r\n    }),\r\n    setSelectionDetails: PropTypes.func,\r\n  }).isRequired,\r\n};\r\n\r\nCommandTable.defaultProps = {\r\n  commandItems: null,\r\n};\r\n\r\nexport default CommandTable;\r\n","import EventEmitter from 'eventemitter3';\r\n\r\nconst eventEmitter = new EventEmitter();\r\n\r\nconst Emitter = {\r\n  on: (event, fn) => eventEmitter.on(event, fn),\r\n  once: (event, fn) => eventEmitter.once(event, fn),\r\n  off: (event, fn) => eventEmitter.off(event, fn),\r\n  emit: (event, payload) => eventEmitter.emit(event, payload),\r\n};\r\n\r\nObject.freeze(Emitter);\r\n\r\nexport default Emitter;\r\n","import Emitter from './Emitter';\r\n\r\nexport default Emitter;\r\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Stack, Text } from '@fluentui/react';\n\nconst styles = {\n  root: {\n    marginTop: '16px',\n    marginBottom: '16px',\n    align: 'center',\n  },\n};\n\nconst PageHeader = ({ text }) => (\n  <Stack horizontal horizontalAlign=\"center\">\n    <Text variant=\"xLarge\" styles={styles}>{text}</Text>\n  </Stack>\n);\n\nPageHeader.propTypes = {\n  text: PropTypes.string.isRequired,\n};\n\nexport default PageHeader;\n","import React, {\r\n  useEffect,\r\n  useState,\r\n} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  Icon, Text, concatStyleSets, makeStyles,\r\n} from '@fluentui/react';\r\nimport { Collapse } from 'react-collapse';\r\nimport clsx from 'clsx';\r\nimport './styles.css';\r\n\r\nconst defstyles = (theme, compact = false) => ({\r\n  root: {\r\n    boxShadow: theme.effects.elevation4,\r\n    width: '100%',\r\n    border: `1px solid ${theme.palette.themeLight}`,\r\n  },\r\n  container: {\r\n    outline: 'none',\r\n    borderTop: `1px solid ${theme.palette.themeLight}`,\r\n    '&:first-child': {\r\n      borderTop: 'none',\r\n    },\r\n    '& > div:first-child': {\r\n      outline: 'none',\r\n    },\r\n  },\r\n  header: {\r\n    cursor: 'pointer',\r\n    padding: `${compact ? '8px' : '16px'}`,\r\n  },\r\n  headerIcon: {\r\n    fontSize: '0.7em',\r\n    transition: '.2s transform',\r\n  },\r\n  headerIconOpen: {\r\n    transform: 'rotate(90deg)',\r\n    transformOrigin: 'center',\r\n  },\r\n  itemContent: {\r\n    padding: `${compact ? '8px' : '16px'}`,\r\n  },\r\n});\r\n\r\n/**\r\n * DEFAULT RENDER FUNCTIONS\r\n */\r\n\r\nconst defaultRenderHeaderFold = (item, isOpen, classes) => (\r\n  <span style={{\r\n    paddingRight: '8px',\r\n  }}\r\n  >\r\n    <Icon\r\n      className={clsx({\r\n        [classes.headerIcon]: true,\r\n        [classes.headerIconOpen]: isOpen,\r\n      })}\r\n      iconName=\"ChevronRightMed\"\r\n    />\r\n  </span>\r\n);\r\n\r\nconst defaultRenderHeaderText = (item) => <Text variant=\"medium\">{item.text}</Text>;\r\n\r\nconst defaultRenderItemContent = (item) => (\r\n  <p>\r\n    {item.text}\r\n  </p>\r\n);\r\n\r\n/*\r\n      Header has:\r\n       ____________________________\r\n      | (Fold button)             |\r\n      | >    Header text          |\r\n      |___________________________|\r\n*/\r\nconst defaultRenderHeader = (item, headerProps, classProps) => {\r\n  const classes = classProps;\r\n  return (\r\n    <div style={{\r\n      display: 'flex',\r\n      flexFlow: 'row nowrap',\r\n      alignItems: 'center',\r\n    }}\r\n    >\r\n      {headerProps.onRenderHeaderFold(item, headerProps.isOpen, classes)}\r\n      {headerProps.onRenderHeaderText(item, headerProps.isOpen, classes)}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst AccordionItemContainer = ({\r\n  item, headerProps, onRenderItem, isOpen, onToggle, classes,\r\n}) => (\r\n  <div\r\n    className={classes.container}\r\n  >\r\n    <div\r\n      role=\"menuitem\"\r\n      tabIndex={0}\r\n      onClick={(evt) => onToggle(evt, item, !isOpen)}\r\n      onKeyPress={(evt) => onToggle(evt, item, !isOpen)}\r\n      className={classes.header}\r\n    >\r\n      {headerProps.onRenderHeader(item, { ...headerProps, isOpen }, classes)}\r\n    </div>\r\n    <Collapse isOpened={isOpen}>\r\n      <div className={classes.itemContent}>\r\n        {onRenderItem(item)}\r\n      </div>\r\n    </Collapse>\r\n  </div>\r\n);\r\n\r\n/**\r\n * Accordion Component\r\n * onRenderHeader - renders the whole header\r\n * onRenderHeaderFold - custom render for the fold item\r\n * onRenderHeaderText - customer render for the header text content\r\n */\r\nconst Accordion = ({\r\n  items,\r\n  getKey,\r\n  headerProps,\r\n  onRenderItem,\r\n  exclusive,\r\n  styles,\r\n  compact,\r\n  onToggle,\r\n}) => {\r\n  // Concatenate user provided styles with default styles if needed\r\n  const classes = makeStyles((theme) => concatStyleSets(defstyles(theme, compact), styles))();\r\n  const [open, setOpen] = useState(() => {\r\n    const result = {};\r\n    items.forEach((item) => {\r\n      const key = getKey(item);\r\n      result[key] = Boolean(item.isOpen) || false;\r\n    });\r\n    return result;\r\n  });\r\n  const defHeaderProps = {\r\n    onRenderHeader: defaultRenderHeader,\r\n    onRenderHeaderFold: defaultRenderHeaderFold,\r\n    onRenderHeaderText: defaultRenderHeaderText,\r\n    ...headerProps,\r\n  };\r\n\r\n  const handleSetOpen = (item) => {\r\n    if (!exclusive) {\r\n      return (evt, i, val) => setOpen((prev) => ({\r\n        ...prev,\r\n        [getKey(item)]: val,\r\n      }));\r\n    }\r\n    return (evt, i, val) => setOpen((prev) => {\r\n      const copy = { ...prev };\r\n      const itemKey = getKey(item);\r\n      Object.keys(copy).forEach((key) => {\r\n        copy[key] = (key === itemKey ? val : false);\r\n      });\r\n      return copy;\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    setOpen(() => {\r\n      const result = {};\r\n      items.forEach((item) => {\r\n        const key = getKey(item);\r\n        result[key] = Boolean(item.isOpen) || false;\r\n      });\r\n      return result;\r\n    });\r\n  }, [items, getKey]);\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      {\r\n        items.map((item) => (\r\n          <AccordionItemContainer\r\n            item={item}\r\n            headerProps={defHeaderProps}\r\n            onRenderItem={onRenderItem}\r\n            isOpen={Boolean(open[getKey(item)])}\r\n            setOpen={handleSetOpen(item)}\r\n            getKey={getKey}\r\n            classes={classes}\r\n            key={getKey(item)}\r\n            onToggle={onToggle || handleSetOpen(item)}\r\n          />\r\n        ))\r\n      }\r\n    </div>\r\n  );\r\n};\r\n\r\nAccordion.propTypes = {\r\n  items: PropTypes.arrayOf(PropTypes.shape({\r\n    key: PropTypes.string,\r\n    text: PropTypes.string,\r\n    header: PropTypes.string,\r\n    isOpen: PropTypes.bool,\r\n  })).isRequired,\r\n  getKey: PropTypes.func,\r\n  onRenderItem: PropTypes.func,\r\n  exclusive: PropTypes.bool,\r\n  headerProps: PropTypes.shape({\r\n    onRenderHeader: PropTypes.func,\r\n    onRenderHeaderFold: PropTypes.func,\r\n    onRenderHeaderText: PropTypes.func,\r\n  }),\r\n  styles: PropTypes.shape({\r\n    root: PropTypes.shape({}),\r\n    container: PropTypes.shape({}),\r\n    header: PropTypes.shape({}),\r\n    headerIcon: PropTypes.shape({}),\r\n    headerIconOpen: PropTypes.shape({}),\r\n    itemContent: PropTypes.shape({}),\r\n  }),\r\n  compact: PropTypes.bool,\r\n  onToggle: PropTypes.func,\r\n};\r\n\r\nAccordion.defaultProps = {\r\n  getKey: (item) => item.key,\r\n  onRenderItem: defaultRenderItemContent,\r\n  exclusive: false,\r\n  headerProps: {\r\n    onRenderHeader: defaultRenderHeader,\r\n    onRenderHeaderFold: defaultRenderHeaderFold,\r\n    onRenderHeaderText: defaultRenderHeaderText,\r\n  },\r\n  styles: {},\r\n  compact: false,\r\n  onToggle: null,\r\n};\r\n\r\nAccordionItemContainer.propTypes = {\r\n  item: PropTypes.shape({}).isRequired,\r\n  onRenderItem: PropTypes.func.isRequired,\r\n  isOpen: PropTypes.bool.isRequired,\r\n  headerProps: PropTypes.shape({\r\n    onRenderHeader: PropTypes.func,\r\n    onRenderHeaderFold: PropTypes.func,\r\n    onRenderHeaderText: PropTypes.func,\r\n  }),\r\n  classes: PropTypes.shape({\r\n    root: PropTypes.string,\r\n    container: PropTypes.string,\r\n    header: PropTypes.string,\r\n    headerIcon: PropTypes.string,\r\n    headerIconOpen: PropTypes.string,\r\n    itemContent: PropTypes.string,\r\n  }).isRequired,\r\n  onToggle: PropTypes.func.isRequired,\r\n};\r\n\r\nAccordionItemContainer.defaultProps = {\r\n  headerProps: {\r\n    onRenderHeader: defaultRenderHeader,\r\n    onRenderHeaderFold: defaultRenderHeaderFold,\r\n    onRenderHeaderText: defaultRenderHeaderText,\r\n  },\r\n};\r\n\r\nexport default Accordion;\r\n"],"sourceRoot":""}