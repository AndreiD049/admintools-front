{"version":3,"sources":["components/widgets/home-planned-items/components/HomePlannedItemsDisplay/HomePlannedItemsDisplay.jsx","components/widgets/home-planned-items/components/HomePlannedItemsDisplay/index.js","components/widgets/home-planned-items/components/HomePlannedItemsInfoProvider/HomePlannedItemsInfoProvider.jsx","components/widgets/home-planned-items/HomePlannedItems.jsx","components/widgets/home-planned-items/index.js"],"names":["useStyles","makeStyles","theme","root","padding","spacing","m","header","textAlign","subHeader","color","palette","neutralTertiary","HomePlannedItemsDisplay","items","setItems","classes","useState","newItemVal","setNewItemVal","setType","item","type","a","AppraisalService","updateItem","result","prev","copy","map","i","id","checkboxChangeHandler","e","target","checked","addItem","content","createdDate","Date","modifiedDate","status","periodId","relatedItemId","addOrphan","concat","removeItem","deleteItem","filter","className","Stack","Text","block","variant","Separator","List","onRenderCell","horizontalAlign","verticalAlign","horizontal","Checkbox","name","onChange","Item","grow","CommandButton","iconProps","iconName","disabled","onClick","onSubmit","preventDefault","TextField","autoComplete","value","suffix","onRenderSuffix","default","HomePlannedItemsInfoProvider","useEffect","getOrphans","run","HomePlannedItems"],"mappings":"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","file":"static/js/4.c9fc8c6b.chunk.js","sourcesContent":["import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  Checkbox,\r\n  CommandButton,\r\n  List,\r\n  makeStyles,\r\n  Separator,\r\n  Stack,\r\n  Text,\r\n  TextField,\r\n} from '@fluentui/react';\r\nimport AppraisalService from '../../../../../services/AppraisalService';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    padding: theme.spacing.m,\r\n  },\r\n  header: {\r\n    textAlign: 'center',\r\n  },\r\n  subHeader: {\r\n    textAlign: 'center',\r\n    color: theme.palette.neutralTertiary,\r\n  },\r\n}));\r\n\r\nconst HomePlannedItemsDisplay = ({ items, setItems }) => {\r\n  const classes = useStyles();\r\n  const [newItemVal, setNewItemVal] = useState('');\r\n\r\n  const handleInputChange = (e) => {\r\n    setNewItemVal(e.target.value);\r\n  };\r\n\r\n  const setType = async (item, type) => {\r\n    const result = await AppraisalService.updateItem({ ...item, type });\r\n    setItems((prev) => {\r\n      const copy = { ...item, type: result.type };\r\n      return prev.map((i) => (i.id === item.id ? copy : i));\r\n    });\r\n  };\r\n\r\n  const checkboxChangeHandler = (item) => (e) => {\r\n    if (e.target.checked) {\r\n      setType(item, 'Achieved');\r\n    } else {\r\n      setType(item, 'Planned');\r\n    }\r\n  };\r\n\r\n  const addItem = async (content) => {\r\n    if (content !== '') {\r\n      const item = {\r\n        content,\r\n        createdDate: new Date(),\r\n        modifiedDate: new Date(),\r\n        status: 'Active',\r\n        type: 'Planned',\r\n        periodId: null,\r\n        relatedItemId: null,\r\n      };\r\n      const result = await AppraisalService.addOrphan(item);\r\n      setItems((prev) => prev.concat(result));\r\n      setNewItemVal('');\r\n    }\r\n  };\r\n\r\n  const removeItem = async (item) => {\r\n    await AppraisalService.deleteItem(item.id);\r\n    setItems((prev) => prev.filter((i) => i.id !== item.id));\r\n  };\r\n\r\n  const renderCell = (item) => (\r\n    <Stack horizontalAlign=\"start\" verticalAlign=\"center\" horizontal>\r\n      <Checkbox name={item.content} checked={item.type === 'Achieved'} onChange={checkboxChangeHandler(item)} />\r\n      <Stack.Item grow={1}>\r\n        <Text variant=\"medium\">{item.content}</Text>\r\n      </Stack.Item>\r\n      <CommandButton iconProps={{ iconName: 'ChromeClose' }} disabled={item.relatedItemId !== null} onClick={() => removeItem(item)} />\r\n    </Stack>\r\n  );\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Stack>\r\n        <Text block className={classes.header} variant=\"mediumPlus\">Planned items</Text>\r\n        <Text block className={classes.subHeader} variant=\"medium\">Here you will see items planned over past periods</Text>\r\n        <Separator />\r\n        <List items={items} onRenderCell={renderCell} />\r\n        <Separator />\r\n        <form\r\n          onSubmit={(e) => {\r\n            e.preventDefault();\r\n            addItem(newItemVal);\r\n          }}\r\n        >\r\n          <TextField\r\n            autoComplete=\"off\"\r\n            value={newItemVal}\r\n            onChange={handleInputChange}\r\n            suffix=\"Add\"\r\n            onRenderSuffix={({ suffix }) => (\r\n              <CommandButton\r\n                type=\"submit\"\r\n                default\r\n                iconProps={{ iconName: 'Add' }}\r\n              >\r\n                {suffix}\r\n              </CommandButton>\r\n            )}\r\n          />\r\n        </form>\r\n      </Stack>\r\n    </div>\r\n  );\r\n};\r\n\r\nHomePlannedItemsDisplay.propTypes = {\r\n  items: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\r\n  setItems: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default HomePlannedItemsDisplay;\r\n","import HomePlannedItemsDisplay from './HomePlannedItemsDisplay';\r\n\r\nexport default HomePlannedItemsDisplay;\r\n","import { useEffect } from 'react';\r\nimport AppraisalService from '../../../../../services/AppraisalService';\r\n\r\nconst HomePlannedItemsInfoProvider = ({ setItems }) => {\r\n  useEffect(() => {\r\n    async function run() {\r\n      setItems(await AppraisalService.getOrphans('Planned,Achieved'));\r\n    }\r\n    run();\r\n  }, [setItems]);\r\n\r\n  return null;\r\n};\r\n\r\nexport default HomePlannedItemsInfoProvider;\r\n","import React, { useState } from 'react';\r\n\r\nimport HomePlannedItemsDisplay from './components/HomePlannedItemsDisplay';\r\nimport HomePlannedItemsInfoProvider from './components/HomePlannedItemsInfoProvider/HomePlannedItemsInfoProvider';\r\n\r\nconst HomePlannedItems = () => {\r\n  const [items, setItems] = useState([]);\r\n\r\n  return (\r\n    <>\r\n      <HomePlannedItemsInfoProvider setItems={setItems} />\r\n      <HomePlannedItemsDisplay items={items} setItems={setItems} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default HomePlannedItems;\r\n","import HomePlannedItems from './HomePlannedItems';\r\n\r\nexport default HomePlannedItems;\r\n"],"sourceRoot":""}